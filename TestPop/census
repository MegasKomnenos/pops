namespace = census

census.01 = {
	type = empty
	hidden = yes
	
	immediate = {
		modi_refresh = yes
	}
	
	option = {
	}
}

census.02 = {
	type = empty
	hidden = yes
	
	immediate = {
		prod_update_instances = yes
		
		forest_main = yes
	}
	
	option = {
	}
}

census.03 = {
	type = empty
	hidden = yes
	
	immediate = {
		mil_maa_ai = yes
		stockpile_ai = yes
		
		if = {
			limit = {
				NOT = {
					has_global_variable = sim_i
				}
			}
			every_player = {
				mil_maa_player = yes
				stockpile_player = yes
			}
		}
	}
	
	option = {
	}
}

census.04 = {
	type = empty
	hidden = yes
	
	immediate = {
		every_province = {
			limit = {
				is_valid_prov = yes
			}
			pop_update_demand = yes
		}
	}
	
	option = {
	}
}

census.05 = {
	type = empty
	hidden = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					NOT = {
						has_global_variable = trade_link_refresh
					}
					
					global_var:trade_link_refresh = 0
				}
			}
			set_global_variable = { name = trade_link_refresh value = 10 }
			
			trade_set_link = yes
		}
		else = {
			change_global_variable = { name = trade_link_refresh subtract = 1 }
		}
	}
	
	option = {
	}
}

census.06 = {
	type = empty
	hidden = yes
	
	immediate = {
		trade_do_trade = yes
	}
	
	option = {
	}
}

census.07 = {
	type = empty
	hidden = yes
	
	immediate = {
		trade_resolve_trade = yes
		trade_update_merchant = yes
		trade_update_price = yes
	}
	
	option = {
	}
}

census.08 = {
	type = empty
	hidden = yes
	
	immediate = {
		if = {
			limit = {
				has_global_variable_list = build_slots_active
					
				global_variable_list_size = { name = build_slots_active value >= 1}
			}
			every_in_global_list = {
				variable = build_slots_active
				
				build_update_project = yes
			}
		}
	}
	
	option = {
	}
}

census.09 = {
	type = empty
	hidden = yes
	
	immediate = {
		every_province = {
			limit = {
				is_valid_prov = yes
			}
			pop_resolve_demand = yes
		}
	}
	
	option = {
	}
}

census.10 = {
	type = empty
	hidden = yes
	
	immediate = {
		while = {
			count = 12
			
			mil_main = yes
		}
	}
	
	option = {
	}
}

census.11 = {
	type = empty
	hidden = yes
	
	immediate = {
		stat_main = yes
	}
	
	option = {
	}
}

census.12 = {
	type = empty
	hidden = yes
	
	immediate = {
		mil_main = yes
	}
	
	option = {
	}
}