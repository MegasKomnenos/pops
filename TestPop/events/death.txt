namespace = death
death.01 = { 
	type = empty
	hidden = yes
	immediate = { 
		if = { 
			limit = { 
				is_ruler = yes
				is_landed = yes
			}
			primary_heir = { 
				if = { 
					limit = { 
						is_ruler = no
					}
					clear_variable_list = trade_dat_food
					clear_variable_list = array_trade_dat_food
					set_variable = { 
						name = trade_in_food
						value = 0
					}
					set_variable = { 
						name = trade_out_food
						value = 0
					}
					set_variable = { 
						name = trade_earn_food
						value = 0
					}
					set_variable = { 
						name = trade_pay_food
						value = 0
					}
					set_variable = { 
						name = trade_has_food
						value = 0
					}
					set_variable = { 
						name = trade_want_food
						value = 0
					}
					set_variable = { 
						name = trade_price_food
						value = 0
					}
					set_variable = { 
						name = trade_sply_food
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_food
						value = 0
					}
					clear_variable_list = trade_dat_cereal
					clear_variable_list = array_trade_dat_cereal
					set_variable = { 
						name = trade_in_cereal
						value = 0
					}
					set_variable = { 
						name = trade_out_cereal
						value = 0
					}
					set_variable = { 
						name = trade_earn_cereal
						value = 0
					}
					set_variable = { 
						name = trade_pay_cereal
						value = 0
					}
					set_variable = { 
						name = trade_has_cereal
						value = 0
					}
					set_variable = { 
						name = trade_want_cereal
						value = 0
					}
					set_variable = { 
						name = trade_price_cereal
						value = 0
					}
					set_variable = { 
						name = trade_sply_cereal
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_cereal
						value = 0
					}
					clear_variable_list = trade_dat_salted
					clear_variable_list = array_trade_dat_salted
					set_variable = { 
						name = trade_in_salted
						value = 0
					}
					set_variable = { 
						name = trade_out_salted
						value = 0
					}
					set_variable = { 
						name = trade_earn_salted
						value = 0
					}
					set_variable = { 
						name = trade_pay_salted
						value = 0
					}
					set_variable = { 
						name = trade_has_salted
						value = 0
					}
					set_variable = { 
						name = trade_want_salted
						value = 0
					}
					set_variable = { 
						name = trade_price_salted
						value = 0
					}
					set_variable = { 
						name = trade_sply_salted
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_salted
						value = 0
					}
					clear_variable_list = trade_dat_salt
					clear_variable_list = array_trade_dat_salt
					set_variable = { 
						name = trade_in_salt
						value = 0
					}
					set_variable = { 
						name = trade_out_salt
						value = 0
					}
					set_variable = { 
						name = trade_earn_salt
						value = 0
					}
					set_variable = { 
						name = trade_pay_salt
						value = 0
					}
					set_variable = { 
						name = trade_has_salt
						value = 0
					}
					set_variable = { 
						name = trade_want_salt
						value = 0
					}
					set_variable = { 
						name = trade_price_salt
						value = 0
					}
					set_variable = { 
						name = trade_sply_salt
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_salt
						value = 0
					}
					clear_variable_list = trade_dat_mud
					clear_variable_list = array_trade_dat_mud
					set_variable = { 
						name = trade_in_mud
						value = 0
					}
					set_variable = { 
						name = trade_out_mud
						value = 0
					}
					set_variable = { 
						name = trade_earn_mud
						value = 0
					}
					set_variable = { 
						name = trade_pay_mud
						value = 0
					}
					set_variable = { 
						name = trade_has_mud
						value = 0
					}
					set_variable = { 
						name = trade_want_mud
						value = 0
					}
					set_variable = { 
						name = trade_price_mud
						value = 0
					}
					set_variable = { 
						name = trade_sply_mud
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_mud
						value = 0
					}
					clear_variable_list = trade_dat_fuel
					clear_variable_list = array_trade_dat_fuel
					set_variable = { 
						name = trade_in_fuel
						value = 0
					}
					set_variable = { 
						name = trade_out_fuel
						value = 0
					}
					set_variable = { 
						name = trade_earn_fuel
						value = 0
					}
					set_variable = { 
						name = trade_pay_fuel
						value = 0
					}
					set_variable = { 
						name = trade_has_fuel
						value = 0
					}
					set_variable = { 
						name = trade_want_fuel
						value = 0
					}
					set_variable = { 
						name = trade_price_fuel
						value = 0
					}
					set_variable = { 
						name = trade_sply_fuel
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_fuel
						value = 0
					}
					clear_variable_list = trade_dat_fiber
					clear_variable_list = array_trade_dat_fiber
					set_variable = { 
						name = trade_in_fiber
						value = 0
					}
					set_variable = { 
						name = trade_out_fiber
						value = 0
					}
					set_variable = { 
						name = trade_earn_fiber
						value = 0
					}
					set_variable = { 
						name = trade_pay_fiber
						value = 0
					}
					set_variable = { 
						name = trade_has_fiber
						value = 0
					}
					set_variable = { 
						name = trade_want_fiber
						value = 0
					}
					set_variable = { 
						name = trade_price_fiber
						value = 0
					}
					set_variable = { 
						name = trade_sply_fiber
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_fiber
						value = 0
					}
					clear_variable_list = trade_dat_timber
					clear_variable_list = array_trade_dat_timber
					set_variable = { 
						name = trade_in_timber
						value = 0
					}
					set_variable = { 
						name = trade_out_timber
						value = 0
					}
					set_variable = { 
						name = trade_earn_timber
						value = 0
					}
					set_variable = { 
						name = trade_pay_timber
						value = 0
					}
					set_variable = { 
						name = trade_has_timber
						value = 0
					}
					set_variable = { 
						name = trade_want_timber
						value = 0
					}
					set_variable = { 
						name = trade_price_timber
						value = 0
					}
					set_variable = { 
						name = trade_sply_timber
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_timber
						value = 0
					}
					clear_variable_list = trade_dat_metal
					clear_variable_list = array_trade_dat_metal
					set_variable = { 
						name = trade_in_metal
						value = 0
					}
					set_variable = { 
						name = trade_out_metal
						value = 0
					}
					set_variable = { 
						name = trade_earn_metal
						value = 0
					}
					set_variable = { 
						name = trade_pay_metal
						value = 0
					}
					set_variable = { 
						name = trade_has_metal
						value = 0
					}
					set_variable = { 
						name = trade_want_metal
						value = 0
					}
					set_variable = { 
						name = trade_price_metal
						value = 0
					}
					set_variable = { 
						name = trade_sply_metal
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_metal
						value = 0
					}
					clear_variable_list = trade_dat_exotics_w
					clear_variable_list = array_trade_dat_exotics_w
					set_variable = { 
						name = trade_in_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_w
						value = 0
					}
					clear_variable_list = trade_dat_exotics_e
					clear_variable_list = array_trade_dat_exotics_e
					set_variable = { 
						name = trade_in_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_e
						value = 0
					}
					clear_variable_list = trade_dat_exotics_g
					clear_variable_list = array_trade_dat_exotics_g
					set_variable = { 
						name = trade_in_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_g
						value = 0
					}
					clear_variable_list = trade_dat_textile
					clear_variable_list = array_trade_dat_textile
					set_variable = { 
						name = trade_in_textile
						value = 0
					}
					set_variable = { 
						name = trade_out_textile
						value = 0
					}
					set_variable = { 
						name = trade_earn_textile
						value = 0
					}
					set_variable = { 
						name = trade_pay_textile
						value = 0
					}
					set_variable = { 
						name = trade_has_textile
						value = 0
					}
					set_variable = { 
						name = trade_want_textile
						value = 0
					}
					set_variable = { 
						name = trade_price_textile
						value = 0
					}
					set_variable = { 
						name = trade_sply_textile
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_textile
						value = 0
					}
					clear_variable_list = trade_dat_pottery
					clear_variable_list = array_trade_dat_pottery
					set_variable = { 
						name = trade_in_pottery
						value = 0
					}
					set_variable = { 
						name = trade_out_pottery
						value = 0
					}
					set_variable = { 
						name = trade_earn_pottery
						value = 0
					}
					set_variable = { 
						name = trade_pay_pottery
						value = 0
					}
					set_variable = { 
						name = trade_has_pottery
						value = 0
					}
					set_variable = { 
						name = trade_want_pottery
						value = 0
					}
					set_variable = { 
						name = trade_price_pottery
						value = 0
					}
					set_variable = { 
						name = trade_sply_pottery
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_pottery
						value = 0
					}
					clear_variable_list = trade_dat_tools
					clear_variable_list = array_trade_dat_tools
					set_variable = { 
						name = trade_in_tools
						value = 0
					}
					set_variable = { 
						name = trade_out_tools
						value = 0
					}
					set_variable = { 
						name = trade_earn_tools
						value = 0
					}
					set_variable = { 
						name = trade_pay_tools
						value = 0
					}
					set_variable = { 
						name = trade_has_tools
						value = 0
					}
					set_variable = { 
						name = trade_want_tools
						value = 0
					}
					set_variable = { 
						name = trade_price_tools
						value = 0
					}
					set_variable = { 
						name = trade_sply_tools
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_tools
						value = 0
					}
					clear_variable_list = trade_dat_armaments
					clear_variable_list = array_trade_dat_armaments
					set_variable = { 
						name = trade_in_armaments
						value = 0
					}
					set_variable = { 
						name = trade_out_armaments
						value = 0
					}
					set_variable = { 
						name = trade_earn_armaments
						value = 0
					}
					set_variable = { 
						name = trade_pay_armaments
						value = 0
					}
					set_variable = { 
						name = trade_has_armaments
						value = 0
					}
					set_variable = { 
						name = trade_want_armaments
						value = 0
					}
					set_variable = { 
						name = trade_price_armaments
						value = 0
					}
					set_variable = { 
						name = trade_sply_armaments
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_armaments
						value = 0
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_food
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_food
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_food
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_food
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_food
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_food
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_food
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_food
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_food
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_food
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_food
						multiply = var:trade_has_food
					}
				}
				change_variable = { 
					name = trade_price_food
					multiply = var:trade_has_food
				}
				change_variable = { 
					name = trade_price_food
					add = prev.var:trade_price_food
				}
				change_variable = { 
					name = trade_in_food
					add = prev.var:trade_in_food
				}
				change_variable = { 
					name = trade_out_food
					add = prev.var:trade_out_food
				}
				change_variable = { 
					name = trade_earn_food
					add = prev.var:trade_earn_food
				}
				change_variable = { 
					name = trade_pay_food
					add = prev.var:trade_pay_food
				}
				change_variable = { 
					name = trade_has_food
					add = prev.var:trade_has_food
				}
				change_variable = { 
					name = trade_want_food
					add = prev.var:trade_want_food
				}
				change_variable = { 
					name = trade_sply_food
					add = prev.var:trade_sply_food
				}
				change_variable = { 
					name = trade_dmnd_food
					add = prev.var:trade_dmnd_food
				}
				if = { 
					limit = { 
						has_variable = trade_has_food
						var:trade_has_food > 0
					}
					change_variable = { 
						name = trade_price_food
						divide = var:trade_has_food
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_cereal
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_cereal
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_cereal
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_cereal
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_cereal
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_cereal
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_cereal
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_cereal
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_cereal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_cereal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_cereal
						multiply = var:trade_has_cereal
					}
				}
				change_variable = { 
					name = trade_price_cereal
					multiply = var:trade_has_cereal
				}
				change_variable = { 
					name = trade_price_cereal
					add = prev.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_in_cereal
					add = prev.var:trade_in_cereal
				}
				change_variable = { 
					name = trade_out_cereal
					add = prev.var:trade_out_cereal
				}
				change_variable = { 
					name = trade_earn_cereal
					add = prev.var:trade_earn_cereal
				}
				change_variable = { 
					name = trade_pay_cereal
					add = prev.var:trade_pay_cereal
				}
				change_variable = { 
					name = trade_has_cereal
					add = prev.var:trade_has_cereal
				}
				change_variable = { 
					name = trade_want_cereal
					add = prev.var:trade_want_cereal
				}
				change_variable = { 
					name = trade_sply_cereal
					add = prev.var:trade_sply_cereal
				}
				change_variable = { 
					name = trade_dmnd_cereal
					add = prev.var:trade_dmnd_cereal
				}
				if = { 
					limit = { 
						has_variable = trade_has_cereal
						var:trade_has_cereal > 0
					}
					change_variable = { 
						name = trade_price_cereal
						divide = var:trade_has_cereal
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_salted
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_salted
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_salted
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salted
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_salted
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_salted
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_salted
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_salted
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salted
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salted
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_salted
						multiply = var:trade_has_salted
					}
				}
				change_variable = { 
					name = trade_price_salted
					multiply = var:trade_has_salted
				}
				change_variable = { 
					name = trade_price_salted
					add = prev.var:trade_price_salted
				}
				change_variable = { 
					name = trade_in_salted
					add = prev.var:trade_in_salted
				}
				change_variable = { 
					name = trade_out_salted
					add = prev.var:trade_out_salted
				}
				change_variable = { 
					name = trade_earn_salted
					add = prev.var:trade_earn_salted
				}
				change_variable = { 
					name = trade_pay_salted
					add = prev.var:trade_pay_salted
				}
				change_variable = { 
					name = trade_has_salted
					add = prev.var:trade_has_salted
				}
				change_variable = { 
					name = trade_want_salted
					add = prev.var:trade_want_salted
				}
				change_variable = { 
					name = trade_sply_salted
					add = prev.var:trade_sply_salted
				}
				change_variable = { 
					name = trade_dmnd_salted
					add = prev.var:trade_dmnd_salted
				}
				if = { 
					limit = { 
						has_variable = trade_has_salted
						var:trade_has_salted > 0
					}
					change_variable = { 
						name = trade_price_salted
						divide = var:trade_has_salted
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_salt
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_salt
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_salt
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salt
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_salt
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_salt
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_salt
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_salt
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salt
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salt
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_salt
						multiply = var:trade_has_salt
					}
				}
				change_variable = { 
					name = trade_price_salt
					multiply = var:trade_has_salt
				}
				change_variable = { 
					name = trade_price_salt
					add = prev.var:trade_price_salt
				}
				change_variable = { 
					name = trade_in_salt
					add = prev.var:trade_in_salt
				}
				change_variable = { 
					name = trade_out_salt
					add = prev.var:trade_out_salt
				}
				change_variable = { 
					name = trade_earn_salt
					add = prev.var:trade_earn_salt
				}
				change_variable = { 
					name = trade_pay_salt
					add = prev.var:trade_pay_salt
				}
				change_variable = { 
					name = trade_has_salt
					add = prev.var:trade_has_salt
				}
				change_variable = { 
					name = trade_want_salt
					add = prev.var:trade_want_salt
				}
				change_variable = { 
					name = trade_sply_salt
					add = prev.var:trade_sply_salt
				}
				change_variable = { 
					name = trade_dmnd_salt
					add = prev.var:trade_dmnd_salt
				}
				if = { 
					limit = { 
						has_variable = trade_has_salt
						var:trade_has_salt > 0
					}
					change_variable = { 
						name = trade_price_salt
						divide = var:trade_has_salt
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_mud
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_mud
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_mud
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_mud
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_mud
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_mud
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_mud
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_mud
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_mud
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_mud
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_mud
						multiply = var:trade_has_mud
					}
				}
				change_variable = { 
					name = trade_price_mud
					multiply = var:trade_has_mud
				}
				change_variable = { 
					name = trade_price_mud
					add = prev.var:trade_price_mud
				}
				change_variable = { 
					name = trade_in_mud
					add = prev.var:trade_in_mud
				}
				change_variable = { 
					name = trade_out_mud
					add = prev.var:trade_out_mud
				}
				change_variable = { 
					name = trade_earn_mud
					add = prev.var:trade_earn_mud
				}
				change_variable = { 
					name = trade_pay_mud
					add = prev.var:trade_pay_mud
				}
				change_variable = { 
					name = trade_has_mud
					add = prev.var:trade_has_mud
				}
				change_variable = { 
					name = trade_want_mud
					add = prev.var:trade_want_mud
				}
				change_variable = { 
					name = trade_sply_mud
					add = prev.var:trade_sply_mud
				}
				change_variable = { 
					name = trade_dmnd_mud
					add = prev.var:trade_dmnd_mud
				}
				if = { 
					limit = { 
						has_variable = trade_has_mud
						var:trade_has_mud > 0
					}
					change_variable = { 
						name = trade_price_mud
						divide = var:trade_has_mud
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_fuel
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_fuel
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_fuel
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fuel
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_fuel
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_fuel
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_fuel
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_fuel
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fuel
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fuel
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_fuel
						multiply = var:trade_has_fuel
					}
				}
				change_variable = { 
					name = trade_price_fuel
					multiply = var:trade_has_fuel
				}
				change_variable = { 
					name = trade_price_fuel
					add = prev.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_in_fuel
					add = prev.var:trade_in_fuel
				}
				change_variable = { 
					name = trade_out_fuel
					add = prev.var:trade_out_fuel
				}
				change_variable = { 
					name = trade_earn_fuel
					add = prev.var:trade_earn_fuel
				}
				change_variable = { 
					name = trade_pay_fuel
					add = prev.var:trade_pay_fuel
				}
				change_variable = { 
					name = trade_has_fuel
					add = prev.var:trade_has_fuel
				}
				change_variable = { 
					name = trade_want_fuel
					add = prev.var:trade_want_fuel
				}
				change_variable = { 
					name = trade_sply_fuel
					add = prev.var:trade_sply_fuel
				}
				change_variable = { 
					name = trade_dmnd_fuel
					add = prev.var:trade_dmnd_fuel
				}
				if = { 
					limit = { 
						has_variable = trade_has_fuel
						var:trade_has_fuel > 0
					}
					change_variable = { 
						name = trade_price_fuel
						divide = var:trade_has_fuel
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_fiber
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_fiber
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_fiber
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fiber
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_fiber
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_fiber
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_fiber
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_fiber
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fiber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fiber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_fiber
						multiply = var:trade_has_fiber
					}
				}
				change_variable = { 
					name = trade_price_fiber
					multiply = var:trade_has_fiber
				}
				change_variable = { 
					name = trade_price_fiber
					add = prev.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_in_fiber
					add = prev.var:trade_in_fiber
				}
				change_variable = { 
					name = trade_out_fiber
					add = prev.var:trade_out_fiber
				}
				change_variable = { 
					name = trade_earn_fiber
					add = prev.var:trade_earn_fiber
				}
				change_variable = { 
					name = trade_pay_fiber
					add = prev.var:trade_pay_fiber
				}
				change_variable = { 
					name = trade_has_fiber
					add = prev.var:trade_has_fiber
				}
				change_variable = { 
					name = trade_want_fiber
					add = prev.var:trade_want_fiber
				}
				change_variable = { 
					name = trade_sply_fiber
					add = prev.var:trade_sply_fiber
				}
				change_variable = { 
					name = trade_dmnd_fiber
					add = prev.var:trade_dmnd_fiber
				}
				if = { 
					limit = { 
						has_variable = trade_has_fiber
						var:trade_has_fiber > 0
					}
					change_variable = { 
						name = trade_price_fiber
						divide = var:trade_has_fiber
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_timber
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_timber
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_timber
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_timber
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_timber
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_timber
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_timber
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_timber
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_timber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_timber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_timber
						multiply = var:trade_has_timber
					}
				}
				change_variable = { 
					name = trade_price_timber
					multiply = var:trade_has_timber
				}
				change_variable = { 
					name = trade_price_timber
					add = prev.var:trade_price_timber
				}
				change_variable = { 
					name = trade_in_timber
					add = prev.var:trade_in_timber
				}
				change_variable = { 
					name = trade_out_timber
					add = prev.var:trade_out_timber
				}
				change_variable = { 
					name = trade_earn_timber
					add = prev.var:trade_earn_timber
				}
				change_variable = { 
					name = trade_pay_timber
					add = prev.var:trade_pay_timber
				}
				change_variable = { 
					name = trade_has_timber
					add = prev.var:trade_has_timber
				}
				change_variable = { 
					name = trade_want_timber
					add = prev.var:trade_want_timber
				}
				change_variable = { 
					name = trade_sply_timber
					add = prev.var:trade_sply_timber
				}
				change_variable = { 
					name = trade_dmnd_timber
					add = prev.var:trade_dmnd_timber
				}
				if = { 
					limit = { 
						has_variable = trade_has_timber
						var:trade_has_timber > 0
					}
					change_variable = { 
						name = trade_price_timber
						divide = var:trade_has_timber
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_metal
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_metal
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_metal
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_metal
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_metal
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_metal
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_metal
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_metal
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_metal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_metal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_metal
						multiply = var:trade_has_metal
					}
				}
				change_variable = { 
					name = trade_price_metal
					multiply = var:trade_has_metal
				}
				change_variable = { 
					name = trade_price_metal
					add = prev.var:trade_price_metal
				}
				change_variable = { 
					name = trade_in_metal
					add = prev.var:trade_in_metal
				}
				change_variable = { 
					name = trade_out_metal
					add = prev.var:trade_out_metal
				}
				change_variable = { 
					name = trade_earn_metal
					add = prev.var:trade_earn_metal
				}
				change_variable = { 
					name = trade_pay_metal
					add = prev.var:trade_pay_metal
				}
				change_variable = { 
					name = trade_has_metal
					add = prev.var:trade_has_metal
				}
				change_variable = { 
					name = trade_want_metal
					add = prev.var:trade_want_metal
				}
				change_variable = { 
					name = trade_sply_metal
					add = prev.var:trade_sply_metal
				}
				change_variable = { 
					name = trade_dmnd_metal
					add = prev.var:trade_dmnd_metal
				}
				if = { 
					limit = { 
						has_variable = trade_has_metal
						var:trade_has_metal > 0
					}
					change_variable = { 
						name = trade_price_metal
						divide = var:trade_has_metal
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_w
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_w
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_w
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_w
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_w
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_w
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_w
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_w
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_w
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_w
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_w
						multiply = var:trade_has_exotics_w
					}
				}
				change_variable = { 
					name = trade_price_exotics_w
					multiply = var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_price_exotics_w
					add = prev.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_in_exotics_w
					add = prev.var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_out_exotics_w
					add = prev.var:trade_out_exotics_w
				}
				change_variable = { 
					name = trade_earn_exotics_w
					add = prev.var:trade_earn_exotics_w
				}
				change_variable = { 
					name = trade_pay_exotics_w
					add = prev.var:trade_pay_exotics_w
				}
				change_variable = { 
					name = trade_has_exotics_w
					add = prev.var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_want_exotics_w
					add = prev.var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_sply_exotics_w
					add = prev.var:trade_sply_exotics_w
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					add = prev.var:trade_dmnd_exotics_w
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_w
						var:trade_has_exotics_w > 0
					}
					change_variable = { 
						name = trade_price_exotics_w
						divide = var:trade_has_exotics_w
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_e
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_e
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_e
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_e
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_e
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_e
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_e
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_e
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_e
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_e
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_e
						multiply = var:trade_has_exotics_e
					}
				}
				change_variable = { 
					name = trade_price_exotics_e
					multiply = var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_price_exotics_e
					add = prev.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_in_exotics_e
					add = prev.var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_out_exotics_e
					add = prev.var:trade_out_exotics_e
				}
				change_variable = { 
					name = trade_earn_exotics_e
					add = prev.var:trade_earn_exotics_e
				}
				change_variable = { 
					name = trade_pay_exotics_e
					add = prev.var:trade_pay_exotics_e
				}
				change_variable = { 
					name = trade_has_exotics_e
					add = prev.var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_want_exotics_e
					add = prev.var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_sply_exotics_e
					add = prev.var:trade_sply_exotics_e
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					add = prev.var:trade_dmnd_exotics_e
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_e
						var:trade_has_exotics_e > 0
					}
					change_variable = { 
						name = trade_price_exotics_e
						divide = var:trade_has_exotics_e
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_g
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_g
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_g
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_g
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_g
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_g
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_g
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_g
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_g
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_g
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_g
						multiply = var:trade_has_exotics_g
					}
				}
				change_variable = { 
					name = trade_price_exotics_g
					multiply = var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_price_exotics_g
					add = prev.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_in_exotics_g
					add = prev.var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_out_exotics_g
					add = prev.var:trade_out_exotics_g
				}
				change_variable = { 
					name = trade_earn_exotics_g
					add = prev.var:trade_earn_exotics_g
				}
				change_variable = { 
					name = trade_pay_exotics_g
					add = prev.var:trade_pay_exotics_g
				}
				change_variable = { 
					name = trade_has_exotics_g
					add = prev.var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_want_exotics_g
					add = prev.var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_sply_exotics_g
					add = prev.var:trade_sply_exotics_g
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					add = prev.var:trade_dmnd_exotics_g
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_g
						var:trade_has_exotics_g > 0
					}
					change_variable = { 
						name = trade_price_exotics_g
						divide = var:trade_has_exotics_g
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_textile
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_textile
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_textile
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_textile
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_textile
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_textile
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_textile
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_textile
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_textile
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_textile
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_textile
						multiply = var:trade_has_textile
					}
				}
				change_variable = { 
					name = trade_price_textile
					multiply = var:trade_has_textile
				}
				change_variable = { 
					name = trade_price_textile
					add = prev.var:trade_price_textile
				}
				change_variable = { 
					name = trade_in_textile
					add = prev.var:trade_in_textile
				}
				change_variable = { 
					name = trade_out_textile
					add = prev.var:trade_out_textile
				}
				change_variable = { 
					name = trade_earn_textile
					add = prev.var:trade_earn_textile
				}
				change_variable = { 
					name = trade_pay_textile
					add = prev.var:trade_pay_textile
				}
				change_variable = { 
					name = trade_has_textile
					add = prev.var:trade_has_textile
				}
				change_variable = { 
					name = trade_want_textile
					add = prev.var:trade_want_textile
				}
				change_variable = { 
					name = trade_sply_textile
					add = prev.var:trade_sply_textile
				}
				change_variable = { 
					name = trade_dmnd_textile
					add = prev.var:trade_dmnd_textile
				}
				if = { 
					limit = { 
						has_variable = trade_has_textile
						var:trade_has_textile > 0
					}
					change_variable = { 
						name = trade_price_textile
						divide = var:trade_has_textile
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_pottery
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_pottery
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_pottery
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_pottery
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_pottery
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_pottery
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_pottery
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_pottery
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_pottery
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_pottery
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_pottery
						multiply = var:trade_has_pottery
					}
				}
				change_variable = { 
					name = trade_price_pottery
					multiply = var:trade_has_pottery
				}
				change_variable = { 
					name = trade_price_pottery
					add = prev.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_in_pottery
					add = prev.var:trade_in_pottery
				}
				change_variable = { 
					name = trade_out_pottery
					add = prev.var:trade_out_pottery
				}
				change_variable = { 
					name = trade_earn_pottery
					add = prev.var:trade_earn_pottery
				}
				change_variable = { 
					name = trade_pay_pottery
					add = prev.var:trade_pay_pottery
				}
				change_variable = { 
					name = trade_has_pottery
					add = prev.var:trade_has_pottery
				}
				change_variable = { 
					name = trade_want_pottery
					add = prev.var:trade_want_pottery
				}
				change_variable = { 
					name = trade_sply_pottery
					add = prev.var:trade_sply_pottery
				}
				change_variable = { 
					name = trade_dmnd_pottery
					add = prev.var:trade_dmnd_pottery
				}
				if = { 
					limit = { 
						has_variable = trade_has_pottery
						var:trade_has_pottery > 0
					}
					change_variable = { 
						name = trade_price_pottery
						divide = var:trade_has_pottery
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_tools
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_tools
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_tools
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_tools
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_tools
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_tools
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_tools
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_tools
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_tools
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_tools
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_tools
						multiply = var:trade_has_tools
					}
				}
				change_variable = { 
					name = trade_price_tools
					multiply = var:trade_has_tools
				}
				change_variable = { 
					name = trade_price_tools
					add = prev.var:trade_price_tools
				}
				change_variable = { 
					name = trade_in_tools
					add = prev.var:trade_in_tools
				}
				change_variable = { 
					name = trade_out_tools
					add = prev.var:trade_out_tools
				}
				change_variable = { 
					name = trade_earn_tools
					add = prev.var:trade_earn_tools
				}
				change_variable = { 
					name = trade_pay_tools
					add = prev.var:trade_pay_tools
				}
				change_variable = { 
					name = trade_has_tools
					add = prev.var:trade_has_tools
				}
				change_variable = { 
					name = trade_want_tools
					add = prev.var:trade_want_tools
				}
				change_variable = { 
					name = trade_sply_tools
					add = prev.var:trade_sply_tools
				}
				change_variable = { 
					name = trade_dmnd_tools
					add = prev.var:trade_dmnd_tools
				}
				if = { 
					limit = { 
						has_variable = trade_has_tools
						var:trade_has_tools > 0
					}
					change_variable = { 
						name = trade_price_tools
						divide = var:trade_has_tools
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_armaments
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_armaments
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_armaments
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_armaments
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_armaments
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_armaments
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_armaments
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_armaments
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_armaments
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_armaments
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_armaments
						multiply = var:trade_has_armaments
					}
				}
				change_variable = { 
					name = trade_price_armaments
					multiply = var:trade_has_armaments
				}
				change_variable = { 
					name = trade_price_armaments
					add = prev.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_in_armaments
					add = prev.var:trade_in_armaments
				}
				change_variable = { 
					name = trade_out_armaments
					add = prev.var:trade_out_armaments
				}
				change_variable = { 
					name = trade_earn_armaments
					add = prev.var:trade_earn_armaments
				}
				change_variable = { 
					name = trade_pay_armaments
					add = prev.var:trade_pay_armaments
				}
				change_variable = { 
					name = trade_has_armaments
					add = prev.var:trade_has_armaments
				}
				change_variable = { 
					name = trade_want_armaments
					add = prev.var:trade_want_armaments
				}
				change_variable = { 
					name = trade_sply_armaments
					add = prev.var:trade_sply_armaments
				}
				change_variable = { 
					name = trade_dmnd_armaments
					add = prev.var:trade_dmnd_armaments
				}
				if = { 
					limit = { 
						has_variable = trade_has_armaments
						var:trade_has_armaments > 0
					}
					change_variable = { 
						name = trade_price_armaments
						divide = var:trade_has_armaments
					}
				}
			}
		}
		if = { 
			limit = { 
				is_ruler = yes
				is_landed = yes
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_mp
					}
				}
				set_variable = { 
					name = mil_mp
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_supply
					}
				}
				set_variable = { 
					name = mil_supply
					value = 0
				}
			}
			primary_heir = { 
				if = { 
					limit = { 
						NOT = { 
							has_variable = mil_mp
						}
					}
					set_variable = { 
						name = mil_mp
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = mil_supply
						}
					}
					set_variable = { 
						name = mil_supply
						value = 0
					}
				}
				change_variable = { 
					name = mil_mp
					add = prev.var:mil_mp
				}
				change_variable = { 
					name = mil_supply
					add = prev.var:mil_supply
				}
				set_variable = { 
					name = modi_mil_supply_food
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_cereal
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_salted
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_salt
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_mud
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_fuel
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_fiber
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_timber
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_metal
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_exotics_w
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_exotics_e
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_exotics_g
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_textile
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_pottery
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_tools
					value = 1
				}
				set_variable = { 
					name = modi_mil_supply_armaments
					value = 1
				}
			}
		}
	}
	option = { }
}
death.02 = { 
	type = empty
	hidden = yes
	immediate = { 
		set_variable = { 
			name = is_character
			value = 1
		}
		add_character_modifier = base_lord
		if = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn
					}
				}
				set_variable = { 
					name = trade_earn
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay
					}
				}
				set_variable = { 
					name = trade_pay
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_food
					}
				}
				set_variable = { 
					name = trade_in_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_food
					}
				}
				set_variable = { 
					name = trade_out_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_food
					}
				}
				set_variable = { 
					name = trade_earn_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_food
					}
				}
				set_variable = { 
					name = trade_pay_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_food
					}
				}
				set_variable = { 
					name = trade_has_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_food
					}
				}
				set_variable = { 
					name = trade_want_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_food
					}
				}
				set_variable = { 
					name = trade_price_food
					value = capital_county.var:trade_price_food
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_food
					}
				}
				set_variable = { 
					name = trade_sply_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_food
					}
				}
				set_variable = { 
					name = trade_dmnd_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_cereal
					}
				}
				set_variable = { 
					name = trade_in_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_cereal
					}
				}
				set_variable = { 
					name = trade_out_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_cereal
					}
				}
				set_variable = { 
					name = trade_earn_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_cereal
					}
				}
				set_variable = { 
					name = trade_pay_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_cereal
					}
				}
				set_variable = { 
					name = trade_has_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_cereal
					}
				}
				set_variable = { 
					name = trade_want_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_price_cereal
					value = capital_county.var:trade_price_cereal
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_cereal
					}
				}
				set_variable = { 
					name = trade_sply_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_cereal
					}
				}
				set_variable = { 
					name = trade_dmnd_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_salted
					}
				}
				set_variable = { 
					name = trade_in_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_salted
					}
				}
				set_variable = { 
					name = trade_out_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_salted
					}
				}
				set_variable = { 
					name = trade_earn_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_salted
					}
				}
				set_variable = { 
					name = trade_pay_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salted
					}
				}
				set_variable = { 
					name = trade_has_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_salted
					}
				}
				set_variable = { 
					name = trade_want_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_salted
					}
				}
				set_variable = { 
					name = trade_price_salted
					value = capital_county.var:trade_price_salted
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salted
					}
				}
				set_variable = { 
					name = trade_sply_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salted
					}
				}
				set_variable = { 
					name = trade_dmnd_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_salt
					}
				}
				set_variable = { 
					name = trade_in_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_salt
					}
				}
				set_variable = { 
					name = trade_out_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_salt
					}
				}
				set_variable = { 
					name = trade_earn_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_salt
					}
				}
				set_variable = { 
					name = trade_pay_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salt
					}
				}
				set_variable = { 
					name = trade_has_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_salt
					}
				}
				set_variable = { 
					name = trade_want_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_salt
					}
				}
				set_variable = { 
					name = trade_price_salt
					value = capital_county.var:trade_price_salt
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salt
					}
				}
				set_variable = { 
					name = trade_sply_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salt
					}
				}
				set_variable = { 
					name = trade_dmnd_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_mud
					}
				}
				set_variable = { 
					name = trade_in_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_mud
					}
				}
				set_variable = { 
					name = trade_out_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_mud
					}
				}
				set_variable = { 
					name = trade_earn_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_mud
					}
				}
				set_variable = { 
					name = trade_pay_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_mud
					}
				}
				set_variable = { 
					name = trade_has_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_mud
					}
				}
				set_variable = { 
					name = trade_want_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_mud
					}
				}
				set_variable = { 
					name = trade_price_mud
					value = capital_county.var:trade_price_mud
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_mud
					}
				}
				set_variable = { 
					name = trade_sply_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_mud
					}
				}
				set_variable = { 
					name = trade_dmnd_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_fuel
					}
				}
				set_variable = { 
					name = trade_in_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_fuel
					}
				}
				set_variable = { 
					name = trade_out_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_fuel
					}
				}
				set_variable = { 
					name = trade_earn_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_fuel
					}
				}
				set_variable = { 
					name = trade_pay_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fuel
					}
				}
				set_variable = { 
					name = trade_has_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_fuel
					}
				}
				set_variable = { 
					name = trade_want_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_price_fuel
					value = capital_county.var:trade_price_fuel
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fuel
					}
				}
				set_variable = { 
					name = trade_sply_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fuel
					}
				}
				set_variable = { 
					name = trade_dmnd_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_fiber
					}
				}
				set_variable = { 
					name = trade_in_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_fiber
					}
				}
				set_variable = { 
					name = trade_out_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_fiber
					}
				}
				set_variable = { 
					name = trade_earn_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_fiber
					}
				}
				set_variable = { 
					name = trade_pay_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fiber
					}
				}
				set_variable = { 
					name = trade_has_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_fiber
					}
				}
				set_variable = { 
					name = trade_want_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_price_fiber
					value = capital_county.var:trade_price_fiber
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fiber
					}
				}
				set_variable = { 
					name = trade_sply_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fiber
					}
				}
				set_variable = { 
					name = trade_dmnd_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_timber
					}
				}
				set_variable = { 
					name = trade_in_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_timber
					}
				}
				set_variable = { 
					name = trade_out_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_timber
					}
				}
				set_variable = { 
					name = trade_earn_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_timber
					}
				}
				set_variable = { 
					name = trade_pay_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_timber
					}
				}
				set_variable = { 
					name = trade_has_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_timber
					}
				}
				set_variable = { 
					name = trade_want_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_timber
					}
				}
				set_variable = { 
					name = trade_price_timber
					value = capital_county.var:trade_price_timber
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_timber
					}
				}
				set_variable = { 
					name = trade_sply_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_timber
					}
				}
				set_variable = { 
					name = trade_dmnd_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_metal
					}
				}
				set_variable = { 
					name = trade_in_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_metal
					}
				}
				set_variable = { 
					name = trade_out_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_metal
					}
				}
				set_variable = { 
					name = trade_earn_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_metal
					}
				}
				set_variable = { 
					name = trade_pay_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_metal
					}
				}
				set_variable = { 
					name = trade_has_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_metal
					}
				}
				set_variable = { 
					name = trade_want_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_metal
					}
				}
				set_variable = { 
					name = trade_price_metal
					value = capital_county.var:trade_price_metal
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_metal
					}
				}
				set_variable = { 
					name = trade_sply_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_metal
					}
				}
				set_variable = { 
					name = trade_dmnd_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_w
					}
				}
				set_variable = { 
					name = trade_in_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_w
					}
				}
				set_variable = { 
					name = trade_out_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_w
					}
				}
				set_variable = { 
					name = trade_earn_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_w
					}
				}
				set_variable = { 
					name = trade_pay_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_w
					}
				}
				set_variable = { 
					name = trade_has_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_w
					}
				}
				set_variable = { 
					name = trade_want_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = capital_county.var:trade_price_exotics_w
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_w
					}
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_e
					}
				}
				set_variable = { 
					name = trade_in_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_e
					}
				}
				set_variable = { 
					name = trade_out_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_e
					}
				}
				set_variable = { 
					name = trade_earn_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_e
					}
				}
				set_variable = { 
					name = trade_pay_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_e
					}
				}
				set_variable = { 
					name = trade_has_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_e
					}
				}
				set_variable = { 
					name = trade_want_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = capital_county.var:trade_price_exotics_e
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_e
					}
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_g
					}
				}
				set_variable = { 
					name = trade_in_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_g
					}
				}
				set_variable = { 
					name = trade_out_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_g
					}
				}
				set_variable = { 
					name = trade_earn_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_g
					}
				}
				set_variable = { 
					name = trade_pay_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_g
					}
				}
				set_variable = { 
					name = trade_has_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_g
					}
				}
				set_variable = { 
					name = trade_want_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = capital_county.var:trade_price_exotics_g
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_g
					}
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_textile
					}
				}
				set_variable = { 
					name = trade_in_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_textile
					}
				}
				set_variable = { 
					name = trade_out_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_textile
					}
				}
				set_variable = { 
					name = trade_earn_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_textile
					}
				}
				set_variable = { 
					name = trade_pay_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_textile
					}
				}
				set_variable = { 
					name = trade_has_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_textile
					}
				}
				set_variable = { 
					name = trade_want_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_textile
					}
				}
				set_variable = { 
					name = trade_price_textile
					value = capital_county.var:trade_price_textile
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_textile
					}
				}
				set_variable = { 
					name = trade_sply_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_textile
					}
				}
				set_variable = { 
					name = trade_dmnd_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_pottery
					}
				}
				set_variable = { 
					name = trade_in_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_pottery
					}
				}
				set_variable = { 
					name = trade_out_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_pottery
					}
				}
				set_variable = { 
					name = trade_earn_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_pottery
					}
				}
				set_variable = { 
					name = trade_pay_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_pottery
					}
				}
				set_variable = { 
					name = trade_has_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_pottery
					}
				}
				set_variable = { 
					name = trade_want_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_price_pottery
					value = capital_county.var:trade_price_pottery
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_pottery
					}
				}
				set_variable = { 
					name = trade_sply_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_pottery
					}
				}
				set_variable = { 
					name = trade_dmnd_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_tools
					}
				}
				set_variable = { 
					name = trade_in_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_tools
					}
				}
				set_variable = { 
					name = trade_out_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_tools
					}
				}
				set_variable = { 
					name = trade_earn_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_tools
					}
				}
				set_variable = { 
					name = trade_pay_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_tools
					}
				}
				set_variable = { 
					name = trade_has_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_tools
					}
				}
				set_variable = { 
					name = trade_want_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_tools
					}
				}
				set_variable = { 
					name = trade_price_tools
					value = capital_county.var:trade_price_tools
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_tools
					}
				}
				set_variable = { 
					name = trade_sply_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_tools
					}
				}
				set_variable = { 
					name = trade_dmnd_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_armaments
					}
				}
				set_variable = { 
					name = trade_in_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_armaments
					}
				}
				set_variable = { 
					name = trade_out_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_armaments
					}
				}
				set_variable = { 
					name = trade_earn_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_armaments
					}
				}
				set_variable = { 
					name = trade_pay_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_armaments
					}
				}
				set_variable = { 
					name = trade_has_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_armaments
					}
				}
				set_variable = { 
					name = trade_want_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_price_armaments
					value = capital_county.var:trade_price_armaments
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_armaments
					}
				}
				set_variable = { 
					name = trade_sply_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_armaments
					}
				}
				set_variable = { 
					name = trade_dmnd_armaments
					value = 0
				}
			}
		}
		if = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_mp
					}
				}
				set_variable = { 
					name = mil_mp
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_supply
					}
				}
				set_variable = { 
					name = mil_supply
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_supply_stockpile
					}
				}
				set_variable = { 
					name = mil_supply_stockpile
					value = 0
				}
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
		}
		if = { 
			limit = { 
				is_character = yes
				is_landed = yes
				primary_title.tier > tier_barony
				NOT = { 
					has_variable = task_manage_domain_prog
					has_variable = task_manage_realm_prog
					has_variable = task_manage_logistics_prog
					has_variable = task_manage_stockpile_prog
				}
			}
			set_variable = { 
				name = task_manage_domain_lord
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_diplomacy
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_martial
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_stewardship
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_intrigue
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_learning
				value = 0
			}
			set_variable = { 
				name = task_ai_manage_domain
				value = 1
			}
			if = { 
				limit = { 
					is_councillor = yes
				}
				set_variable = { 
					name = task_ai_manage_domain_lord
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = task_get_prog_t
					value = this.stewardship
				}
				change_variable = { 
					name = task_get_prog_t
					add = { 
						value = this.diplomacy
						divide = 2
					}
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 1.5
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_get_prog_t
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_get_prog_tt
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_get_prog_tt
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_get_prog_t
					multiply = var:task_get_prog_tt
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 50
				}
				change_variable = { 
					name = task_get_prog_t
					add = 0.1
				}
				change_variable = { 
					name = task_get_prog_t
					multiply = 1
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 12
				}
				set_variable = { 
					name = task_ai_manage_domain_lord
					value = var:task_get_prog_t
				}
				remove_variable = task_get_prog_t
				remove_variable = task_get_prog_tt
			}
			set_variable = { 
				name = task_ai_manage_domain_diplomacy
				value = 0
			}
			ordered_diplomacy_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_domain_diplomacy
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_domain_martial
				value = 0
			}
			ordered_martial_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_domain_martial
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_domain_stewardship
				value = 0
			}
			ordered_stewardship_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_domain_stewardship
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_domain_intrigue
				value = 0
			}
			ordered_intrigue_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_domain_intrigue
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_domain_learning
				value = 0
			}
			ordered_learning_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_domain_learning
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_manage_realm_lord
				value = 0
			}
			set_variable = { 
				name = task_manage_realm_diplomacy
				value = 0
			}
			set_variable = { 
				name = task_manage_realm_martial
				value = 0
			}
			set_variable = { 
				name = task_manage_realm_stewardship
				value = 0
			}
			set_variable = { 
				name = task_manage_realm_intrigue
				value = 0
			}
			set_variable = { 
				name = task_manage_realm_learning
				value = 0
			}
			set_variable = { 
				name = task_ai_manage_realm
				value = 1
			}
			if = { 
				limit = { 
					is_councillor = yes
				}
				set_variable = { 
					name = task_ai_manage_realm_lord
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = task_get_prog_t
					value = this.diplomacy
				}
				change_variable = { 
					name = task_get_prog_t
					add = { 
						value = this.stewardship
						divide = 2
					}
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 1.5
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_get_prog_t
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_get_prog_tt
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_get_prog_tt
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_get_prog_t
					multiply = var:task_get_prog_tt
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 50
				}
				change_variable = { 
					name = task_get_prog_t
					add = 0.1
				}
				change_variable = { 
					name = task_get_prog_t
					multiply = 1
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 12
				}
				set_variable = { 
					name = task_ai_manage_realm_lord
					value = var:task_get_prog_t
				}
				remove_variable = task_get_prog_t
				remove_variable = task_get_prog_tt
			}
			set_variable = { 
				name = task_ai_manage_realm_diplomacy
				value = 0
			}
			ordered_diplomacy_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_realm_diplomacy
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_realm_martial
				value = 0
			}
			ordered_martial_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_realm_martial
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_realm_stewardship
				value = 0
			}
			ordered_stewardship_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_realm_stewardship
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_realm_intrigue
				value = 0
			}
			ordered_intrigue_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_realm_intrigue
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_realm_learning
				value = 0
			}
			ordered_learning_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_realm_learning
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_manage_logistics_lord
				value = 0
			}
			set_variable = { 
				name = task_manage_logistics_diplomacy
				value = 0
			}
			set_variable = { 
				name = task_manage_logistics_martial
				value = 0
			}
			set_variable = { 
				name = task_manage_logistics_stewardship
				value = 0
			}
			set_variable = { 
				name = task_manage_logistics_intrigue
				value = 0
			}
			set_variable = { 
				name = task_manage_logistics_learning
				value = 0
			}
			set_variable = { 
				name = task_ai_manage_logistics
				value = 1
			}
			if = { 
				limit = { 
					is_councillor = yes
				}
				set_variable = { 
					name = task_ai_manage_logistics_lord
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = task_get_prog_t
					value = this.martial
				}
				change_variable = { 
					name = task_get_prog_t
					add = { 
						value = this.stewardship
						divide = 2
					}
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 1.5
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_get_prog_t
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_get_prog_tt
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_get_prog_tt
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_get_prog_t
					multiply = var:task_get_prog_tt
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 50
				}
				change_variable = { 
					name = task_get_prog_t
					add = 0.1
				}
				change_variable = { 
					name = task_get_prog_t
					multiply = 1
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 12
				}
				set_variable = { 
					name = task_ai_manage_logistics_lord
					value = var:task_get_prog_t
				}
				remove_variable = task_get_prog_t
				remove_variable = task_get_prog_tt
			}
			set_variable = { 
				name = task_ai_manage_logistics_diplomacy
				value = 0
			}
			ordered_diplomacy_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_logistics_diplomacy
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_logistics_martial
				value = 0
			}
			ordered_martial_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_logistics_martial
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_logistics_stewardship
				value = 0
			}
			ordered_stewardship_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_logistics_stewardship
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_logistics_intrigue
				value = 0
			}
			ordered_intrigue_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_logistics_intrigue
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_logistics_learning
				value = 0
			}
			ordered_learning_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_logistics_learning
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_manage_stockpile_lord
				value = 0
			}
			set_variable = { 
				name = task_manage_stockpile_diplomacy
				value = 0
			}
			set_variable = { 
				name = task_manage_stockpile_martial
				value = 0
			}
			set_variable = { 
				name = task_manage_stockpile_stewardship
				value = 0
			}
			set_variable = { 
				name = task_manage_stockpile_intrigue
				value = 0
			}
			set_variable = { 
				name = task_manage_stockpile_learning
				value = 0
			}
			set_variable = { 
				name = task_ai_manage_stockpile
				value = 1
			}
			if = { 
				limit = { 
					is_councillor = yes
				}
				set_variable = { 
					name = task_ai_manage_stockpile_lord
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = task_get_prog_t
					value = this.stewardship
				}
				change_variable = { 
					name = task_get_prog_t
					add = { 
						value = this.diplomacy
						divide = 2
					}
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 1.5
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_get_prog_t
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_get_prog_tt
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_get_prog_tt
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_get_prog_t
					multiply = var:task_get_prog_tt
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 50
				}
				change_variable = { 
					name = task_get_prog_t
					add = 0.1
				}
				change_variable = { 
					name = task_get_prog_t
					multiply = 1
				}
				change_variable = { 
					name = task_get_prog_t
					divide = 12
				}
				set_variable = { 
					name = task_ai_manage_stockpile_lord
					value = var:task_get_prog_t
				}
				remove_variable = task_get_prog_t
				remove_variable = task_get_prog_tt
			}
			set_variable = { 
				name = task_ai_manage_stockpile_diplomacy
				value = 0
			}
			ordered_diplomacy_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_stockpile_diplomacy
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_stockpile_martial
				value = 0
			}
			ordered_martial_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_stockpile_martial
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_stockpile_stewardship
				value = 0
			}
			ordered_stewardship_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_stockpile_stewardship
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_stockpile_intrigue
				value = 0
			}
			ordered_intrigue_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_stockpile_intrigue
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_manage_stockpile_learning
				value = 0
			}
			ordered_learning_councillor = { 
				position = 0
				prev = { 
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = 1
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_ai_manage_stockpile_learning
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_lord
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_lord
				multiply = var:task_ai_manage_domain_lord
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_lord
			}
			set_variable = { 
				name = task_manage_realm_lord
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_lord
				multiply = var:task_ai_manage_realm_lord
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_lord
			}
			set_variable = { 
				name = task_manage_logistics_lord
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_lord
				multiply = var:task_ai_manage_logistics_lord
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_lord
			}
			set_variable = { 
				name = task_manage_stockpile_lord
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_lord
				multiply = var:task_ai_manage_stockpile_lord
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_lord
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_lord
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_lord
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_lord
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_lord
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_lord
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_lord
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_lord
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_lord
					divide = var:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_diplomacy
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_diplomacy
				multiply = var:task_ai_manage_domain_diplomacy
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_diplomacy
			}
			set_variable = { 
				name = task_manage_realm_diplomacy
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_diplomacy
				multiply = var:task_ai_manage_realm_diplomacy
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_diplomacy
			}
			set_variable = { 
				name = task_manage_logistics_diplomacy
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_diplomacy
				multiply = var:task_ai_manage_logistics_diplomacy
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_diplomacy
			}
			set_variable = { 
				name = task_manage_stockpile_diplomacy
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_diplomacy
				multiply = var:task_ai_manage_stockpile_diplomacy
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_diplomacy
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_diplomacy
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_diplomacy
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_diplomacy
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_diplomacy
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_diplomacy
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_diplomacy
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_diplomacy
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_diplomacy
					divide = var:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_martial
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_martial
				multiply = var:task_ai_manage_domain_martial
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_martial
			}
			set_variable = { 
				name = task_manage_realm_martial
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_martial
				multiply = var:task_ai_manage_realm_martial
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_martial
			}
			set_variable = { 
				name = task_manage_logistics_martial
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_martial
				multiply = var:task_ai_manage_logistics_martial
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_martial
			}
			set_variable = { 
				name = task_manage_stockpile_martial
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_martial
				multiply = var:task_ai_manage_stockpile_martial
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_martial
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_martial
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_martial
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_martial
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_martial
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_martial
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_martial
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_martial
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_martial
					divide = var:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_stewardship
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_stewardship
				multiply = var:task_ai_manage_domain_stewardship
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_stewardship
			}
			set_variable = { 
				name = task_manage_realm_stewardship
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_stewardship
				multiply = var:task_ai_manage_realm_stewardship
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_stewardship
			}
			set_variable = { 
				name = task_manage_logistics_stewardship
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_stewardship
				multiply = var:task_ai_manage_logistics_stewardship
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_stewardship
			}
			set_variable = { 
				name = task_manage_stockpile_stewardship
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_stewardship
				multiply = var:task_ai_manage_stockpile_stewardship
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_stewardship
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_stewardship
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_stewardship
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_stewardship
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_stewardship
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_stewardship
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_stewardship
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_stewardship
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_stewardship
					divide = var:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_intrigue
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_intrigue
				multiply = var:task_ai_manage_domain_intrigue
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_intrigue
			}
			set_variable = { 
				name = task_manage_realm_intrigue
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_intrigue
				multiply = var:task_ai_manage_realm_intrigue
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_intrigue
			}
			set_variable = { 
				name = task_manage_logistics_intrigue
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_intrigue
				multiply = var:task_ai_manage_logistics_intrigue
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_intrigue
			}
			set_variable = { 
				name = task_manage_stockpile_intrigue
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_intrigue
				multiply = var:task_ai_manage_stockpile_intrigue
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_intrigue
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_intrigue
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_intrigue
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_intrigue
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_intrigue
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_intrigue
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_intrigue
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_intrigue
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_intrigue
					divide = var:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			set_variable = { 
				name = task_manage_domain_learning
				value = var:task_ai_manage_domain
			}
			change_variable = { 
				name = task_manage_domain_learning
				multiply = var:task_ai_manage_domain_learning
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_domain_learning
			}
			set_variable = { 
				name = task_manage_realm_learning
				value = var:task_ai_manage_realm
			}
			change_variable = { 
				name = task_manage_realm_learning
				multiply = var:task_ai_manage_realm_learning
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_realm_learning
			}
			set_variable = { 
				name = task_manage_logistics_learning
				value = var:task_ai_manage_logistics
			}
			change_variable = { 
				name = task_manage_logistics_learning
				multiply = var:task_ai_manage_logistics_learning
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_logistics_learning
			}
			set_variable = { 
				name = task_manage_stockpile_learning
				value = var:task_ai_manage_stockpile
			}
			change_variable = { 
				name = task_manage_stockpile_learning
				multiply = var:task_ai_manage_stockpile_learning
			}
			change_variable = { 
				name = task_ai_t
				add = var:task_manage_stockpile_learning
			}
			if = { 
				limit = { 
					has_variable = task_ai_t
					var:task_ai_t > 0
				}
				change_variable = { 
					name = task_manage_domain_learning
					multiply = 10
				}
				change_variable = { 
					name = task_manage_domain_learning
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_realm_learning
					multiply = 10
				}
				change_variable = { 
					name = task_manage_realm_learning
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_logistics_learning
					multiply = 10
				}
				change_variable = { 
					name = task_manage_logistics_learning
					divide = var:task_ai_t
				}
				change_variable = { 
					name = task_manage_stockpile_learning
					multiply = 10
				}
				change_variable = { 
					name = task_manage_stockpile_learning
					divide = var:task_ai_t
				}
			}
			remove_variable = task_ai_t
			remove_variable = task_ai_manage_domain
			remove_variable = task_ai_manage_domain_lord
			remove_variable = task_ai_manage_domain_diplomacy
			remove_variable = task_ai_manage_domain_martial
			remove_variable = task_ai_manage_domain_stewardship
			remove_variable = task_ai_manage_domain_intrigue
			remove_variable = task_ai_manage_domain_learning
			remove_variable = task_ai_manage_realm
			remove_variable = task_ai_manage_realm_lord
			remove_variable = task_ai_manage_realm_diplomacy
			remove_variable = task_ai_manage_realm_martial
			remove_variable = task_ai_manage_realm_stewardship
			remove_variable = task_ai_manage_realm_intrigue
			remove_variable = task_ai_manage_realm_learning
			remove_variable = task_ai_manage_logistics
			remove_variable = task_ai_manage_logistics_lord
			remove_variable = task_ai_manage_logistics_diplomacy
			remove_variable = task_ai_manage_logistics_martial
			remove_variable = task_ai_manage_logistics_stewardship
			remove_variable = task_ai_manage_logistics_intrigue
			remove_variable = task_ai_manage_logistics_learning
			remove_variable = task_ai_manage_stockpile
			remove_variable = task_ai_manage_stockpile_lord
			remove_variable = task_ai_manage_stockpile_diplomacy
			remove_variable = task_ai_manage_stockpile_martial
			remove_variable = task_ai_manage_stockpile_stewardship
			remove_variable = task_ai_manage_stockpile_intrigue
			remove_variable = task_ai_manage_stockpile_learning
			every_in_list = { 
				limit = { 
					OR = { 
						is_landed = no
						is_ruler = no
						primary_title.tier = tier_barony
					}
					is_councillor = no
				}
				variable = task_workers
				remove_variable = task_time_has
				remove_variable = task_time_spent
				remove_variable = task_prestige
			}
			clear_variable_list = task_workers
			clear_variable_list = task_manage_domain
			clear_variable_list = array_task_manage_domain_time
			clear_variable_list = array_task_manage_domain_prog
			if = { 
				limit = { 
					has_variable = task_manage_domain_lord
					var:task_manage_domain_lord > 0
				}
				add_to_variable_list = { 
					name = task_workers
					target = this
				}
				add_to_variable_list = { 
					name = task_manage_domain
					target = this
				}
				set_variable = { 
					name = array_add_t
					value = var:task_manage_domain_lord
				}
				change_variable = { 
					name = array_add_t
					multiply = 10
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable_list = array_task_manage_domain_time
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_domain_time
						target = var:array_add_t
					}
				}
				else = { 
					while = { 
						limit = { 
							is_target_in_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						count = 10
						change_variable = { 
							name = array_add_t
							add = 0.001
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_domain_time
						target = var:array_add_t
					}
				}
				remove_variable = array_add_t
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_diplomacy
					var:task_manage_domain_diplomacy > 0
				}
				ordered_diplomacy_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_domain
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_domain_diplomacy
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_domain_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_domain_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_martial
					var:task_manage_domain_martial > 0
				}
				ordered_martial_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_domain
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_domain_martial
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_domain_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_domain_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_stewardship
					var:task_manage_domain_stewardship > 0
				}
				ordered_stewardship_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_domain
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_domain_stewardship
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_domain_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_domain_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_intrigue
					var:task_manage_domain_intrigue > 0
				}
				ordered_intrigue_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_domain
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_domain_intrigue
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_domain_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_domain_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_learning
					var:task_manage_domain_learning > 0
				}
				ordered_learning_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_domain
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_domain_learning
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_domain_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_domain_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_domain_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			clear_variable_list = task_manage_realm
			clear_variable_list = array_task_manage_realm_time
			clear_variable_list = array_task_manage_realm_prog
			if = { 
				limit = { 
					has_variable = task_manage_realm_lord
					var:task_manage_realm_lord > 0
				}
				add_to_variable_list = { 
					name = task_workers
					target = this
				}
				add_to_variable_list = { 
					name = task_manage_realm
					target = this
				}
				set_variable = { 
					name = array_add_t
					value = var:task_manage_realm_lord
				}
				change_variable = { 
					name = array_add_t
					multiply = 10
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable_list = array_task_manage_realm_time
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_realm_time
						target = var:array_add_t
					}
				}
				else = { 
					while = { 
						limit = { 
							is_target_in_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						count = 10
						change_variable = { 
							name = array_add_t
							add = 0.001
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_realm_time
						target = var:array_add_t
					}
				}
				remove_variable = array_add_t
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_diplomacy
					var:task_manage_realm_diplomacy > 0
				}
				ordered_diplomacy_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_realm
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_realm_diplomacy
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_realm_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_realm_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_martial
					var:task_manage_realm_martial > 0
				}
				ordered_martial_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_realm
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_realm_martial
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_realm_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_realm_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_stewardship
					var:task_manage_realm_stewardship > 0
				}
				ordered_stewardship_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_realm
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_realm_stewardship
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_realm_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_realm_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_intrigue
					var:task_manage_realm_intrigue > 0
				}
				ordered_intrigue_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_realm
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_realm_intrigue
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_realm_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_realm_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_learning
					var:task_manage_realm_learning > 0
				}
				ordered_learning_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_realm
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_realm_learning
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_realm_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_realm_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_realm_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			clear_variable_list = task_manage_logistics
			clear_variable_list = array_task_manage_logistics_time
			clear_variable_list = array_task_manage_logistics_prog
			if = { 
				limit = { 
					has_variable = task_manage_logistics_lord
					var:task_manage_logistics_lord > 0
				}
				add_to_variable_list = { 
					name = task_workers
					target = this
				}
				add_to_variable_list = { 
					name = task_manage_logistics
					target = this
				}
				set_variable = { 
					name = array_add_t
					value = var:task_manage_logistics_lord
				}
				change_variable = { 
					name = array_add_t
					multiply = 10
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable_list = array_task_manage_logistics_time
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_logistics_time
						target = var:array_add_t
					}
				}
				else = { 
					while = { 
						limit = { 
							is_target_in_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						count = 10
						change_variable = { 
							name = array_add_t
							add = 0.001
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_logistics_time
						target = var:array_add_t
					}
				}
				remove_variable = array_add_t
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_diplomacy
					var:task_manage_logistics_diplomacy > 0
				}
				ordered_diplomacy_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_logistics
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_logistics_diplomacy
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_logistics_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_logistics_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_martial
					var:task_manage_logistics_martial > 0
				}
				ordered_martial_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_logistics
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_logistics_martial
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_logistics_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_logistics_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_stewardship
					var:task_manage_logistics_stewardship > 0
				}
				ordered_stewardship_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_logistics
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_logistics_stewardship
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_logistics_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_logistics_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_intrigue
					var:task_manage_logistics_intrigue > 0
				}
				ordered_intrigue_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_logistics
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_logistics_intrigue
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_logistics_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_logistics_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_learning
					var:task_manage_logistics_learning > 0
				}
				ordered_learning_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_logistics
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_logistics_learning
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_logistics_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_logistics_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_logistics_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			clear_variable_list = task_manage_stockpile
			clear_variable_list = array_task_manage_stockpile_time
			clear_variable_list = array_task_manage_stockpile_prog
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_lord
					var:task_manage_stockpile_lord > 0
				}
				add_to_variable_list = { 
					name = task_workers
					target = this
				}
				add_to_variable_list = { 
					name = task_manage_stockpile
					target = this
				}
				set_variable = { 
					name = array_add_t
					value = var:task_manage_stockpile_lord
				}
				change_variable = { 
					name = array_add_t
					multiply = 10
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable_list = array_task_manage_stockpile_time
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_stockpile_time
						target = var:array_add_t
					}
				}
				else = { 
					while = { 
						limit = { 
							is_target_in_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						count = 10
						change_variable = { 
							name = array_add_t
							add = 0.001
						}
					}
					add_to_variable_list = { 
						name = array_task_manage_stockpile_time
						target = var:array_add_t
					}
				}
				remove_variable = array_add_t
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_diplomacy
					var:task_manage_stockpile_diplomacy > 0
				}
				ordered_diplomacy_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_stockpile
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_stockpile_diplomacy
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_stockpile_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_stockpile_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_martial
					var:task_manage_stockpile_martial > 0
				}
				ordered_martial_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_stockpile
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_stockpile_martial
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_stockpile_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_stockpile_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_stewardship
					var:task_manage_stockpile_stewardship > 0
				}
				ordered_stewardship_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_stockpile
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_stockpile_stewardship
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_stockpile_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_stockpile_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_intrigue
					var:task_manage_stockpile_intrigue > 0
				}
				ordered_intrigue_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_stockpile
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_stockpile_intrigue
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_stockpile_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_stockpile_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_learning
					var:task_manage_stockpile_learning > 0
				}
				ordered_learning_councillor = { 
					position = 0
					prev = { 
						add_to_variable_list = { 
							name = task_workers
							target = prev
						}
						add_to_variable_list = { 
							name = task_manage_stockpile
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = var:task_manage_stockpile_learning
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_task_manage_stockpile_time
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_task_manage_stockpile_time
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_task_manage_stockpile_time
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
				}
			}
			set_variable = { 
				name = task_time_has
				value = 10
			}
			set_variable = { 
				name = task_time_spent
				value = 0
			}
			set_variable = { 
				name = task_prestige
				value = 0
			}
			every_in_list = { 
				variable = task_workers
				set_variable = { 
					name = task_time_has
					value = 10
				}
				set_variable = { 
					name = task_time_spent
					value = 0
				}
				set_variable = { 
					name = task_prestige
					value = 0
				}
			}
			set_variable = { 
				name = task_update_t
				value = 0
			}
			every_in_list = { 
				variable = task_manage_domain
				prev = { 
					set_global_variable = { 
						name = array_get_t
						value = var:task_update_t
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_global_variable = array_get_t
								}
								global_var:array_get_t = 0
							}
						}
						ordered_in_list = { 
							variable = array_task_manage_domain_time
							position = 0
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					else = { 
						ordered_in_list = { 
							variable = array_task_manage_domain_time
							position = global_var:array_get_t.compare_value
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					change_variable = { 
						name = task_update_tt
						divide = 10
					}
					remove_global_variable = array_get_t
					prev = { 
						change_variable = { 
							name = task_time_spent
							add = prev.var:task_update_tt
						}
					}
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_update_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_update_tt
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
					set_variable = { 
						name = array_add_t
						value = var:task_update_tt
					}
					change_variable = { 
						name = array_add_t
						multiply = 10
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable_list = array_task_manage_domain_prog
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_domain_prog
							target = var:array_add_t
						}
					}
					else = { 
						while = { 
							limit = { 
								is_target_in_variable_list = { 
									name = array_task_manage_domain_prog
									target = var:array_add_t
								}
							}
							count = 10
							change_variable = { 
								name = array_add_t
								add = 0.001
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_domain_prog
							target = var:array_add_t
						}
					}
					remove_variable = array_add_t
					prev = { 
						set_variable = { 
							name = task_update_ttt
							value = prev.var:task_update_tt
						}
					}
					change_variable = { 
						name = task_update_t
						add = 1
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_domain_prog
					var:task_manage_domain_prog > domain_size
				}
				set_variable = { 
					name = task_manage_domain_prestige
					value = domain_size
				}
				change_variable = { 
					name = task_manage_domain_prestige
					divide = var:task_manage_domain_prog
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_manage_domain_prestige
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_manage_domain_prestige
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_manage_domain_prestige
						value = 0
					}
				}
				remove_variable = math_sqrt_i
			}
			else = { 
				set_variable = { 
					name = task_manage_domain_prestige
					value = 1
				}
			}
			every_in_list = { 
				variable = task_manage_domain
				change_variable = { 
					name = task_update_ttt
					multiply = 2
				}
				change_variable = { 
					name = task_update_ttt
					multiply = prev.var:task_manage_domain_prestige
				}
				change_variable = { 
					name = task_prestige
					add = var:task_update_ttt
				}
				remove_variable = task_update_t
				remove_variable = task_update_tt
				remove_variable = task_update_ttt
			}
			set_variable = { 
				name = task_update_t
				value = 0
			}
			every_in_list = { 
				variable = task_manage_realm
				prev = { 
					set_global_variable = { 
						name = array_get_t
						value = var:task_update_t
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_global_variable = array_get_t
								}
								global_var:array_get_t = 0
							}
						}
						ordered_in_list = { 
							variable = array_task_manage_realm_time
							position = 0
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					else = { 
						ordered_in_list = { 
							variable = array_task_manage_realm_time
							position = global_var:array_get_t.compare_value
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					change_variable = { 
						name = task_update_tt
						divide = 10
					}
					remove_global_variable = array_get_t
					prev = { 
						change_variable = { 
							name = task_time_spent
							add = prev.var:task_update_tt
						}
					}
					set_variable = { 
						name = task_get_prog_t
						value = prev.diplomacy
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_update_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_update_tt
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
					set_variable = { 
						name = array_add_t
						value = var:task_update_tt
					}
					change_variable = { 
						name = array_add_t
						multiply = 10
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable_list = array_task_manage_realm_prog
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_realm_prog
							target = var:array_add_t
						}
					}
					else = { 
						while = { 
							limit = { 
								is_target_in_variable_list = { 
									name = array_task_manage_realm_prog
									target = var:array_add_t
								}
							}
							count = 10
							change_variable = { 
								name = array_add_t
								add = 0.001
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_realm_prog
							target = var:array_add_t
						}
					}
					remove_variable = array_add_t
					prev = { 
						set_variable = { 
							name = task_update_ttt
							value = prev.var:task_update_tt
						}
					}
					change_variable = { 
						name = task_update_t
						add = 1
					}
				}
			}
			set_variable = { 
				name = math_sqrt_i
				value = sub_realm_size
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = task_manage_realm_prestige
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = task_manage_realm_prestige
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			change_variable = { 
				name = task_manage_realm_prestige
				add = vassal_count
			}
			change_variable = { 
				name = task_manage_realm_prestige
				divide = 2
			}
			if = { 
				limit = { 
					has_variable = task_manage_realm_prog
					var:task_manage_realm_prog = { 
						compare_value > prev.var:task_manage_realm_prestige
					}
				}
				change_variable = { 
					name = task_manage_realm_prestige
					divide = var:task_manage_realm_prog
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_manage_realm_prestige
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_manage_realm_prestige
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_manage_realm_prestige
						value = 0
					}
				}
				remove_variable = math_sqrt_i
			}
			else = { 
				set_variable = { 
					name = task_manage_realm_prestige
					value = 1
				}
			}
			every_in_list = { 
				variable = task_manage_realm
				change_variable = { 
					name = task_update_ttt
					multiply = 2
				}
				change_variable = { 
					name = task_update_ttt
					multiply = prev.var:task_manage_realm_prestige
				}
				change_variable = { 
					name = task_prestige
					add = var:task_update_ttt
				}
				remove_variable = task_update_t
				remove_variable = task_update_tt
				remove_variable = task_update_ttt
			}
			set_variable = { 
				name = task_update_t
				value = 0
			}
			every_in_list = { 
				variable = task_manage_logistics
				prev = { 
					set_global_variable = { 
						name = array_get_t
						value = var:task_update_t
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_global_variable = array_get_t
								}
								global_var:array_get_t = 0
							}
						}
						ordered_in_list = { 
							variable = array_task_manage_logistics_time
							position = 0
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					else = { 
						ordered_in_list = { 
							variable = array_task_manage_logistics_time
							position = global_var:array_get_t.compare_value
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					change_variable = { 
						name = task_update_tt
						divide = 10
					}
					remove_global_variable = array_get_t
					prev = { 
						change_variable = { 
							name = task_time_spent
							add = prev.var:task_update_tt
						}
					}
					set_variable = { 
						name = task_get_prog_t
						value = prev.martial
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.stewardship
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_update_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_update_tt
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
					set_variable = { 
						name = array_add_t
						value = var:task_update_tt
					}
					change_variable = { 
						name = array_add_t
						multiply = 10
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable_list = array_task_manage_logistics_prog
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_logistics_prog
							target = var:array_add_t
						}
					}
					else = { 
						while = { 
							limit = { 
								is_target_in_variable_list = { 
									name = array_task_manage_logistics_prog
									target = var:array_add_t
								}
							}
							count = 10
							change_variable = { 
								name = array_add_t
								add = 0.001
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_logistics_prog
							target = var:array_add_t
						}
					}
					remove_variable = array_add_t
					prev = { 
						set_variable = { 
							name = task_update_ttt
							value = prev.var:task_update_tt
						}
					}
					change_variable = { 
						name = task_update_t
						add = 1
					}
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics_prog
					has_variable = mil_power
					var:task_manage_logistics_prog = { 
						compare_value > prev.var:mil_power
					}
				}
				set_variable = { 
					name = task_manage_logistics_prestige
					value = var:mil_power
				}
				change_variable = { 
					name = task_manage_logistics_prestige
					divide = var:task_manage_logistics_prog
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_manage_logistics_prestige
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_manage_logistics_prestige
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_manage_logistics_prestige
						value = 0
					}
				}
				remove_variable = math_sqrt_i
			}
			else = { 
				set_variable = { 
					name = task_manage_logistics_prestige
					value = 1
				}
			}
			every_in_list = { 
				variable = task_manage_logistics
				change_variable = { 
					name = task_update_ttt
					multiply = 2
				}
				change_variable = { 
					name = task_update_ttt
					multiply = prev.var:task_manage_logistics_prestige
				}
				change_variable = { 
					name = task_prestige
					add = var:task_update_ttt
				}
				remove_variable = task_update_t
				remove_variable = task_update_tt
				remove_variable = task_update_ttt
			}
			set_variable = { 
				name = task_update_t
				value = 0
			}
			every_in_list = { 
				variable = task_manage_stockpile
				prev = { 
					set_global_variable = { 
						name = array_get_t
						value = var:task_update_t
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_global_variable = array_get_t
								}
								global_var:array_get_t = 0
							}
						}
						ordered_in_list = { 
							variable = array_task_manage_stockpile_time
							position = 0
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					else = { 
						ordered_in_list = { 
							variable = array_task_manage_stockpile_time
							position = global_var:array_get_t.compare_value
							prev = { 
								set_variable = { 
									name = task_update_tt
									value = prev
								}
							}
						}
					}
					change_variable = { 
						name = task_update_tt
						divide = 10
					}
					remove_global_variable = array_get_t
					prev = { 
						change_variable = { 
							name = task_time_spent
							add = prev.var:task_update_tt
						}
					}
					set_variable = { 
						name = task_get_prog_t
						value = prev.stewardship
					}
					change_variable = { 
						name = task_get_prog_t
						add = { 
							value = prev.diplomacy
							divide = 2
						}
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 1.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:task_get_prog_t
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = task_get_prog_tt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = task_get_prog_tt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_get_prog_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 50
					}
					change_variable = { 
						name = task_get_prog_t
						add = 0.1
					}
					change_variable = { 
						name = task_get_prog_t
						multiply = var:task_update_tt
					}
					change_variable = { 
						name = task_get_prog_t
						divide = 12
					}
					set_variable = { 
						name = task_update_tt
						value = var:task_get_prog_t
					}
					remove_variable = task_get_prog_t
					remove_variable = task_get_prog_tt
					set_variable = { 
						name = array_add_t
						value = var:task_update_tt
					}
					change_variable = { 
						name = array_add_t
						multiply = 10
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable_list = array_task_manage_stockpile_prog
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_stockpile_prog
							target = var:array_add_t
						}
					}
					else = { 
						while = { 
							limit = { 
								is_target_in_variable_list = { 
									name = array_task_manage_stockpile_prog
									target = var:array_add_t
								}
							}
							count = 10
							change_variable = { 
								name = array_add_t
								add = 0.001
							}
						}
						add_to_variable_list = { 
							name = array_task_manage_stockpile_prog
							target = var:array_add_t
						}
					}
					remove_variable = array_add_t
					prev = { 
						set_variable = { 
							name = task_update_ttt
							value = prev.var:task_update_tt
						}
					}
					change_variable = { 
						name = task_update_t
						add = 1
					}
				}
			}
			set_variable = { 
				name = task_manage_stockpile_prestige
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_want_food
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_food
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_cereal
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_salted
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_salted
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_salt
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_salt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_mud
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_mud
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_fuel
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_fiber
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_timber
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_timber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_metal
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_metal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_w
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_e
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_g
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_textile
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_textile
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_pottery
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_tools
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_tools
				}
			}
			if = { 
				limit = { 
					has_variable = trade_want_armaments
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					add = var:trade_want_armaments
				}
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:task_manage_stockpile_prestige
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = task_manage_stockpile_prestige
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = task_manage_stockpile_prestige
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			change_variable = { 
				name = task_manage_stockpile_prestige
				divide = 2
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile_prog
					var:task_manage_stockpile_prog = { 
						compare_value > prev.var:task_manage_stockpile_prestige
					}
				}
				change_variable = { 
					name = task_manage_stockpile_prestige
					divide = var:task_manage_stockpile_prog
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_manage_stockpile_prestige
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_manage_stockpile_prestige
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_manage_stockpile_prestige
						value = 0
					}
				}
				remove_variable = math_sqrt_i
			}
			else = { 
				set_variable = { 
					name = task_manage_stockpile_prestige
					value = 1
				}
			}
			every_in_list = { 
				variable = task_manage_stockpile
				change_variable = { 
					name = task_update_ttt
					multiply = 2
				}
				change_variable = { 
					name = task_update_ttt
					multiply = prev.var:task_manage_stockpile_prestige
				}
				change_variable = { 
					name = task_prestige
					add = var:task_update_ttt
				}
				remove_variable = task_update_t
				remove_variable = task_update_tt
				remove_variable = task_update_ttt
			}
			remove_variable = task_update_t
			remove_variable = task_update_tt
			remove_variable = task_update_ttt
		}
	}
	option = { }
}
death.03 = { 
	type = empty
	hidden = yes
	immediate = { 
		if = { 
			limit = { 
				is_ruler = no
				is_landed = no
			}
			set_variable = { 
				name = stat_main_t
				value = 0
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_character_modifier = stat_privilege_327.68
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_character_modifier = stat_privilege_163.84
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_character_modifier = stat_privilege_81.92
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_character_modifier = stat_privilege_40.96
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_character_modifier = stat_privilege_20.48
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_character_modifier = stat_privilege_10.24
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_character_modifier = stat_privilege_5.12
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_character_modifier = stat_privilege_2.56
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_character_modifier = stat_privilege_1.28
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_character_modifier = stat_privilege_0.64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_character_modifier = stat_privilege_0.32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_character_modifier = stat_privilege_0.16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_character_modifier = stat_privilege_0.08
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_character_modifier = stat_privilege_0.04
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_character_modifier = stat_privilege_0.02
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_character_modifier = stat_privilege_0.01
				}
			}
			set_variable = { 
				name = stat_main_t
				value = 0
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_character_modifier = stat_privilege_pay_327.68
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_character_modifier = stat_privilege_pay_163.84
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_character_modifier = stat_privilege_pay_81.92
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_character_modifier = stat_privilege_pay_40.96
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_character_modifier = stat_privilege_pay_20.48
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_character_modifier = stat_privilege_pay_10.24
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_character_modifier = stat_privilege_pay_5.12
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_character_modifier = stat_privilege_pay_2.56
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_character_modifier = stat_privilege_pay_1.28
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_character_modifier = stat_privilege_pay_0.64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_character_modifier = stat_privilege_pay_0.32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_character_modifier = stat_privilege_pay_0.16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_character_modifier = stat_privilege_pay_0.08
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_character_modifier = stat_privilege_pay_0.04
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_character_modifier = stat_privilege_pay_0.02
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_character_modifier = stat_privilege_pay_0.01
				}
			}
			set_variable = { 
				name = stat_main_t
				value = 0
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_2048
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2048
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2048
					}
				}
				else = { 
					remove_character_modifier = stat_maa_2048
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2048
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2048
					}
					add_character_modifier = stat_maa_2048
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_1024
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1024
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1024
					}
				}
				else = { 
					remove_character_modifier = stat_maa_1024
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1024
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1024
					}
					add_character_modifier = stat_maa_1024
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_512
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 512
					}
					change_variable = { 
						name = stat_main_t
						subtract = 512
					}
				}
				else = { 
					remove_character_modifier = stat_maa_512
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 512
					}
					change_variable = { 
						name = stat_main_t
						subtract = 512
					}
					add_character_modifier = stat_maa_512
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_256
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 256
					}
					change_variable = { 
						name = stat_main_t
						subtract = 256
					}
				}
				else = { 
					remove_character_modifier = stat_maa_256
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 256
					}
					change_variable = { 
						name = stat_main_t
						subtract = 256
					}
					add_character_modifier = stat_maa_256
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_128
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
				}
				else = { 
					remove_character_modifier = stat_maa_128
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
					add_character_modifier = stat_maa_128
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
				}
				else = { 
					remove_character_modifier = stat_maa_64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
					add_character_modifier = stat_maa_64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
				}
				else = { 
					remove_character_modifier = stat_maa_32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
					add_character_modifier = stat_maa_32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
				}
				else = { 
					remove_character_modifier = stat_maa_16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
					add_character_modifier = stat_maa_16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_8
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
				}
				else = { 
					remove_character_modifier = stat_maa_8
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
					add_character_modifier = stat_maa_8
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_4
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
				}
				else = { 
					remove_character_modifier = stat_maa_4
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
					add_character_modifier = stat_maa_4
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_2
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
				}
				else = { 
					remove_character_modifier = stat_maa_2
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
					add_character_modifier = stat_maa_2
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_1
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
				}
				else = { 
					remove_character_modifier = stat_maa_1
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
					add_character_modifier = stat_maa_1
				}
			}
		}
		if = { 
			limit = { 
				OR = { 
					is_landed = no
					is_ruler = no
					primary_title.tier = tier_barony
				}
				OR = { 
					has_variable = task_manage_domain_prog
					has_variable = task_manage_realm_prog
					has_variable = task_manage_logistics_prog
					has_variable = task_manage_stockpile_prog
				}
			}
			clear_variable_list = task_workers
			clear_variable_list = task_manage_domain
			clear_variable_list = array_task_manage_domain_time
			clear_variable_list = array_task_manage_domain_prog
			remove_variable = task_manage_domain_prog
			remove_variable = task_manage_domain_prestige
			remove_variable = task_manage_domain_lord
			remove_variable = task_manage_domain_diplomacy
			remove_variable = task_manage_domain_martial
			remove_variable = task_manage_domain_stewardship
			remove_variable = task_manage_domain_intrigue
			remove_variable = task_manage_domain_learning
			clear_variable_list = task_manage_realm
			clear_variable_list = array_task_manage_realm_time
			clear_variable_list = array_task_manage_realm_prog
			remove_variable = task_manage_realm_prog
			remove_variable = task_manage_realm_prestige
			remove_variable = task_manage_realm_lord
			remove_variable = task_manage_realm_diplomacy
			remove_variable = task_manage_realm_martial
			remove_variable = task_manage_realm_stewardship
			remove_variable = task_manage_realm_intrigue
			remove_variable = task_manage_realm_learning
			clear_variable_list = task_manage_logistics
			clear_variable_list = array_task_manage_logistics_time
			clear_variable_list = array_task_manage_logistics_prog
			remove_variable = task_manage_logistics_prog
			remove_variable = task_manage_logistics_prestige
			remove_variable = task_manage_logistics_lord
			remove_variable = task_manage_logistics_diplomacy
			remove_variable = task_manage_logistics_martial
			remove_variable = task_manage_logistics_stewardship
			remove_variable = task_manage_logistics_intrigue
			remove_variable = task_manage_logistics_learning
			clear_variable_list = task_manage_stockpile
			clear_variable_list = array_task_manage_stockpile_time
			clear_variable_list = array_task_manage_stockpile_prog
			remove_variable = task_manage_stockpile_prog
			remove_variable = task_manage_stockpile_prestige
			remove_variable = task_manage_stockpile_lord
			remove_variable = task_manage_stockpile_diplomacy
			remove_variable = task_manage_stockpile_martial
			remove_variable = task_manage_stockpile_stewardship
			remove_variable = task_manage_stockpile_intrigue
			remove_variable = task_manage_stockpile_learning
		}
	}
	option = { }
}
