namespace = death
death.01 = { 
	type = empty
	hidden = yes
	immediate = { 
		if = { 
			limit = { 
				is_ruler = yes
			}
			primary_heir = { 
				if = { 
					limit = { 
						is_ruler = no
					}
					clear_variable_list = trade_dat_food
					clear_variable_list = array_trade_dat_food
					set_variable = { 
						name = trade_in_food
						value = 0
					}
					set_variable = { 
						name = trade_out_food
						value = 0
					}
					set_variable = { 
						name = trade_earn_food
						value = 0
					}
					set_variable = { 
						name = trade_pay_food
						value = 0
					}
					set_variable = { 
						name = trade_has_food
						value = 0
					}
					set_variable = { 
						name = trade_want_food
						value = 0
					}
					set_variable = { 
						name = trade_price_food
						value = 0
					}
					set_variable = { 
						name = trade_sply_food
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_food
						value = 0
					}
					clear_variable_list = trade_dat_cereal
					clear_variable_list = array_trade_dat_cereal
					set_variable = { 
						name = trade_in_cereal
						value = 0
					}
					set_variable = { 
						name = trade_out_cereal
						value = 0
					}
					set_variable = { 
						name = trade_earn_cereal
						value = 0
					}
					set_variable = { 
						name = trade_pay_cereal
						value = 0
					}
					set_variable = { 
						name = trade_has_cereal
						value = 0
					}
					set_variable = { 
						name = trade_want_cereal
						value = 0
					}
					set_variable = { 
						name = trade_price_cereal
						value = 0
					}
					set_variable = { 
						name = trade_sply_cereal
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_cereal
						value = 0
					}
					clear_variable_list = trade_dat_salted
					clear_variable_list = array_trade_dat_salted
					set_variable = { 
						name = trade_in_salted
						value = 0
					}
					set_variable = { 
						name = trade_out_salted
						value = 0
					}
					set_variable = { 
						name = trade_earn_salted
						value = 0
					}
					set_variable = { 
						name = trade_pay_salted
						value = 0
					}
					set_variable = { 
						name = trade_has_salted
						value = 0
					}
					set_variable = { 
						name = trade_want_salted
						value = 0
					}
					set_variable = { 
						name = trade_price_salted
						value = 0
					}
					set_variable = { 
						name = trade_sply_salted
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_salted
						value = 0
					}
					clear_variable_list = trade_dat_salt
					clear_variable_list = array_trade_dat_salt
					set_variable = { 
						name = trade_in_salt
						value = 0
					}
					set_variable = { 
						name = trade_out_salt
						value = 0
					}
					set_variable = { 
						name = trade_earn_salt
						value = 0
					}
					set_variable = { 
						name = trade_pay_salt
						value = 0
					}
					set_variable = { 
						name = trade_has_salt
						value = 0
					}
					set_variable = { 
						name = trade_want_salt
						value = 0
					}
					set_variable = { 
						name = trade_price_salt
						value = 0
					}
					set_variable = { 
						name = trade_sply_salt
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_salt
						value = 0
					}
					clear_variable_list = trade_dat_mud
					clear_variable_list = array_trade_dat_mud
					set_variable = { 
						name = trade_in_mud
						value = 0
					}
					set_variable = { 
						name = trade_out_mud
						value = 0
					}
					set_variable = { 
						name = trade_earn_mud
						value = 0
					}
					set_variable = { 
						name = trade_pay_mud
						value = 0
					}
					set_variable = { 
						name = trade_has_mud
						value = 0
					}
					set_variable = { 
						name = trade_want_mud
						value = 0
					}
					set_variable = { 
						name = trade_price_mud
						value = 0
					}
					set_variable = { 
						name = trade_sply_mud
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_mud
						value = 0
					}
					clear_variable_list = trade_dat_fuel
					clear_variable_list = array_trade_dat_fuel
					set_variable = { 
						name = trade_in_fuel
						value = 0
					}
					set_variable = { 
						name = trade_out_fuel
						value = 0
					}
					set_variable = { 
						name = trade_earn_fuel
						value = 0
					}
					set_variable = { 
						name = trade_pay_fuel
						value = 0
					}
					set_variable = { 
						name = trade_has_fuel
						value = 0
					}
					set_variable = { 
						name = trade_want_fuel
						value = 0
					}
					set_variable = { 
						name = trade_price_fuel
						value = 0
					}
					set_variable = { 
						name = trade_sply_fuel
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_fuel
						value = 0
					}
					clear_variable_list = trade_dat_fiber
					clear_variable_list = array_trade_dat_fiber
					set_variable = { 
						name = trade_in_fiber
						value = 0
					}
					set_variable = { 
						name = trade_out_fiber
						value = 0
					}
					set_variable = { 
						name = trade_earn_fiber
						value = 0
					}
					set_variable = { 
						name = trade_pay_fiber
						value = 0
					}
					set_variable = { 
						name = trade_has_fiber
						value = 0
					}
					set_variable = { 
						name = trade_want_fiber
						value = 0
					}
					set_variable = { 
						name = trade_price_fiber
						value = 0
					}
					set_variable = { 
						name = trade_sply_fiber
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_fiber
						value = 0
					}
					clear_variable_list = trade_dat_timber
					clear_variable_list = array_trade_dat_timber
					set_variable = { 
						name = trade_in_timber
						value = 0
					}
					set_variable = { 
						name = trade_out_timber
						value = 0
					}
					set_variable = { 
						name = trade_earn_timber
						value = 0
					}
					set_variable = { 
						name = trade_pay_timber
						value = 0
					}
					set_variable = { 
						name = trade_has_timber
						value = 0
					}
					set_variable = { 
						name = trade_want_timber
						value = 0
					}
					set_variable = { 
						name = trade_price_timber
						value = 0
					}
					set_variable = { 
						name = trade_sply_timber
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_timber
						value = 0
					}
					clear_variable_list = trade_dat_metal
					clear_variable_list = array_trade_dat_metal
					set_variable = { 
						name = trade_in_metal
						value = 0
					}
					set_variable = { 
						name = trade_out_metal
						value = 0
					}
					set_variable = { 
						name = trade_earn_metal
						value = 0
					}
					set_variable = { 
						name = trade_pay_metal
						value = 0
					}
					set_variable = { 
						name = trade_has_metal
						value = 0
					}
					set_variable = { 
						name = trade_want_metal
						value = 0
					}
					set_variable = { 
						name = trade_price_metal
						value = 0
					}
					set_variable = { 
						name = trade_sply_metal
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_metal
						value = 0
					}
					clear_variable_list = trade_dat_exotics_w
					clear_variable_list = array_trade_dat_exotics_w
					set_variable = { 
						name = trade_in_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_w
						value = 0
					}
					clear_variable_list = trade_dat_exotics_e
					clear_variable_list = array_trade_dat_exotics_e
					set_variable = { 
						name = trade_in_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_e
						value = 0
					}
					clear_variable_list = trade_dat_exotics_g
					clear_variable_list = array_trade_dat_exotics_g
					set_variable = { 
						name = trade_in_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_earn_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_pay_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_has_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_want_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_price_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_sply_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_exotics_g
						value = 0
					}
					clear_variable_list = trade_dat_textile
					clear_variable_list = array_trade_dat_textile
					set_variable = { 
						name = trade_in_textile
						value = 0
					}
					set_variable = { 
						name = trade_out_textile
						value = 0
					}
					set_variable = { 
						name = trade_earn_textile
						value = 0
					}
					set_variable = { 
						name = trade_pay_textile
						value = 0
					}
					set_variable = { 
						name = trade_has_textile
						value = 0
					}
					set_variable = { 
						name = trade_want_textile
						value = 0
					}
					set_variable = { 
						name = trade_price_textile
						value = 0
					}
					set_variable = { 
						name = trade_sply_textile
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_textile
						value = 0
					}
					clear_variable_list = trade_dat_pottery
					clear_variable_list = array_trade_dat_pottery
					set_variable = { 
						name = trade_in_pottery
						value = 0
					}
					set_variable = { 
						name = trade_out_pottery
						value = 0
					}
					set_variable = { 
						name = trade_earn_pottery
						value = 0
					}
					set_variable = { 
						name = trade_pay_pottery
						value = 0
					}
					set_variable = { 
						name = trade_has_pottery
						value = 0
					}
					set_variable = { 
						name = trade_want_pottery
						value = 0
					}
					set_variable = { 
						name = trade_price_pottery
						value = 0
					}
					set_variable = { 
						name = trade_sply_pottery
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_pottery
						value = 0
					}
					clear_variable_list = trade_dat_tools
					clear_variable_list = array_trade_dat_tools
					set_variable = { 
						name = trade_in_tools
						value = 0
					}
					set_variable = { 
						name = trade_out_tools
						value = 0
					}
					set_variable = { 
						name = trade_earn_tools
						value = 0
					}
					set_variable = { 
						name = trade_pay_tools
						value = 0
					}
					set_variable = { 
						name = trade_has_tools
						value = 0
					}
					set_variable = { 
						name = trade_want_tools
						value = 0
					}
					set_variable = { 
						name = trade_price_tools
						value = 0
					}
					set_variable = { 
						name = trade_sply_tools
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_tools
						value = 0
					}
					clear_variable_list = trade_dat_armaments
					clear_variable_list = array_trade_dat_armaments
					set_variable = { 
						name = trade_in_armaments
						value = 0
					}
					set_variable = { 
						name = trade_out_armaments
						value = 0
					}
					set_variable = { 
						name = trade_earn_armaments
						value = 0
					}
					set_variable = { 
						name = trade_pay_armaments
						value = 0
					}
					set_variable = { 
						name = trade_has_armaments
						value = 0
					}
					set_variable = { 
						name = trade_want_armaments
						value = 0
					}
					set_variable = { 
						name = trade_price_armaments
						value = 0
					}
					set_variable = { 
						name = trade_sply_armaments
						value = 0
					}
					set_variable = { 
						name = trade_dmnd_armaments
						value = 0
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_food
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_food
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_food
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_food
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_food
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_food
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_food
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_food
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_food
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_food
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_food
						multiply = var:trade_has_food
					}
				}
				change_variable = { 
					name = trade_price_food
					multiply = var:trade_has_food
				}
				change_variable = { 
					name = trade_price_food
					add = prev.var:trade_price_food
				}
				change_variable = { 
					name = trade_in_food
					add = prev.var:trade_in_food
				}
				change_variable = { 
					name = trade_out_food
					add = prev.var:trade_out_food
				}
				change_variable = { 
					name = trade_earn_food
					add = prev.var:trade_earn_food
				}
				change_variable = { 
					name = trade_pay_food
					add = prev.var:trade_pay_food
				}
				change_variable = { 
					name = trade_has_food
					add = prev.var:trade_has_food
				}
				change_variable = { 
					name = trade_want_food
					add = prev.var:trade_want_food
				}
				change_variable = { 
					name = trade_sply_food
					add = prev.var:trade_sply_food
				}
				change_variable = { 
					name = trade_dmnd_food
					add = prev.var:trade_dmnd_food
				}
				if = { 
					limit = { 
						has_variable = trade_has_food
						var:trade_has_food > 0
					}
					change_variable = { 
						name = trade_price_food
						divide = var:trade_has_food
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_cereal
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_cereal
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_cereal
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_cereal
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_cereal
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_cereal
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_cereal
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_cereal
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_cereal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_cereal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_cereal
						multiply = var:trade_has_cereal
					}
				}
				change_variable = { 
					name = trade_price_cereal
					multiply = var:trade_has_cereal
				}
				change_variable = { 
					name = trade_price_cereal
					add = prev.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_in_cereal
					add = prev.var:trade_in_cereal
				}
				change_variable = { 
					name = trade_out_cereal
					add = prev.var:trade_out_cereal
				}
				change_variable = { 
					name = trade_earn_cereal
					add = prev.var:trade_earn_cereal
				}
				change_variable = { 
					name = trade_pay_cereal
					add = prev.var:trade_pay_cereal
				}
				change_variable = { 
					name = trade_has_cereal
					add = prev.var:trade_has_cereal
				}
				change_variable = { 
					name = trade_want_cereal
					add = prev.var:trade_want_cereal
				}
				change_variable = { 
					name = trade_sply_cereal
					add = prev.var:trade_sply_cereal
				}
				change_variable = { 
					name = trade_dmnd_cereal
					add = prev.var:trade_dmnd_cereal
				}
				if = { 
					limit = { 
						has_variable = trade_has_cereal
						var:trade_has_cereal > 0
					}
					change_variable = { 
						name = trade_price_cereal
						divide = var:trade_has_cereal
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_salted
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_salted
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_salted
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salted
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_salted
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_salted
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_salted
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_salted
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salted
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salted
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_salted
						multiply = var:trade_has_salted
					}
				}
				change_variable = { 
					name = trade_price_salted
					multiply = var:trade_has_salted
				}
				change_variable = { 
					name = trade_price_salted
					add = prev.var:trade_price_salted
				}
				change_variable = { 
					name = trade_in_salted
					add = prev.var:trade_in_salted
				}
				change_variable = { 
					name = trade_out_salted
					add = prev.var:trade_out_salted
				}
				change_variable = { 
					name = trade_earn_salted
					add = prev.var:trade_earn_salted
				}
				change_variable = { 
					name = trade_pay_salted
					add = prev.var:trade_pay_salted
				}
				change_variable = { 
					name = trade_has_salted
					add = prev.var:trade_has_salted
				}
				change_variable = { 
					name = trade_want_salted
					add = prev.var:trade_want_salted
				}
				change_variable = { 
					name = trade_sply_salted
					add = prev.var:trade_sply_salted
				}
				change_variable = { 
					name = trade_dmnd_salted
					add = prev.var:trade_dmnd_salted
				}
				if = { 
					limit = { 
						has_variable = trade_has_salted
						var:trade_has_salted > 0
					}
					change_variable = { 
						name = trade_price_salted
						divide = var:trade_has_salted
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_salt
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_salt
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_salt
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salt
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_salt
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_salt
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_salt
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_salt
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salt
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salt
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_salt
						multiply = var:trade_has_salt
					}
				}
				change_variable = { 
					name = trade_price_salt
					multiply = var:trade_has_salt
				}
				change_variable = { 
					name = trade_price_salt
					add = prev.var:trade_price_salt
				}
				change_variable = { 
					name = trade_in_salt
					add = prev.var:trade_in_salt
				}
				change_variable = { 
					name = trade_out_salt
					add = prev.var:trade_out_salt
				}
				change_variable = { 
					name = trade_earn_salt
					add = prev.var:trade_earn_salt
				}
				change_variable = { 
					name = trade_pay_salt
					add = prev.var:trade_pay_salt
				}
				change_variable = { 
					name = trade_has_salt
					add = prev.var:trade_has_salt
				}
				change_variable = { 
					name = trade_want_salt
					add = prev.var:trade_want_salt
				}
				change_variable = { 
					name = trade_sply_salt
					add = prev.var:trade_sply_salt
				}
				change_variable = { 
					name = trade_dmnd_salt
					add = prev.var:trade_dmnd_salt
				}
				if = { 
					limit = { 
						has_variable = trade_has_salt
						var:trade_has_salt > 0
					}
					change_variable = { 
						name = trade_price_salt
						divide = var:trade_has_salt
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_mud
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_mud
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_mud
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_mud
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_mud
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_mud
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_mud
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_mud
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_mud
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_mud
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_mud
						multiply = var:trade_has_mud
					}
				}
				change_variable = { 
					name = trade_price_mud
					multiply = var:trade_has_mud
				}
				change_variable = { 
					name = trade_price_mud
					add = prev.var:trade_price_mud
				}
				change_variable = { 
					name = trade_in_mud
					add = prev.var:trade_in_mud
				}
				change_variable = { 
					name = trade_out_mud
					add = prev.var:trade_out_mud
				}
				change_variable = { 
					name = trade_earn_mud
					add = prev.var:trade_earn_mud
				}
				change_variable = { 
					name = trade_pay_mud
					add = prev.var:trade_pay_mud
				}
				change_variable = { 
					name = trade_has_mud
					add = prev.var:trade_has_mud
				}
				change_variable = { 
					name = trade_want_mud
					add = prev.var:trade_want_mud
				}
				change_variable = { 
					name = trade_sply_mud
					add = prev.var:trade_sply_mud
				}
				change_variable = { 
					name = trade_dmnd_mud
					add = prev.var:trade_dmnd_mud
				}
				if = { 
					limit = { 
						has_variable = trade_has_mud
						var:trade_has_mud > 0
					}
					change_variable = { 
						name = trade_price_mud
						divide = var:trade_has_mud
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_fuel
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_fuel
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_fuel
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fuel
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_fuel
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_fuel
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_fuel
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_fuel
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fuel
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fuel
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_fuel
						multiply = var:trade_has_fuel
					}
				}
				change_variable = { 
					name = trade_price_fuel
					multiply = var:trade_has_fuel
				}
				change_variable = { 
					name = trade_price_fuel
					add = prev.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_in_fuel
					add = prev.var:trade_in_fuel
				}
				change_variable = { 
					name = trade_out_fuel
					add = prev.var:trade_out_fuel
				}
				change_variable = { 
					name = trade_earn_fuel
					add = prev.var:trade_earn_fuel
				}
				change_variable = { 
					name = trade_pay_fuel
					add = prev.var:trade_pay_fuel
				}
				change_variable = { 
					name = trade_has_fuel
					add = prev.var:trade_has_fuel
				}
				change_variable = { 
					name = trade_want_fuel
					add = prev.var:trade_want_fuel
				}
				change_variable = { 
					name = trade_sply_fuel
					add = prev.var:trade_sply_fuel
				}
				change_variable = { 
					name = trade_dmnd_fuel
					add = prev.var:trade_dmnd_fuel
				}
				if = { 
					limit = { 
						has_variable = trade_has_fuel
						var:trade_has_fuel > 0
					}
					change_variable = { 
						name = trade_price_fuel
						divide = var:trade_has_fuel
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_fiber
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_fiber
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_fiber
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fiber
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_fiber
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_fiber
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_fiber
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_fiber
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fiber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fiber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_fiber
						multiply = var:trade_has_fiber
					}
				}
				change_variable = { 
					name = trade_price_fiber
					multiply = var:trade_has_fiber
				}
				change_variable = { 
					name = trade_price_fiber
					add = prev.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_in_fiber
					add = prev.var:trade_in_fiber
				}
				change_variable = { 
					name = trade_out_fiber
					add = prev.var:trade_out_fiber
				}
				change_variable = { 
					name = trade_earn_fiber
					add = prev.var:trade_earn_fiber
				}
				change_variable = { 
					name = trade_pay_fiber
					add = prev.var:trade_pay_fiber
				}
				change_variable = { 
					name = trade_has_fiber
					add = prev.var:trade_has_fiber
				}
				change_variable = { 
					name = trade_want_fiber
					add = prev.var:trade_want_fiber
				}
				change_variable = { 
					name = trade_sply_fiber
					add = prev.var:trade_sply_fiber
				}
				change_variable = { 
					name = trade_dmnd_fiber
					add = prev.var:trade_dmnd_fiber
				}
				if = { 
					limit = { 
						has_variable = trade_has_fiber
						var:trade_has_fiber > 0
					}
					change_variable = { 
						name = trade_price_fiber
						divide = var:trade_has_fiber
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_timber
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_timber
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_timber
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_timber
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_timber
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_timber
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_timber
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_timber
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_timber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_timber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_timber
						multiply = var:trade_has_timber
					}
				}
				change_variable = { 
					name = trade_price_timber
					multiply = var:trade_has_timber
				}
				change_variable = { 
					name = trade_price_timber
					add = prev.var:trade_price_timber
				}
				change_variable = { 
					name = trade_in_timber
					add = prev.var:trade_in_timber
				}
				change_variable = { 
					name = trade_out_timber
					add = prev.var:trade_out_timber
				}
				change_variable = { 
					name = trade_earn_timber
					add = prev.var:trade_earn_timber
				}
				change_variable = { 
					name = trade_pay_timber
					add = prev.var:trade_pay_timber
				}
				change_variable = { 
					name = trade_has_timber
					add = prev.var:trade_has_timber
				}
				change_variable = { 
					name = trade_want_timber
					add = prev.var:trade_want_timber
				}
				change_variable = { 
					name = trade_sply_timber
					add = prev.var:trade_sply_timber
				}
				change_variable = { 
					name = trade_dmnd_timber
					add = prev.var:trade_dmnd_timber
				}
				if = { 
					limit = { 
						has_variable = trade_has_timber
						var:trade_has_timber > 0
					}
					change_variable = { 
						name = trade_price_timber
						divide = var:trade_has_timber
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_metal
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_metal
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_metal
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_metal
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_metal
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_metal
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_metal
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_metal
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_metal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_metal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_metal
						multiply = var:trade_has_metal
					}
				}
				change_variable = { 
					name = trade_price_metal
					multiply = var:trade_has_metal
				}
				change_variable = { 
					name = trade_price_metal
					add = prev.var:trade_price_metal
				}
				change_variable = { 
					name = trade_in_metal
					add = prev.var:trade_in_metal
				}
				change_variable = { 
					name = trade_out_metal
					add = prev.var:trade_out_metal
				}
				change_variable = { 
					name = trade_earn_metal
					add = prev.var:trade_earn_metal
				}
				change_variable = { 
					name = trade_pay_metal
					add = prev.var:trade_pay_metal
				}
				change_variable = { 
					name = trade_has_metal
					add = prev.var:trade_has_metal
				}
				change_variable = { 
					name = trade_want_metal
					add = prev.var:trade_want_metal
				}
				change_variable = { 
					name = trade_sply_metal
					add = prev.var:trade_sply_metal
				}
				change_variable = { 
					name = trade_dmnd_metal
					add = prev.var:trade_dmnd_metal
				}
				if = { 
					limit = { 
						has_variable = trade_has_metal
						var:trade_has_metal > 0
					}
					change_variable = { 
						name = trade_price_metal
						divide = var:trade_has_metal
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_w
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_w
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_w
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_w
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_w
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_w
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_w
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_w
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_w
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_w
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_w
						multiply = var:trade_has_exotics_w
					}
				}
				change_variable = { 
					name = trade_price_exotics_w
					multiply = var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_price_exotics_w
					add = prev.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_in_exotics_w
					add = prev.var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_out_exotics_w
					add = prev.var:trade_out_exotics_w
				}
				change_variable = { 
					name = trade_earn_exotics_w
					add = prev.var:trade_earn_exotics_w
				}
				change_variable = { 
					name = trade_pay_exotics_w
					add = prev.var:trade_pay_exotics_w
				}
				change_variable = { 
					name = trade_has_exotics_w
					add = prev.var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_want_exotics_w
					add = prev.var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_sply_exotics_w
					add = prev.var:trade_sply_exotics_w
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					add = prev.var:trade_dmnd_exotics_w
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_w
						var:trade_has_exotics_w > 0
					}
					change_variable = { 
						name = trade_price_exotics_w
						divide = var:trade_has_exotics_w
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_e
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_e
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_e
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_e
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_e
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_e
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_e
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_e
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_e
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_e
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_e
						multiply = var:trade_has_exotics_e
					}
				}
				change_variable = { 
					name = trade_price_exotics_e
					multiply = var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_price_exotics_e
					add = prev.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_in_exotics_e
					add = prev.var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_out_exotics_e
					add = prev.var:trade_out_exotics_e
				}
				change_variable = { 
					name = trade_earn_exotics_e
					add = prev.var:trade_earn_exotics_e
				}
				change_variable = { 
					name = trade_pay_exotics_e
					add = prev.var:trade_pay_exotics_e
				}
				change_variable = { 
					name = trade_has_exotics_e
					add = prev.var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_want_exotics_e
					add = prev.var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_sply_exotics_e
					add = prev.var:trade_sply_exotics_e
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					add = prev.var:trade_dmnd_exotics_e
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_e
						var:trade_has_exotics_e > 0
					}
					change_variable = { 
						name = trade_price_exotics_e
						divide = var:trade_has_exotics_e
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_exotics_g
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_exotics_g
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_exotics_g
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_g
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_exotics_g
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_exotics_g
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_exotics_g
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_exotics_g
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_g
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_g
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_exotics_g
						multiply = var:trade_has_exotics_g
					}
				}
				change_variable = { 
					name = trade_price_exotics_g
					multiply = var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_price_exotics_g
					add = prev.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_in_exotics_g
					add = prev.var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_out_exotics_g
					add = prev.var:trade_out_exotics_g
				}
				change_variable = { 
					name = trade_earn_exotics_g
					add = prev.var:trade_earn_exotics_g
				}
				change_variable = { 
					name = trade_pay_exotics_g
					add = prev.var:trade_pay_exotics_g
				}
				change_variable = { 
					name = trade_has_exotics_g
					add = prev.var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_want_exotics_g
					add = prev.var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_sply_exotics_g
					add = prev.var:trade_sply_exotics_g
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					add = prev.var:trade_dmnd_exotics_g
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_g
						var:trade_has_exotics_g > 0
					}
					change_variable = { 
						name = trade_price_exotics_g
						divide = var:trade_has_exotics_g
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_textile
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_textile
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_textile
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_textile
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_textile
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_textile
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_textile
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_textile
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_textile
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_textile
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_textile
						multiply = var:trade_has_textile
					}
				}
				change_variable = { 
					name = trade_price_textile
					multiply = var:trade_has_textile
				}
				change_variable = { 
					name = trade_price_textile
					add = prev.var:trade_price_textile
				}
				change_variable = { 
					name = trade_in_textile
					add = prev.var:trade_in_textile
				}
				change_variable = { 
					name = trade_out_textile
					add = prev.var:trade_out_textile
				}
				change_variable = { 
					name = trade_earn_textile
					add = prev.var:trade_earn_textile
				}
				change_variable = { 
					name = trade_pay_textile
					add = prev.var:trade_pay_textile
				}
				change_variable = { 
					name = trade_has_textile
					add = prev.var:trade_has_textile
				}
				change_variable = { 
					name = trade_want_textile
					add = prev.var:trade_want_textile
				}
				change_variable = { 
					name = trade_sply_textile
					add = prev.var:trade_sply_textile
				}
				change_variable = { 
					name = trade_dmnd_textile
					add = prev.var:trade_dmnd_textile
				}
				if = { 
					limit = { 
						has_variable = trade_has_textile
						var:trade_has_textile > 0
					}
					change_variable = { 
						name = trade_price_textile
						divide = var:trade_has_textile
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_pottery
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_pottery
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_pottery
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_pottery
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_pottery
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_pottery
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_pottery
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_pottery
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_pottery
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_pottery
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_pottery
						multiply = var:trade_has_pottery
					}
				}
				change_variable = { 
					name = trade_price_pottery
					multiply = var:trade_has_pottery
				}
				change_variable = { 
					name = trade_price_pottery
					add = prev.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_in_pottery
					add = prev.var:trade_in_pottery
				}
				change_variable = { 
					name = trade_out_pottery
					add = prev.var:trade_out_pottery
				}
				change_variable = { 
					name = trade_earn_pottery
					add = prev.var:trade_earn_pottery
				}
				change_variable = { 
					name = trade_pay_pottery
					add = prev.var:trade_pay_pottery
				}
				change_variable = { 
					name = trade_has_pottery
					add = prev.var:trade_has_pottery
				}
				change_variable = { 
					name = trade_want_pottery
					add = prev.var:trade_want_pottery
				}
				change_variable = { 
					name = trade_sply_pottery
					add = prev.var:trade_sply_pottery
				}
				change_variable = { 
					name = trade_dmnd_pottery
					add = prev.var:trade_dmnd_pottery
				}
				if = { 
					limit = { 
						has_variable = trade_has_pottery
						var:trade_has_pottery > 0
					}
					change_variable = { 
						name = trade_price_pottery
						divide = var:trade_has_pottery
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_tools
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_tools
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_tools
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_tools
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_tools
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_tools
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_tools
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_tools
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_tools
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_tools
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_tools
						multiply = var:trade_has_tools
					}
				}
				change_variable = { 
					name = trade_price_tools
					multiply = var:trade_has_tools
				}
				change_variable = { 
					name = trade_price_tools
					add = prev.var:trade_price_tools
				}
				change_variable = { 
					name = trade_in_tools
					add = prev.var:trade_in_tools
				}
				change_variable = { 
					name = trade_out_tools
					add = prev.var:trade_out_tools
				}
				change_variable = { 
					name = trade_earn_tools
					add = prev.var:trade_earn_tools
				}
				change_variable = { 
					name = trade_pay_tools
					add = prev.var:trade_pay_tools
				}
				change_variable = { 
					name = trade_has_tools
					add = prev.var:trade_has_tools
				}
				change_variable = { 
					name = trade_want_tools
					add = prev.var:trade_want_tools
				}
				change_variable = { 
					name = trade_sply_tools
					add = prev.var:trade_sply_tools
				}
				change_variable = { 
					name = trade_dmnd_tools
					add = prev.var:trade_dmnd_tools
				}
				if = { 
					limit = { 
						has_variable = trade_has_tools
						var:trade_has_tools > 0
					}
					change_variable = { 
						name = trade_price_tools
						divide = var:trade_has_tools
					}
				}
				prev = { 
					set_variable = { 
						name = trade_death_handler_t
						value = 0
					}
					save_temporary_scope_as = trade_death_handler_t
					every_in_list = { 
						variable = trade_dat_armaments
						save_temporary_scope_as = trade_death_handler_tt
						prev.primary_heir = { 
							if = { 
								limit = { 
									is_target_in_variable_list = { 
										name = trade_dat_armaments
										target = prev
									}
								}
								set_global_variable = { 
									name = trade_death_handler_t
									value = 0
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_death_handler_t
									}
									variable = trade_dat_armaments
									if = { 
										limit = { 
											this = scope:trade_death_handler_tt
										}
										prev = { 
											remove_list_variable = { 
												name = trade_dat_armaments
												target = prev
											}
											add_to_variable_list = { 
												name = trade_dat_armaments
												target = prev
											}
											scope:trade_death_handler_t = { 
												set_global_variable = { 
													name = array_get_t
													value = var:trade_death_handler_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_get_t
															}
															global_var:array_get_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = 0
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = global_var:array_get_t.compare_value
														prev = { 
															set_variable = { 
																name = trade_death_handler_tt
																value = prev
															}
														}
													}
												}
												change_variable = { 
													name = trade_death_handler_tt
													divide = 10
												}
												remove_global_variable = array_get_t
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_death_handler_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															add = scope:trade_death_handler_t.var:trade_death_handler_tt
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
										}
										remove_global_variable = trade_death_handler_t
									}
									else = { 
										change_global_variable = { 
											name = trade_death_handler_t
											add = 1
										}
									}
								}
							}
							else = { 
								add_to_variable_list = { 
									name = trade_dat_armaments
									target = prev
								}
								scope:trade_death_handler_t = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_death_handler_t
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_dat_armaments
											position = 0
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_dat_armaments
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_death_handler_tt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_death_handler_tt
										divide = 10
									}
									remove_global_variable = array_get_t
								}
								set_variable = { 
									name = array_add_t
									value = scope:trade_death_handler_t.var:trade_death_handler_tt
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_armaments
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_armaments
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
							}
						}
						prev = { 
							change_variable = { 
								name = trade_death_handler_t
								add = 1
							}
						}
					}
					remove_variable = trade_death_handler_t
					remove_variable = trade_death_handler_tt
				}
				prev = { 
					change_variable = { 
						name = trade_price_armaments
						multiply = var:trade_has_armaments
					}
				}
				change_variable = { 
					name = trade_price_armaments
					multiply = var:trade_has_armaments
				}
				change_variable = { 
					name = trade_price_armaments
					add = prev.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_in_armaments
					add = prev.var:trade_in_armaments
				}
				change_variable = { 
					name = trade_out_armaments
					add = prev.var:trade_out_armaments
				}
				change_variable = { 
					name = trade_earn_armaments
					add = prev.var:trade_earn_armaments
				}
				change_variable = { 
					name = trade_pay_armaments
					add = prev.var:trade_pay_armaments
				}
				change_variable = { 
					name = trade_has_armaments
					add = prev.var:trade_has_armaments
				}
				change_variable = { 
					name = trade_want_armaments
					add = prev.var:trade_want_armaments
				}
				change_variable = { 
					name = trade_sply_armaments
					add = prev.var:trade_sply_armaments
				}
				change_variable = { 
					name = trade_dmnd_armaments
					add = prev.var:trade_dmnd_armaments
				}
				if = { 
					limit = { 
						has_variable = trade_has_armaments
						var:trade_has_armaments > 0
					}
					change_variable = { 
						name = trade_price_armaments
						divide = var:trade_has_armaments
					}
				}
			}
		}
		if = { 
			limit = { 
				is_ruler = yes
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_maa
					}
				}
				set_variable = { 
					name = mil_maa
					value = 0
				}
			}
			primary_heir = { 
				if = { 
					limit = { 
						NOT = { 
							has_variable = mil_maa
						}
					}
					set_variable = { 
						name = mil_maa
						value = 0
					}
				}
				change_variable = { 
					name = mil_maa
					add = prev.var:mil_maa
				}
			}
		}
		if = { 
			limit = { 
				has_variable_list = task_tasks
			}
			every_in_list = { 
				variable = task_tasks
				save_temporary_scope_as = task_death_handler_h
				prev.primary_heir = { 
					if = { 
						limit = { 
							NOT = { 
								any_in_list = { 
									variable = task_tasks
									var:task_template = scope:task_death_handler_h.var:task_template
								}
							}
						}
						prev = { 
							set_variable = { 
								name = task_owner
								value = prev.primary_heir
							}
						}
						add_to_variable_list = { 
							name = task_tasks
							target = prev
						}
					}
					else = { 
						prev = { 
							remove_list_global_variable = { 
								name = task_tasks_active
								target = this
							}
							add_to_global_variable_list = { 
								name = task_tasks
								target = this
							}
							var:task_owner = { 
								remove_list_variable = { 
									name = task_tasks
									target = prev
								}
							}
							var:task_template = { 
								remove_list_variable = { 
									name = task_tasks
									target = prev
								}
							}
							remove_variable = task_owner
							remove_variable = task_worker
							remove_variable = task_template
							remove_variable = task_delegate
							remove_variable = task_time_cost
							remove_variable = task_time_in
							remove_variable = task_crpt
						}
					}
				}
			}
		}
	}
	option = { }
}
death.02 = { 
	type = empty
	hidden = yes
	immediate = { 
		set_variable = { 
			name = is_character
			value = 1
		}
		if = { 
			limit = { 
				is_ruler = yes
				is_landed = yes
				OR = { 
					NOT = { 
						has_variable = trade_earn
					}
					NOT = { 
						has_variable = trade_pay
					}
				}
			}
			set_variable = { 
				name = trade_earn
				value = 0
			}
			set_variable = { 
				name = trade_pay
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_food
					}
				}
				set_variable = { 
					name = trade_in_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_food
					}
				}
				set_variable = { 
					name = trade_out_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_food
					}
				}
				set_variable = { 
					name = trade_earn_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_food
					}
				}
				set_variable = { 
					name = trade_pay_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_food
					}
				}
				set_variable = { 
					name = trade_has_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_food
					}
				}
				set_variable = { 
					name = trade_want_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_food
					}
				}
				set_variable = { 
					name = trade_price_food
					value = capital_county.var:trade_price_food
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_food
					}
				}
				set_variable = { 
					name = trade_sply_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_food
					}
				}
				set_variable = { 
					name = trade_dmnd_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_cereal
					}
				}
				set_variable = { 
					name = trade_in_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_cereal
					}
				}
				set_variable = { 
					name = trade_out_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_cereal
					}
				}
				set_variable = { 
					name = trade_earn_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_cereal
					}
				}
				set_variable = { 
					name = trade_pay_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_cereal
					}
				}
				set_variable = { 
					name = trade_has_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_cereal
					}
				}
				set_variable = { 
					name = trade_want_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_price_cereal
					value = capital_county.var:trade_price_cereal
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_cereal
					}
				}
				set_variable = { 
					name = trade_sply_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_cereal
					}
				}
				set_variable = { 
					name = trade_dmnd_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_salted
					}
				}
				set_variable = { 
					name = trade_in_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_salted
					}
				}
				set_variable = { 
					name = trade_out_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_salted
					}
				}
				set_variable = { 
					name = trade_earn_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_salted
					}
				}
				set_variable = { 
					name = trade_pay_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salted
					}
				}
				set_variable = { 
					name = trade_has_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_salted
					}
				}
				set_variable = { 
					name = trade_want_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_salted
					}
				}
				set_variable = { 
					name = trade_price_salted
					value = capital_county.var:trade_price_salted
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salted
					}
				}
				set_variable = { 
					name = trade_sply_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salted
					}
				}
				set_variable = { 
					name = trade_dmnd_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_salt
					}
				}
				set_variable = { 
					name = trade_in_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_salt
					}
				}
				set_variable = { 
					name = trade_out_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_salt
					}
				}
				set_variable = { 
					name = trade_earn_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_salt
					}
				}
				set_variable = { 
					name = trade_pay_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salt
					}
				}
				set_variable = { 
					name = trade_has_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_salt
					}
				}
				set_variable = { 
					name = trade_want_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_salt
					}
				}
				set_variable = { 
					name = trade_price_salt
					value = capital_county.var:trade_price_salt
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salt
					}
				}
				set_variable = { 
					name = trade_sply_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salt
					}
				}
				set_variable = { 
					name = trade_dmnd_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_mud
					}
				}
				set_variable = { 
					name = trade_in_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_mud
					}
				}
				set_variable = { 
					name = trade_out_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_mud
					}
				}
				set_variable = { 
					name = trade_earn_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_mud
					}
				}
				set_variable = { 
					name = trade_pay_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_mud
					}
				}
				set_variable = { 
					name = trade_has_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_mud
					}
				}
				set_variable = { 
					name = trade_want_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_mud
					}
				}
				set_variable = { 
					name = trade_price_mud
					value = capital_county.var:trade_price_mud
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_mud
					}
				}
				set_variable = { 
					name = trade_sply_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_mud
					}
				}
				set_variable = { 
					name = trade_dmnd_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_fuel
					}
				}
				set_variable = { 
					name = trade_in_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_fuel
					}
				}
				set_variable = { 
					name = trade_out_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_fuel
					}
				}
				set_variable = { 
					name = trade_earn_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_fuel
					}
				}
				set_variable = { 
					name = trade_pay_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fuel
					}
				}
				set_variable = { 
					name = trade_has_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_fuel
					}
				}
				set_variable = { 
					name = trade_want_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_price_fuel
					value = capital_county.var:trade_price_fuel
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fuel
					}
				}
				set_variable = { 
					name = trade_sply_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fuel
					}
				}
				set_variable = { 
					name = trade_dmnd_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_fiber
					}
				}
				set_variable = { 
					name = trade_in_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_fiber
					}
				}
				set_variable = { 
					name = trade_out_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_fiber
					}
				}
				set_variable = { 
					name = trade_earn_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_fiber
					}
				}
				set_variable = { 
					name = trade_pay_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fiber
					}
				}
				set_variable = { 
					name = trade_has_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_fiber
					}
				}
				set_variable = { 
					name = trade_want_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_price_fiber
					value = capital_county.var:trade_price_fiber
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fiber
					}
				}
				set_variable = { 
					name = trade_sply_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fiber
					}
				}
				set_variable = { 
					name = trade_dmnd_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_timber
					}
				}
				set_variable = { 
					name = trade_in_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_timber
					}
				}
				set_variable = { 
					name = trade_out_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_timber
					}
				}
				set_variable = { 
					name = trade_earn_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_timber
					}
				}
				set_variable = { 
					name = trade_pay_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_timber
					}
				}
				set_variable = { 
					name = trade_has_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_timber
					}
				}
				set_variable = { 
					name = trade_want_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_timber
					}
				}
				set_variable = { 
					name = trade_price_timber
					value = capital_county.var:trade_price_timber
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_timber
					}
				}
				set_variable = { 
					name = trade_sply_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_timber
					}
				}
				set_variable = { 
					name = trade_dmnd_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_metal
					}
				}
				set_variable = { 
					name = trade_in_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_metal
					}
				}
				set_variable = { 
					name = trade_out_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_metal
					}
				}
				set_variable = { 
					name = trade_earn_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_metal
					}
				}
				set_variable = { 
					name = trade_pay_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_metal
					}
				}
				set_variable = { 
					name = trade_has_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_metal
					}
				}
				set_variable = { 
					name = trade_want_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_metal
					}
				}
				set_variable = { 
					name = trade_price_metal
					value = capital_county.var:trade_price_metal
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_metal
					}
				}
				set_variable = { 
					name = trade_sply_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_metal
					}
				}
				set_variable = { 
					name = trade_dmnd_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_w
					}
				}
				set_variable = { 
					name = trade_in_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_w
					}
				}
				set_variable = { 
					name = trade_out_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_w
					}
				}
				set_variable = { 
					name = trade_earn_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_w
					}
				}
				set_variable = { 
					name = trade_pay_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_w
					}
				}
				set_variable = { 
					name = trade_has_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_w
					}
				}
				set_variable = { 
					name = trade_want_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = capital_county.var:trade_price_exotics_w
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_w
					}
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_e
					}
				}
				set_variable = { 
					name = trade_in_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_e
					}
				}
				set_variable = { 
					name = trade_out_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_e
					}
				}
				set_variable = { 
					name = trade_earn_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_e
					}
				}
				set_variable = { 
					name = trade_pay_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_e
					}
				}
				set_variable = { 
					name = trade_has_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_e
					}
				}
				set_variable = { 
					name = trade_want_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = capital_county.var:trade_price_exotics_e
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_e
					}
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_exotics_g
					}
				}
				set_variable = { 
					name = trade_in_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_exotics_g
					}
				}
				set_variable = { 
					name = trade_out_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_exotics_g
					}
				}
				set_variable = { 
					name = trade_earn_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_exotics_g
					}
				}
				set_variable = { 
					name = trade_pay_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_g
					}
				}
				set_variable = { 
					name = trade_has_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_exotics_g
					}
				}
				set_variable = { 
					name = trade_want_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = capital_county.var:trade_price_exotics_g
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_g
					}
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_textile
					}
				}
				set_variable = { 
					name = trade_in_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_textile
					}
				}
				set_variable = { 
					name = trade_out_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_textile
					}
				}
				set_variable = { 
					name = trade_earn_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_textile
					}
				}
				set_variable = { 
					name = trade_pay_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_textile
					}
				}
				set_variable = { 
					name = trade_has_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_textile
					}
				}
				set_variable = { 
					name = trade_want_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_textile
					}
				}
				set_variable = { 
					name = trade_price_textile
					value = capital_county.var:trade_price_textile
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_textile
					}
				}
				set_variable = { 
					name = trade_sply_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_textile
					}
				}
				set_variable = { 
					name = trade_dmnd_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_pottery
					}
				}
				set_variable = { 
					name = trade_in_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_pottery
					}
				}
				set_variable = { 
					name = trade_out_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_pottery
					}
				}
				set_variable = { 
					name = trade_earn_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_pottery
					}
				}
				set_variable = { 
					name = trade_pay_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_pottery
					}
				}
				set_variable = { 
					name = trade_has_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_pottery
					}
				}
				set_variable = { 
					name = trade_want_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_price_pottery
					value = capital_county.var:trade_price_pottery
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_pottery
					}
				}
				set_variable = { 
					name = trade_sply_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_pottery
					}
				}
				set_variable = { 
					name = trade_dmnd_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_tools
					}
				}
				set_variable = { 
					name = trade_in_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_tools
					}
				}
				set_variable = { 
					name = trade_out_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_tools
					}
				}
				set_variable = { 
					name = trade_earn_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_tools
					}
				}
				set_variable = { 
					name = trade_pay_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_tools
					}
				}
				set_variable = { 
					name = trade_has_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_tools
					}
				}
				set_variable = { 
					name = trade_want_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_tools
					}
				}
				set_variable = { 
					name = trade_price_tools
					value = capital_county.var:trade_price_tools
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_tools
					}
				}
				set_variable = { 
					name = trade_sply_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_tools
					}
				}
				set_variable = { 
					name = trade_dmnd_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_in_armaments
					}
				}
				set_variable = { 
					name = trade_in_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_out_armaments
					}
				}
				set_variable = { 
					name = trade_out_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_earn_armaments
					}
				}
				set_variable = { 
					name = trade_earn_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_pay_armaments
					}
				}
				set_variable = { 
					name = trade_pay_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_armaments
					}
				}
				set_variable = { 
					name = trade_has_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_want_armaments
					}
				}
				set_variable = { 
					name = trade_want_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_price_armaments
					value = capital_county.var:trade_price_armaments
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_armaments
					}
				}
				set_variable = { 
					name = trade_sply_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_armaments
					}
				}
				set_variable = { 
					name = trade_dmnd_armaments
					value = 0
				}
			}
		}
		if = { 
			limit = { 
				is_ruler = yes
				is_landed = yes
				OR = { 
					NOT = { 
						has_variable = mil_maa
					}
					NOT = { 
						has_variable = mil_maintain
					}
				}
			}
			set_variable = { 
				name = mil_maa
				value = 0
			}
			set_variable = { 
				name = mil_maintain
				value = 1
			}
		}
	}
	option = { }
}
