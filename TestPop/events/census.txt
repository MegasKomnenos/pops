namespace = census
census.01 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = modi_prod_dmnd_food
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_food
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_food
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_food
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_cereal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_cereal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_cereal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_cereal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salted
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salted
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salted
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salted
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salt
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salt
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salt
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salt
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_mud
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_mud
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_mud
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_mud
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fuel
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fuel
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fuel
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fuel
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fiber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fiber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fiber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fiber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_timber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_timber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_timber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_timber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_metal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_metal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_metal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_metal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_w
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_w
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_w
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_e
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_e
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_e
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_g
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_g
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_g
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_textile
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_textile
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_textile
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_textile
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_pottery
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_pottery
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_pottery
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_pottery
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_tools
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_tools
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_tools
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_tools
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_armaments
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_armaments
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_armaments
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_armaments
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_pop_calorie
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_armaments
				value = 1
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
		}
		every_in_global_list = { 
			variable = prod_instances
			if = { 
				limit = { 
					has_variable = prod_sply_food
				}
				set_variable = { 
					name = prod_sply_old_food
					value = var:prod_sply_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_cereal
				}
				set_variable = { 
					name = prod_sply_old_cereal
					value = var:prod_sply_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salted
				}
				set_variable = { 
					name = prod_sply_old_salted
					value = var:prod_sply_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salt
				}
				set_variable = { 
					name = prod_sply_old_salt
					value = var:prod_sply_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_mud
				}
				set_variable = { 
					name = prod_sply_old_mud
					value = var:prod_sply_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fuel
				}
				set_variable = { 
					name = prod_sply_old_fuel
					value = var:prod_sply_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fiber
				}
				set_variable = { 
					name = prod_sply_old_fiber
					value = var:prod_sply_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_timber
				}
				set_variable = { 
					name = prod_sply_old_timber
					value = var:prod_sply_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_metal
				}
				set_variable = { 
					name = prod_sply_old_metal
					value = var:prod_sply_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_w
				}
				set_variable = { 
					name = prod_sply_old_exotics_w
					value = var:prod_sply_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_e
				}
				set_variable = { 
					name = prod_sply_old_exotics_e
					value = var:prod_sply_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_g
				}
				set_variable = { 
					name = prod_sply_old_exotics_g
					value = var:prod_sply_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_textile
				}
				set_variable = { 
					name = prod_sply_old_textile
					value = var:prod_sply_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_pottery
				}
				set_variable = { 
					name = prod_sply_old_pottery
					value = var:prod_sply_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_tools
				}
				set_variable = { 
					name = prod_sply_old_tools
					value = var:prod_sply_tools
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_armaments
				}
				set_variable = { 
					name = prod_sply_old_armaments
					value = var:prod_sply_armaments
				}
			}
			if = { 
				limit = { 
					has_variable = prod_size
					var:prod_size > 0
					var:prod_template = { 
						has_variable = prod_dmnd
					}
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				if = { 
					limit = { 
						has_variable = prod_in_food
						var:prod_in_food > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_food
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_food
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_food
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_food
						}
					}
					set_variable = { 
						name = prod_dmnd_old_food
						value = var:prod_dmnd_food
					}
					set_variable = { 
						name = prod_in_old_food
						value = var:prod_in_food
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_cereal
						var:prod_in_cereal > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_cereal
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_cereal
						}
					}
					set_variable = { 
						name = prod_dmnd_old_cereal
						value = var:prod_dmnd_cereal
					}
					set_variable = { 
						name = prod_in_old_cereal
						value = var:prod_in_cereal
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_salted
						var:prod_in_salted > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_salted
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_salted
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_salted
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_salted
						}
					}
					set_variable = { 
						name = prod_dmnd_old_salted
						value = var:prod_dmnd_salted
					}
					set_variable = { 
						name = prod_in_old_salted
						value = var:prod_in_salted
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_salt
						var:prod_in_salt > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_salt
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_salt
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_salt
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_salt
						}
					}
					set_variable = { 
						name = prod_dmnd_old_salt
						value = var:prod_dmnd_salt
					}
					set_variable = { 
						name = prod_in_old_salt
						value = var:prod_in_salt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_mud
						var:prod_in_mud > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_mud
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_mud
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_mud
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_mud
						}
					}
					set_variable = { 
						name = prod_dmnd_old_mud
						value = var:prod_dmnd_mud
					}
					set_variable = { 
						name = prod_in_old_mud
						value = var:prod_in_mud
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_fuel
						var:prod_in_fuel > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_fuel
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_fuel
						}
					}
					set_variable = { 
						name = prod_dmnd_old_fuel
						value = var:prod_dmnd_fuel
					}
					set_variable = { 
						name = prod_in_old_fuel
						value = var:prod_in_fuel
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_fiber
						var:prod_in_fiber > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_fiber
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_fiber
						}
					}
					set_variable = { 
						name = prod_dmnd_old_fiber
						value = var:prod_dmnd_fiber
					}
					set_variable = { 
						name = prod_in_old_fiber
						value = var:prod_in_fiber
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_timber
						var:prod_in_timber > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_timber
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_timber
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_timber
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_timber
						}
					}
					set_variable = { 
						name = prod_dmnd_old_timber
						value = var:prod_dmnd_timber
					}
					set_variable = { 
						name = prod_in_old_timber
						value = var:prod_in_timber
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_metal
						var:prod_in_metal > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_metal
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_metal
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_metal
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_metal
						}
					}
					set_variable = { 
						name = prod_dmnd_old_metal
						value = var:prod_dmnd_metal
					}
					set_variable = { 
						name = prod_in_old_metal
						value = var:prod_in_metal
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_exotics_w
						var:prod_in_exotics_w > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_exotics_w
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_w
						}
					}
					set_variable = { 
						name = prod_dmnd_old_exotics_w
						value = var:prod_dmnd_exotics_w
					}
					set_variable = { 
						name = prod_in_old_exotics_w
						value = var:prod_in_exotics_w
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_exotics_e
						var:prod_in_exotics_e > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_exotics_e
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_e
						}
					}
					set_variable = { 
						name = prod_dmnd_old_exotics_e
						value = var:prod_dmnd_exotics_e
					}
					set_variable = { 
						name = prod_in_old_exotics_e
						value = var:prod_in_exotics_e
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_exotics_g
						var:prod_in_exotics_g > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_exotics_g
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_g
						}
					}
					set_variable = { 
						name = prod_dmnd_old_exotics_g
						value = var:prod_dmnd_exotics_g
					}
					set_variable = { 
						name = prod_in_old_exotics_g
						value = var:prod_in_exotics_g
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_textile
						var:prod_in_textile > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_textile
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_textile
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_textile
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_textile
						}
					}
					set_variable = { 
						name = prod_dmnd_old_textile
						value = var:prod_dmnd_textile
					}
					set_variable = { 
						name = prod_in_old_textile
						value = var:prod_in_textile
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_pottery
						var:prod_in_pottery > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_pottery
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_pottery
						}
					}
					set_variable = { 
						name = prod_dmnd_old_pottery
						value = var:prod_dmnd_pottery
					}
					set_variable = { 
						name = prod_in_old_pottery
						value = var:prod_in_pottery
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_tools
						var:prod_in_tools > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_tools
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_tools
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_tools
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_tools
						}
					}
					set_variable = { 
						name = prod_dmnd_old_tools
						value = var:prod_dmnd_tools
					}
					set_variable = { 
						name = prod_in_old_tools
						value = var:prod_in_tools
					}
				}
				if = { 
					limit = { 
						has_variable = prod_in_armaments
						var:prod_in_armaments > 0
					}
					set_variable = { 
						name = prod_update_instances_tt
						value = var:prod_in_armaments
					}
					change_variable = { 
						name = prod_update_instances_tt
						multiply = var:prod_template.var:prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_update_instances_tt
						divide = var:prod_location.county.var:modi_prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_update_instances_tt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_armaments
						}
					}
					set_variable = { 
						name = prod_dmnd_old_armaments
						value = var:prod_dmnd_armaments
					}
					set_variable = { 
						name = prod_in_old_armaments
						value = var:prod_in_armaments
					}
				}
				change_variable = { 
					name = prod_update_instances_t
					divide = var:prod_size
				}
				if = { 
					limit = { 
						has_variable = prod_sply_food
					}
					change_variable = { 
						name = prod_sply_old_food
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_cereal
					}
					change_variable = { 
						name = prod_sply_old_cereal
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_salted
					}
					change_variable = { 
						name = prod_sply_old_salted
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_salt
					}
					change_variable = { 
						name = prod_sply_old_salt
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_mud
					}
					change_variable = { 
						name = prod_sply_old_mud
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_fuel
					}
					change_variable = { 
						name = prod_sply_old_fuel
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_fiber
					}
					change_variable = { 
						name = prod_sply_old_fiber
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_timber
					}
					change_variable = { 
						name = prod_sply_old_timber
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_metal
					}
					change_variable = { 
						name = prod_sply_old_metal
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_exotics_w
					}
					change_variable = { 
						name = prod_sply_old_exotics_w
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_exotics_e
					}
					change_variable = { 
						name = prod_sply_old_exotics_e
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_exotics_g
					}
					change_variable = { 
						name = prod_sply_old_exotics_g
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_textile
					}
					change_variable = { 
						name = prod_sply_old_textile
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_pottery
					}
					change_variable = { 
						name = prod_sply_old_pottery
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_tools
					}
					change_variable = { 
						name = prod_sply_old_tools
						multiply = var:prod_update_instances_t
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_armaments
					}
					change_variable = { 
						name = prod_sply_old_armaments
						multiply = var:prod_update_instances_t
					}
				}
			}
		}
		every_in_global_list = { 
			variable = prod_instances
			set_variable = { 
				name = prod_labor
				value = 0
			}
			set_variable = { 
				name = prod_land
				value = 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_earn
			}
			change_variable = { 
				name = prod_update_instances_t
				subtract = var:prod_pay_old
			}
			change_variable = { 
				name = prod_update_instances_t
				divide = 10
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t < 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
			}
			change_variable = { 
				name = prod_profit
				multiply = 0.9
			}
			change_variable = { 
				name = prod_profit
				add = var:prod_update_instances_t
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			if = { 
				limit = { 
					has_variable = farm_total
					var:farm_total > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_land_farm
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = var:prod_profit
					}
					change_variable = { 
						name = prod_land
						add = 0.01
					}
					change_variable = { 
						name = prod_land
						multiply = var:prod_template.var:prod_land
					}
					prev = { 
						change_variable = { 
							name = prod_update_instances_t
							add = prev.var:prod_land
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_update_instances_t
						var:prod_update_instances_t > 0
					}
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_farm
							}
						}
						variable = prod_instances
						change_variable = { 
							name = prod_land
							multiply = 100
						}
						change_variable = { 
							name = prod_land
							divide = prev.var:prod_update_instances_t
						}
						change_variable = { 
							name = prod_land
							multiply = prev.var:farm_total
						}
						change_variable = { 
							name = prod_land
							divide = 100
						}
					}
				}
				else = { 
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_farm
							}
						}
						variable = prod_instances
						set_variable = { 
							name = prod_land
							value = 0
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pasture_total
					var:pasture_total > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_land_pasture
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = var:prod_profit
					}
					change_variable = { 
						name = prod_land
						add = 0.01
					}
					change_variable = { 
						name = prod_land
						multiply = var:prod_template.var:prod_land
					}
					prev = { 
						change_variable = { 
							name = prod_update_instances_t
							add = prev.var:prod_land
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_update_instances_t
						var:prod_update_instances_t > 0
					}
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_pasture
							}
						}
						variable = prod_instances
						change_variable = { 
							name = prod_land
							multiply = 100
						}
						change_variable = { 
							name = prod_land
							divide = prev.var:prod_update_instances_t
						}
						change_variable = { 
							name = prod_land
							multiply = prev.var:pasture_total
						}
						change_variable = { 
							name = prod_land
							divide = 100
						}
					}
				}
				else = { 
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_pasture
							}
						}
						variable = prod_instances
						set_variable = { 
							name = prod_land
							value = 0
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = forest_total
					var:forest_total > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_land_forest
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = var:prod_profit
					}
					change_variable = { 
						name = prod_land
						add = 0.01
					}
					change_variable = { 
						name = prod_land
						multiply = var:prod_template.var:prod_land
					}
					prev = { 
						change_variable = { 
							name = prod_update_instances_t
							add = prev.var:prod_land
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_update_instances_t
						var:prod_update_instances_t > 0
					}
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_forest
							}
						}
						variable = prod_instances
						change_variable = { 
							name = prod_land
							multiply = 100
						}
						change_variable = { 
							name = prod_land
							divide = prev.var:prod_update_instances_t
						}
						change_variable = { 
							name = prod_land
							multiply = prev.var:forest_total
						}
						change_variable = { 
							name = prod_land
							divide = 100
						}
					}
				}
				else = { 
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_forest
							}
						}
						variable = prod_instances
						set_variable = { 
							name = prod_land
							value = 0
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = workshop_total
					var:workshop_total > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_land_workshop
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = var:prod_profit
					}
					change_variable = { 
						name = prod_land
						add = 0.01
					}
					change_variable = { 
						name = prod_land
						multiply = var:prod_template.var:prod_land
					}
					prev = { 
						change_variable = { 
							name = prod_update_instances_t
							add = prev.var:prod_land
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_update_instances_t
						var:prod_update_instances_t > 0
					}
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_workshop
							}
						}
						variable = prod_instances
						change_variable = { 
							name = prod_land
							multiply = 100
						}
						change_variable = { 
							name = prod_land
							divide = prev.var:prod_update_instances_t
						}
						change_variable = { 
							name = prod_land
							multiply = prev.var:workshop_total
						}
						change_variable = { 
							name = prod_land
							divide = 100
						}
					}
				}
				else = { 
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_workshop
							}
						}
						variable = prod_instances
						set_variable = { 
							name = prod_land
							value = 0
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = extraction_total
					var:extraction_total > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_land_extraction
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = var:prod_profit
					}
					change_variable = { 
						name = prod_land
						add = 0.01
					}
					change_variable = { 
						name = prod_land
						multiply = var:prod_template.var:prod_land
					}
					prev = { 
						change_variable = { 
							name = prod_update_instances_t
							add = prev.var:prod_land
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_update_instances_t
						var:prod_update_instances_t > 0
					}
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_extraction
							}
						}
						variable = prod_instances
						change_variable = { 
							name = prod_land
							multiply = 100
						}
						change_variable = { 
							name = prod_land
							divide = prev.var:prod_update_instances_t
						}
						change_variable = { 
							name = prod_land
							multiply = prev.var:extraction_total
						}
						change_variable = { 
							name = prod_land
							divide = 100
						}
					}
				}
				else = { 
					every_in_list = { 
						limit = { 
							var:prod_template = { 
								has_variable = prod_land_extraction
							}
						}
						variable = prod_instances
						set_variable = { 
							name = prod_land
							value = 0
						}
					}
				}
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				variable = prod_instances
				set_variable = { 
					name = prod_labor
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_labor
					add = 0.01
				}
				change_variable = { 
					name = prod_labor
					multiply = var:prod_template.var:prod_labor
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_labor
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:mil_levy_earn
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = -300
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:pop_total
				}
				every_in_list = { 
					variable = prod_instances
					change_variable = { 
						name = prod_labor
						multiply = 100
					}
					change_variable = { 
						name = prod_labor
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_labor
						multiply = prev.var:prod_update_instances_tt
					}
					change_variable = { 
						name = prod_labor
						divide = 100
					}
				}
				remove_variable = prod_update_instances_tt
			}
			else = { 
				every_in_list = { 
					variable = prod_instances
					set_variable = { 
						name = prod_labor
						value = 0
					}
				}
			}
			remove_variable = prod_update_instances_t
		}
		every_in_global_list = { 
			variable = prod_instances
			if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = prod_land
						}
						var:prod_land = 0
						var:prod_land = { 
							compare_value < prev.var:prod_labor
						}
					}
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_labor
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_land
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_template.var:prod_land
				}
			}
			else = { 
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_land
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_labor
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_template.var:prod_labor
				}
			}
			if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = prod_update_instances_tt
						}
						var:prod_update_instances_tt = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = prod_update_instances_ttt
							}
							var:prod_update_instances_ttt = 0
						}
					}
					set_variable = { 
						name = prod_size
						value = var:prod_update_instances_t
					}
				}
				else = { 
					set_variable = { 
						name = prod_size
						value = 0
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_update_instances_tttt
					value = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_update_instances_tttt
					divide = var:prod_update_instances_tt
				}
				if = { 
					limit = { 
						var:prod_update_instances_ttt = 0.5
					}
					set_variable = { 
						name = math_sqrt_i
						value = var:prod_update_instances_tttt
					}
					if = { 
						limit = { 
							has_variable = math_sqrt_i
							var:math_sqrt_i > 0
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_i
						}
						set_variable = { 
							name = math_sqrt_n
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = 0.5
						}
						while = { 
							limit = { 
								has_variable = math_sqrt_n
								var:math_sqrt_n > 0
								OR = { 
									var:math_sqrt_tt < 0.995
									var:math_sqrt_tt > 1.005
								}
							}
							set_variable = { 
								name = math_sqrt_x
								value = var:math_sqrt_n
							}
							set_variable = { 
								name = math_sqrt_t
								value = var:math_sqrt_i
							}
							change_variable = { 
								name = math_sqrt_t
								divide = var:math_sqrt_n
							}
							change_variable = { 
								name = math_sqrt_n
								add = var:math_sqrt_t
							}
							change_variable = { 
								name = math_sqrt_n
								divide = 2
							}
							set_variable = { 
								name = math_sqrt_tt
								value = var:math_sqrt_x
							}
							change_variable = { 
								name = math_sqrt_tt
								divide = var:math_sqrt_n
							}
						}
						set_variable = { 
							name = prod_update_instances_tttt
							value = var:math_sqrt_n
						}
						remove_variable = math_sqrt_x
						remove_variable = math_sqrt_t
						remove_variable = math_sqrt_n
						remove_variable = math_sqrt_tt
					}
					else = { 
						set_variable = { 
							name = prod_update_instances_tttt
							value = 0
						}
					}
					remove_variable = math_sqrt_i
				}
				else = { 
					set_variable = { 
						name = math_pow_base
						value = var:prod_update_instances_tttt
					}
					set_variable = { 
						name = math_pow_exp
						value = var:prod_update_instances_ttt
					}
					if = { 
						limit = { 
							has_variable = math_pow_base
							var:math_pow_base != 0
						}
						set_variable = { 
							name = prod_update_instances_tttt
							value = 1
						}
						while = { 
							limit = { 
								var:math_pow_exp >= 1
							}
							change_variable = { 
								name = math_pow_exp
								subtract = 1
							}
							change_variable = { 
								name = prod_update_instances_tttt
								multiply = var:math_pow_base
							}
						}
						while = { 
							limit = { 
								var:math_pow_exp < 0
							}
							change_variable = { 
								name = math_pow_exp
								add = 1
							}
							change_variable = { 
								name = prod_update_instances_tttt
								divide = var:math_pow_base
							}
						}
						if = { 
							limit = { 
								var:math_pow_exp != 0
							}
							set_variable = { 
								name = math_ln_inp
								value = var:math_pow_base
							}
							set_variable = { 
								name = math_pow_ln
								value = 0
							}
							set_variable = { 
								name = math_ln_k
								value = 0
							}
							set_variable = { 
								name = math_ln_div
								value = 10000
							}
							while = { 
								limit = { 
									var:math_ln_inp >= 2
								}
								change_variable = { 
									name = math_ln_inp
									divide = 2
								}
								change_variable = { 
									name = math_pow_ln
									add = 6931.472
								}
							}
							while = { 
								limit = { 
									var:math_ln_inp < 1
								}
								change_variable = { 
									name = math_ln_inp
									multiply = 2
								}
								change_variable = { 
									name = math_pow_ln
									subtract = 6931.472
								}
							}
							change_variable = { 
								name = math_ln_inp
								multiply = 10000
							}
							while = { 
								limit = { 
									var:math_ln_k < 10
								}
								change_variable = { 
									name = math_ln_k
									add = 1
								}
								change_variable = { 
									name = math_ln_div
									divide = 2
								}
								set_variable = { 
									name = math_ln_t
									value = 10000
								}
								change_variable = { 
									name = math_ln_t
									add = var:math_ln_div
								}
								if = { 
									limit = { 
										var:math_ln_inp = { 
											compare_value >= prev.var:math_ln_t
										}
									}
									change_variable = { 
										name = math_ln_inp
										divide = var:math_ln_t
									}
									change_variable = { 
										name = math_ln_inp
										multiply = 10000
									}
									set_variable = { 
										name = math_lt_ind
										value = var:math_ln_k
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 6
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 8
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 9
												}
												if = { 
													limit = { 
														var:math_lt_ind >= 10
													}
													set_variable = { 
														name = math_ln_lt
														value = 9.761
													}
												}
												else = { 
													set_variable = { 
														name = math_ln_lt
														value = 19.512
													}
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 38.986
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													var:math_lt_ind >= 7
												}
												set_variable = { 
													name = math_ln_lt
													value = 77.821
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 155.042
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												var:math_lt_ind >= 3
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 4
												}
												if = { 
													limit = { 
														var:math_lt_ind >= 5
													}
													set_variable = { 
														name = math_ln_lt
														value = 307.717
													}
												}
												else = { 
													set_variable = { 
														name = math_ln_lt
														value = 606.246
													}
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 1177.83
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													var:math_lt_ind >= 2
												}
												set_variable = { 
													name = math_ln_lt
													value = 2231.436
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 4054.651
												}
											}
										}
									}
									remove_variable = math_lt_ind
									change_variable = { 
										name = math_pow_ln
										add = var:math_ln_lt
									}
								}
							}
							change_variable = { 
								name = math_pow_ln
								divide = 10000
							}
							remove_variable = math_ln_k
							remove_variable = math_ln_div
							remove_variable = math_ln_t
							remove_variable = math_ln_lt
							remove_variable = math_ln_inp
							change_variable = { 
								name = math_pow_exp
								multiply = var:math_pow_ln
							}
							set_variable = { 
								name = math_e_exp
								value = var:math_pow_exp
							}
							set_variable = { 
								name = math_pow_e
								value = 1
							}
							while = { 
								limit = { 
									var:math_e_exp >= 1
								}
								change_variable = { 
									name = math_e_exp
									subtract = 1
								}
								change_variable = { 
									name = math_pow_e
									multiply = 2.718
								}
							}
							while = { 
								limit = { 
									var:math_e_exp < 0
								}
								change_variable = { 
									name = math_e_exp
									add = 1
								}
								change_variable = { 
									name = math_pow_e
									divide = 2.718
								}
							}
							set_variable = { 
								name = math_e_sm
								value = 1
							}
							if = { 
								limit = { 
									var:math_e_exp != 0
								}
								set_variable = { 
									name = math_e_sq
									value = var:math_e_exp
								}
								change_variable = { 
									name = math_e_sq
									multiply = var:math_e_exp
								}
								set_variable = { 
									name = math_e_fct
									value = 2
								}
								set_variable = { 
									name = math_e_fctl
									value = 2
								}
								set_variable = { 
									name = math_e_a1
									value = var:math_e_sq
								}
								set_variable = { 
									name = math_e_a2
									value = var:math_e_exp
								}
								set_variable = { 
									name = math_e_a3
									value = 2
								}
								set_variable = { 
									name = math_e_tmp
									value = var:math_e_a2
								}
								change_variable = { 
									name = math_e_tmp
									multiply = var:math_e_a3
								}
								change_variable = { 
									name = math_e_tmp
									add = var:math_e_a1
								}
								change_variable = { 
									name = math_e_tmp
									divide = var:math_e_fct
								}
								change_variable = { 
									name = math_e_sm
									add = var:math_e_tmp
								}
								set_variable = { 
									name = math_e_prec
									value = 3
								}
								change_variable = { 
									name = math_e_prec
									subtract = 1
								}
								while = { 
									limit = { 
										var:math_e_prec >= 1
									}
									change_variable = { 
										name = math_e_prec
										subtract = 1
									}
									change_variable = { 
										name = math_e_fctl
										add = 1
									}
									change_variable = { 
										name = math_e_fct
										multiply = var:math_e_fctl
									}
									change_variable = { 
										name = math_e_fctl
										add = 1
									}
									change_variable = { 
										name = math_e_fct
										multiply = var:math_e_fctl
									}
									change_variable = { 
										name = math_e_a1
										multiply = var:math_e_sq
									}
									change_variable = { 
										name = math_e_a2
										multiply = var:math_e_sq
									}
									change_variable = { 
										name = math_e_a3
										add = 2
									}
									set_variable = { 
										name = math_e_tmp
										value = var:math_e_a2
									}
									change_variable = { 
										name = math_e_tmp
										multiply = var:math_e_a3
									}
									change_variable = { 
										name = math_e_tmp
										add = var:math_e_a1
									}
									change_variable = { 
										name = math_e_tmp
										divide = var:math_e_fct
									}
									change_variable = { 
										name = math_e_sm
										add = var:math_e_tmp
									}
								}
							}
							change_variable = { 
								name = math_pow_e
								multiply = var:math_e_sm
							}
							remove_variable = math_e_sm
							remove_variable = math_e_tmp
							remove_variable = math_e_a1
							remove_variable = math_e_a2
							remove_variable = math_e_a3
							remove_variable = math_e_fctl
							remove_variable = math_e_fct
							remove_variable = math_e_prec
							remove_variable = math_e_sq
							remove_variable = math_e_exp
							change_variable = { 
								name = prod_update_instances_tttt
								multiply = var:math_pow_e
							}
							remove_variable = math_pow_ln
							remove_variable = math_pow_e
						}
					}
					else_if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = math_pow_exp
								}
								var:math_pow_exp = 0
							}
						}
						set_variable = { 
							name = prod_update_instances_tttt
							value = 1
						}
					}
					else = { 
						set_variable = { 
							name = prod_update_instances_tttt
							value = 0
						}
					}
					remove_variable = math_pow_base
					remove_variable = math_pow_exp
				}
				change_variable = { 
					name = prod_update_instances_t
					divide = var:prod_update_instances_tttt
				}
				set_variable = { 
					name = prod_size
					value = var:prod_update_instances_t
				}
				remove_variable = prod_update_instances_tttt
			}
			remove_variable = prod_update_instances_t
			remove_variable = prod_update_instances_tt
			remove_variable = prod_update_instances_ttt
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			change_variable = { 
				name = prod_tools
				multiply = 0.9
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_food
					var:prod_tools_in_food > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_food
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_food
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_cereal
					var:prod_tools_in_cereal > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_cereal
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_cereal
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_salted
					var:prod_tools_in_salted > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_salted
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_salted
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_salt
					var:prod_tools_in_salt > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_salt
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_salt
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_mud
					var:prod_tools_in_mud > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_mud
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_mud
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_fuel
					var:prod_tools_in_fuel > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_fuel
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_fuel
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_fiber
					var:prod_tools_in_fiber > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_fiber
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_fiber
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_timber
					var:prod_tools_in_timber > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_timber
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_timber
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_metal
					var:prod_tools_in_metal > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_metal
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_metal
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_exotics_w
					var:prod_tools_in_exotics_w > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_exotics_w
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_exotics_e
					var:prod_tools_in_exotics_e > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_exotics_e
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_exotics_g
					var:prod_tools_in_exotics_g > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_exotics_g
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_textile
					var:prod_tools_in_textile > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_textile
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_textile
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_pottery
					var:prod_tools_in_pottery > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_pottery
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_pottery
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_tools
					var:prod_tools_in_tools > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_tools
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_tools
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_in_armaments
					var:prod_tools_in_armaments > 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:prod_tools_in_armaments
				}
				change_variable = { 
					name = prod_update_instances_t
					multiply = var:prod_tools_armaments
				}
				change_variable = { 
					name = prod_tools
					add = var:prod_update_instances_t
				}
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				variable = prod_instances
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_size
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = prod_update_instances_t
						}
						var:prod_update_instances_t = 0
					}
				}
				set_variable = { 
					name = prod_effic
					value = 1
				}
			}
			else = { 
				set_variable = { 
					name = prod_effic
					value = var:prod_tools
				}
				change_variable = { 
					name = prod_effic
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_effic
					divide = 10
				}
				change_variable = { 
					name = prod_effic
					add = 1
				}
			}
			set_variable = { 
				name = modi_prod_dmnd_food
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_food
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_food
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_food
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_cereal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_cereal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_cereal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_cereal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salted
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salted
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salted
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salted
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salt
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salt
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salt
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salt
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_mud
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_mud
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_mud
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_mud
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fuel
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fuel
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fuel
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fuel
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fiber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fiber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fiber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fiber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_timber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_timber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_timber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_timber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_metal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_metal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_metal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_metal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_w
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_w
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_w
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_e
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_e
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_e
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_g
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_g
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_g
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_textile
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_textile
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_textile
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_textile
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_pottery
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_pottery
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_pottery
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_pottery
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_tools
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_tools
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_tools
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_tools
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_armaments
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_armaments
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_armaments
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_armaments
				multiply = var:prod_effic
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = prod_tools_food
				}
				set_variable = { 
					name = prod_tools_dmnd_old_food
					value = var:prod_tools_dmnd_food
				}
				set_variable = { 
					name = prod_tools_in_old_food
					value = var:prod_tools_in_food
				}
				set_variable = { 
					name = prod_tools_dmnd_food
					value = var:prod_tools_food
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					divide = var:trade_price_food
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					multiply = var:prod_tools_dmnd_food
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_cereal
				}
				set_variable = { 
					name = prod_tools_dmnd_old_cereal
					value = var:prod_tools_dmnd_cereal
				}
				set_variable = { 
					name = prod_tools_in_old_cereal
					value = var:prod_tools_in_cereal
				}
				set_variable = { 
					name = prod_tools_dmnd_cereal
					value = var:prod_tools_cereal
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					multiply = var:prod_tools_dmnd_cereal
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_salted
				}
				set_variable = { 
					name = prod_tools_dmnd_old_salted
					value = var:prod_tools_dmnd_salted
				}
				set_variable = { 
					name = prod_tools_in_old_salted
					value = var:prod_tools_in_salted
				}
				set_variable = { 
					name = prod_tools_dmnd_salted
					value = var:prod_tools_salted
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					multiply = var:prod_tools_dmnd_salted
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_salt
				}
				set_variable = { 
					name = prod_tools_dmnd_old_salt
					value = var:prod_tools_dmnd_salt
				}
				set_variable = { 
					name = prod_tools_in_old_salt
					value = var:prod_tools_in_salt
				}
				set_variable = { 
					name = prod_tools_dmnd_salt
					value = var:prod_tools_salt
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					multiply = var:prod_tools_dmnd_salt
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_mud
				}
				set_variable = { 
					name = prod_tools_dmnd_old_mud
					value = var:prod_tools_dmnd_mud
				}
				set_variable = { 
					name = prod_tools_in_old_mud
					value = var:prod_tools_in_mud
				}
				set_variable = { 
					name = prod_tools_dmnd_mud
					value = var:prod_tools_mud
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					multiply = var:prod_tools_dmnd_mud
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_fuel
				}
				set_variable = { 
					name = prod_tools_dmnd_old_fuel
					value = var:prod_tools_dmnd_fuel
				}
				set_variable = { 
					name = prod_tools_in_old_fuel
					value = var:prod_tools_in_fuel
				}
				set_variable = { 
					name = prod_tools_dmnd_fuel
					value = var:prod_tools_fuel
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					multiply = var:prod_tools_dmnd_fuel
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_fiber
				}
				set_variable = { 
					name = prod_tools_dmnd_old_fiber
					value = var:prod_tools_dmnd_fiber
				}
				set_variable = { 
					name = prod_tools_in_old_fiber
					value = var:prod_tools_in_fiber
				}
				set_variable = { 
					name = prod_tools_dmnd_fiber
					value = var:prod_tools_fiber
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					multiply = var:prod_tools_dmnd_fiber
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_timber
				}
				set_variable = { 
					name = prod_tools_dmnd_old_timber
					value = var:prod_tools_dmnd_timber
				}
				set_variable = { 
					name = prod_tools_in_old_timber
					value = var:prod_tools_in_timber
				}
				set_variable = { 
					name = prod_tools_dmnd_timber
					value = var:prod_tools_timber
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					multiply = var:prod_tools_dmnd_timber
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_metal
				}
				set_variable = { 
					name = prod_tools_dmnd_old_metal
					value = var:prod_tools_dmnd_metal
				}
				set_variable = { 
					name = prod_tools_in_old_metal
					value = var:prod_tools_in_metal
				}
				set_variable = { 
					name = prod_tools_dmnd_metal
					value = var:prod_tools_metal
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					multiply = var:prod_tools_dmnd_metal
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_exotics_w
				}
				set_variable = { 
					name = prod_tools_dmnd_old_exotics_w
					value = var:prod_tools_dmnd_exotics_w
				}
				set_variable = { 
					name = prod_tools_in_old_exotics_w
					value = var:prod_tools_in_exotics_w
				}
				set_variable = { 
					name = prod_tools_dmnd_exotics_w
					value = var:prod_tools_exotics_w
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					multiply = var:prod_tools_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_exotics_e
				}
				set_variable = { 
					name = prod_tools_dmnd_old_exotics_e
					value = var:prod_tools_dmnd_exotics_e
				}
				set_variable = { 
					name = prod_tools_in_old_exotics_e
					value = var:prod_tools_in_exotics_e
				}
				set_variable = { 
					name = prod_tools_dmnd_exotics_e
					value = var:prod_tools_exotics_e
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					multiply = var:prod_tools_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_exotics_g
				}
				set_variable = { 
					name = prod_tools_dmnd_old_exotics_g
					value = var:prod_tools_dmnd_exotics_g
				}
				set_variable = { 
					name = prod_tools_in_old_exotics_g
					value = var:prod_tools_in_exotics_g
				}
				set_variable = { 
					name = prod_tools_dmnd_exotics_g
					value = var:prod_tools_exotics_g
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					multiply = var:prod_tools_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_textile
				}
				set_variable = { 
					name = prod_tools_dmnd_old_textile
					value = var:prod_tools_dmnd_textile
				}
				set_variable = { 
					name = prod_tools_in_old_textile
					value = var:prod_tools_in_textile
				}
				set_variable = { 
					name = prod_tools_dmnd_textile
					value = var:prod_tools_textile
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					multiply = var:prod_tools_dmnd_textile
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_pottery
				}
				set_variable = { 
					name = prod_tools_dmnd_old_pottery
					value = var:prod_tools_dmnd_pottery
				}
				set_variable = { 
					name = prod_tools_in_old_pottery
					value = var:prod_tools_in_pottery
				}
				set_variable = { 
					name = prod_tools_dmnd_pottery
					value = var:prod_tools_pottery
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					multiply = var:prod_tools_dmnd_pottery
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_tools
				}
				set_variable = { 
					name = prod_tools_dmnd_old_tools
					value = var:prod_tools_dmnd_tools
				}
				set_variable = { 
					name = prod_tools_in_old_tools
					value = var:prod_tools_in_tools
				}
				set_variable = { 
					name = prod_tools_dmnd_tools
					value = var:prod_tools_tools
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					multiply = var:prod_tools_dmnd_tools
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_tools
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_armaments
				}
				set_variable = { 
					name = prod_tools_dmnd_old_armaments
					value = var:prod_tools_dmnd_armaments
				}
				set_variable = { 
					name = prod_tools_in_old_armaments
					value = var:prod_tools_in_armaments
				}
				set_variable = { 
					name = prod_tools_dmnd_armaments
					value = var:prod_tools_armaments
				}
				change_variable = { 
					name = prod_tools_dmnd_armaments
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_armaments
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = prod_tools_dmnd_armaments
					multiply = var:prod_tools_dmnd_armaments
				}
				change_variable = { 
					name = prod_tools_dmnd_armaments
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_tools_dmnd_armaments
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = 0.001
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_food
						var:prod_tools_dmnd_food > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_food
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_food
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_food
						divide = var:prod_tools_food
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_food
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_food
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_cereal
						var:prod_tools_dmnd_cereal > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_cereal
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_cereal
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_cereal
						divide = var:prod_tools_cereal
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_cereal
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_cereal
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salted
						var:prod_tools_dmnd_salted > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_salted
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_salted
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_salted
						divide = var:prod_tools_salted
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_salted
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_salted
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salt
						var:prod_tools_dmnd_salt > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_salt
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_salt
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_salt
						divide = var:prod_tools_salt
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_salt
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_salt
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_mud
						var:prod_tools_dmnd_mud > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_mud
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_mud
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_mud
						divide = var:prod_tools_mud
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_mud
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_mud
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fuel
						var:prod_tools_dmnd_fuel > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_fuel
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_fuel
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_fuel
						divide = var:prod_tools_fuel
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_fuel
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_fuel
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fiber
						var:prod_tools_dmnd_fiber > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_fiber
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_fiber
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_fiber
						divide = var:prod_tools_fiber
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_fiber
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_fiber
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_timber
						var:prod_tools_dmnd_timber > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_timber
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_timber
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_timber
						divide = var:prod_tools_timber
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_timber
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_timber
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_metal
						var:prod_tools_dmnd_metal > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_metal
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_metal
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_metal
						divide = var:prod_tools_metal
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_metal
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_metal
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_w
						var:prod_tools_dmnd_exotics_w > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_w
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_w
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_w
						divide = var:prod_tools_exotics_w
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_exotics_w
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_e
						var:prod_tools_dmnd_exotics_e > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_e
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_e
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_e
						divide = var:prod_tools_exotics_e
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_exotics_e
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_g
						var:prod_tools_dmnd_exotics_g > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_g
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_g
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_g
						divide = var:prod_tools_exotics_g
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_exotics_g
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_textile
						var:prod_tools_dmnd_textile > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_textile
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_textile
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_textile
						divide = var:prod_tools_textile
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_textile
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_textile
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_pottery
						var:prod_tools_dmnd_pottery > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_pottery
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_pottery
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_pottery
						divide = var:prod_tools_pottery
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_pottery
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_pottery
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_tools
						var:prod_tools_dmnd_tools > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_tools
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_tools
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_tools
						divide = var:prod_tools_tools
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_tools
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_tools
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_armaments
						var:prod_tools_dmnd_armaments > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_armaments
						multiply = 10
					}
					change_variable = { 
						name = prod_tools_dmnd_armaments
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_tools_dmnd_armaments
						divide = var:prod_tools_armaments
					}
					set_variable = { 
						name = prod_update_instances_ttt
						value = var:prod_tools_dmnd_armaments
					}
					change_variable = { 
						name = prod_update_instances_ttt
						multiply = var:trade_price_armaments
					}
					change_variable = { 
						name = prod_update_instances_ttt
						divide = 10
					}
					change_variable = { 
						name = prod_update_instances_tt
						add = var:prod_update_instances_ttt
					}
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = 0
				}
				every_in_list = { 
					variable = prod_instances
					prev = { 
						change_variable = { 
							name = prod_update_instances_ttt
							add = prev.var:prod_earn
						}
					}
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = 0.1
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = var:prod_update_instances_tt
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_food
						var:prod_tools_dmnd_food > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_food
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_food
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_cereal
						var:prod_tools_dmnd_cereal > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_cereal
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_cereal
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salted
						var:prod_tools_dmnd_salted > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_salted
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_salted
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salt
						var:prod_tools_dmnd_salt > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_salt
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_salt
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_mud
						var:prod_tools_dmnd_mud > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_mud
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_mud
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fuel
						var:prod_tools_dmnd_fuel > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_fuel
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_fuel
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fiber
						var:prod_tools_dmnd_fiber > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_fiber
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_fiber
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_timber
						var:prod_tools_dmnd_timber > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_timber
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_timber
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_metal
						var:prod_tools_dmnd_metal > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_metal
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_metal
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_w
						var:prod_tools_dmnd_exotics_w > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_w
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_w
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_e
						var:prod_tools_dmnd_exotics_e > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_e
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_e
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_g
						var:prod_tools_dmnd_exotics_g > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_g
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_exotics_g
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_textile
						var:prod_tools_dmnd_textile > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_textile
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_textile
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_pottery
						var:prod_tools_dmnd_pottery > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_pottery
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_pottery
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_tools
						var:prod_tools_dmnd_tools > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_tools
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_tools
						divide = 10
					}
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_armaments
						var:prod_tools_dmnd_armaments > 0
					}
					change_variable = { 
						name = prod_tools_dmnd_armaments
						multiply = var:prod_update_instances_ttt
					}
					change_variable = { 
						name = prod_tools_dmnd_armaments
						divide = 10
					}
				}
				remove_variable = prod_update_instances_tt
				remove_variable = prod_update_instances_ttt
			}
			remove_variable = prod_update_instances_t
		}
		every_in_global_list = { 
			variable = prod_instances
			if = { 
				limit = { 
					has_variable = prod_sply_food
				}
				set_variable = { 
					name = prod_sply_food
					value = var:prod_template.var:prod_sply_food
				}
				change_variable = { 
					name = prod_sply_food
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_food
					multiply = var:prod_location.county.var:modi_prod_sply_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_cereal
				}
				set_variable = { 
					name = prod_sply_cereal
					value = var:prod_template.var:prod_sply_cereal
				}
				change_variable = { 
					name = prod_sply_cereal
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_cereal
					multiply = var:prod_location.county.var:modi_prod_sply_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salted
				}
				set_variable = { 
					name = prod_sply_salted
					value = var:prod_template.var:prod_sply_salted
				}
				change_variable = { 
					name = prod_sply_salted
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_salted
					multiply = var:prod_location.county.var:modi_prod_sply_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salt
				}
				set_variable = { 
					name = prod_sply_salt
					value = var:prod_template.var:prod_sply_salt
				}
				change_variable = { 
					name = prod_sply_salt
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_salt
					multiply = var:prod_location.county.var:modi_prod_sply_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_mud
				}
				set_variable = { 
					name = prod_sply_mud
					value = var:prod_template.var:prod_sply_mud
				}
				change_variable = { 
					name = prod_sply_mud
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_mud
					multiply = var:prod_location.county.var:modi_prod_sply_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fuel
				}
				set_variable = { 
					name = prod_sply_fuel
					value = var:prod_template.var:prod_sply_fuel
				}
				change_variable = { 
					name = prod_sply_fuel
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_fuel
					multiply = var:prod_location.county.var:modi_prod_sply_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fiber
				}
				set_variable = { 
					name = prod_sply_fiber
					value = var:prod_template.var:prod_sply_fiber
				}
				change_variable = { 
					name = prod_sply_fiber
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_fiber
					multiply = var:prod_location.county.var:modi_prod_sply_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_timber
				}
				set_variable = { 
					name = prod_sply_timber
					value = var:prod_template.var:prod_sply_timber
				}
				change_variable = { 
					name = prod_sply_timber
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_timber
					multiply = var:prod_location.county.var:modi_prod_sply_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_metal
				}
				set_variable = { 
					name = prod_sply_metal
					value = var:prod_template.var:prod_sply_metal
				}
				change_variable = { 
					name = prod_sply_metal
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_metal
					multiply = var:prod_location.county.var:modi_prod_sply_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_w
				}
				set_variable = { 
					name = prod_sply_exotics_w
					value = var:prod_template.var:prod_sply_exotics_w
				}
				change_variable = { 
					name = prod_sply_exotics_w
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_exotics_w
					multiply = var:prod_location.county.var:modi_prod_sply_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_e
				}
				set_variable = { 
					name = prod_sply_exotics_e
					value = var:prod_template.var:prod_sply_exotics_e
				}
				change_variable = { 
					name = prod_sply_exotics_e
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_exotics_e
					multiply = var:prod_location.county.var:modi_prod_sply_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_g
				}
				set_variable = { 
					name = prod_sply_exotics_g
					value = var:prod_template.var:prod_sply_exotics_g
				}
				change_variable = { 
					name = prod_sply_exotics_g
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_exotics_g
					multiply = var:prod_location.county.var:modi_prod_sply_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_textile
				}
				set_variable = { 
					name = prod_sply_textile
					value = var:prod_template.var:prod_sply_textile
				}
				change_variable = { 
					name = prod_sply_textile
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_textile
					multiply = var:prod_location.county.var:modi_prod_sply_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_pottery
				}
				set_variable = { 
					name = prod_sply_pottery
					value = var:prod_template.var:prod_sply_pottery
				}
				change_variable = { 
					name = prod_sply_pottery
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_pottery
					multiply = var:prod_location.county.var:modi_prod_sply_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_tools
				}
				set_variable = { 
					name = prod_sply_tools
					value = var:prod_template.var:prod_sply_tools
				}
				change_variable = { 
					name = prod_sply_tools
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_tools
					multiply = var:prod_location.county.var:modi_prod_sply_tools
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_armaments
				}
				set_variable = { 
					name = prod_sply_armaments
					value = var:prod_template.var:prod_sply_armaments
				}
				change_variable = { 
					name = prod_sply_armaments
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_sply_armaments
					multiply = var:prod_location.county.var:modi_prod_sply_armaments
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd
					}
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_food
						}
					}
					set_variable = { 
						name = prod_dmnd_food
						value = var:prod_template.var:prod_dmnd_food
					}
					change_variable = { 
						name = prod_dmnd_food
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_food
						divide = var:prod_location.county.var:trade_price_food
					}
					change_variable = { 
						name = prod_dmnd_food
						multiply = var:prod_dmnd_food
					}
					change_variable = { 
						name = prod_dmnd_food
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_food
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_cereal
						}
					}
					set_variable = { 
						name = prod_dmnd_cereal
						value = var:prod_template.var:prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_dmnd_cereal
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_cereal
						divide = var:prod_location.county.var:trade_price_cereal
					}
					change_variable = { 
						name = prod_dmnd_cereal
						multiply = var:prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_dmnd_cereal
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_cereal
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_salted
						}
					}
					set_variable = { 
						name = prod_dmnd_salted
						value = var:prod_template.var:prod_dmnd_salted
					}
					change_variable = { 
						name = prod_dmnd_salted
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_salted
						divide = var:prod_location.county.var:trade_price_salted
					}
					change_variable = { 
						name = prod_dmnd_salted
						multiply = var:prod_dmnd_salted
					}
					change_variable = { 
						name = prod_dmnd_salted
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_salted
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_salt
						}
					}
					set_variable = { 
						name = prod_dmnd_salt
						value = var:prod_template.var:prod_dmnd_salt
					}
					change_variable = { 
						name = prod_dmnd_salt
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_salt
						divide = var:prod_location.county.var:trade_price_salt
					}
					change_variable = { 
						name = prod_dmnd_salt
						multiply = var:prod_dmnd_salt
					}
					change_variable = { 
						name = prod_dmnd_salt
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_salt
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_mud
						}
					}
					set_variable = { 
						name = prod_dmnd_mud
						value = var:prod_template.var:prod_dmnd_mud
					}
					change_variable = { 
						name = prod_dmnd_mud
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_mud
						divide = var:prod_location.county.var:trade_price_mud
					}
					change_variable = { 
						name = prod_dmnd_mud
						multiply = var:prod_dmnd_mud
					}
					change_variable = { 
						name = prod_dmnd_mud
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_mud
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_fuel
						}
					}
					set_variable = { 
						name = prod_dmnd_fuel
						value = var:prod_template.var:prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_dmnd_fuel
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_fuel
						divide = var:prod_location.county.var:trade_price_fuel
					}
					change_variable = { 
						name = prod_dmnd_fuel
						multiply = var:prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_dmnd_fuel
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_fuel
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_fiber
						}
					}
					set_variable = { 
						name = prod_dmnd_fiber
						value = var:prod_template.var:prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_dmnd_fiber
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_fiber
						divide = var:prod_location.county.var:trade_price_fiber
					}
					change_variable = { 
						name = prod_dmnd_fiber
						multiply = var:prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_dmnd_fiber
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_fiber
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_timber
						}
					}
					set_variable = { 
						name = prod_dmnd_timber
						value = var:prod_template.var:prod_dmnd_timber
					}
					change_variable = { 
						name = prod_dmnd_timber
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_timber
						divide = var:prod_location.county.var:trade_price_timber
					}
					change_variable = { 
						name = prod_dmnd_timber
						multiply = var:prod_dmnd_timber
					}
					change_variable = { 
						name = prod_dmnd_timber
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_timber
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_metal
						}
					}
					set_variable = { 
						name = prod_dmnd_metal
						value = var:prod_template.var:prod_dmnd_metal
					}
					change_variable = { 
						name = prod_dmnd_metal
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_metal
						divide = var:prod_location.county.var:trade_price_metal
					}
					change_variable = { 
						name = prod_dmnd_metal
						multiply = var:prod_dmnd_metal
					}
					change_variable = { 
						name = prod_dmnd_metal
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_metal
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_w
						}
					}
					set_variable = { 
						name = prod_dmnd_exotics_w
						value = var:prod_template.var:prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						divide = var:prod_location.county.var:trade_price_exotics_w
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						multiply = var:prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_exotics_w
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_e
						}
					}
					set_variable = { 
						name = prod_dmnd_exotics_e
						value = var:prod_template.var:prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						divide = var:prod_location.county.var:trade_price_exotics_e
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						multiply = var:prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_exotics_e
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_exotics_g
						}
					}
					set_variable = { 
						name = prod_dmnd_exotics_g
						value = var:prod_template.var:prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						divide = var:prod_location.county.var:trade_price_exotics_g
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						multiply = var:prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_exotics_g
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_textile
						}
					}
					set_variable = { 
						name = prod_dmnd_textile
						value = var:prod_template.var:prod_dmnd_textile
					}
					change_variable = { 
						name = prod_dmnd_textile
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_textile
						divide = var:prod_location.county.var:trade_price_textile
					}
					change_variable = { 
						name = prod_dmnd_textile
						multiply = var:prod_dmnd_textile
					}
					change_variable = { 
						name = prod_dmnd_textile
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_textile
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_pottery
						}
					}
					set_variable = { 
						name = prod_dmnd_pottery
						value = var:prod_template.var:prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_dmnd_pottery
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_pottery
						divide = var:prod_location.county.var:trade_price_pottery
					}
					change_variable = { 
						name = prod_dmnd_pottery
						multiply = var:prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_dmnd_pottery
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_pottery
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_tools
						}
					}
					set_variable = { 
						name = prod_dmnd_tools
						value = var:prod_template.var:prod_dmnd_tools
					}
					change_variable = { 
						name = prod_dmnd_tools
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_tools
						divide = var:prod_location.county.var:trade_price_tools
					}
					change_variable = { 
						name = prod_dmnd_tools
						multiply = var:prod_dmnd_tools
					}
					change_variable = { 
						name = prod_dmnd_tools
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_tools
					}
				}
				if = { 
					limit = { 
						var:prod_template = { 
							has_variable = prod_dmnd_armaments
						}
					}
					set_variable = { 
						name = prod_dmnd_armaments
						value = var:prod_template.var:prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_dmnd_armaments
						multiply = 4
					}
					change_variable = { 
						name = prod_dmnd_armaments
						divide = var:prod_location.county.var:trade_price_armaments
					}
					change_variable = { 
						name = prod_dmnd_armaments
						multiply = var:prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_dmnd_armaments
						add = 0.001
					}
					change_variable = { 
						name = prod_update_instances_t
						add = var:prod_dmnd_armaments
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_food
					}
					change_variable = { 
						name = prod_dmnd_food
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_food
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_food
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_food
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_food
						divide = var:prod_template.var:prod_dmnd_food
					}
					change_variable = { 
						name = prod_dmnd_food
						multiply = var:prod_location.county.var:modi_prod_dmnd_food
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_dmnd_cereal
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_cereal
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_cereal
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_cereal
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_cereal
						divide = var:prod_template.var:prod_dmnd_cereal
					}
					change_variable = { 
						name = prod_dmnd_cereal
						multiply = var:prod_location.county.var:modi_prod_dmnd_cereal
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_salted
					}
					change_variable = { 
						name = prod_dmnd_salted
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_salted
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_salted
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_salted
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_salted
						divide = var:prod_template.var:prod_dmnd_salted
					}
					change_variable = { 
						name = prod_dmnd_salted
						multiply = var:prod_location.county.var:modi_prod_dmnd_salted
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_salt
					}
					change_variable = { 
						name = prod_dmnd_salt
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_salt
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_salt
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_salt
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_salt
						divide = var:prod_template.var:prod_dmnd_salt
					}
					change_variable = { 
						name = prod_dmnd_salt
						multiply = var:prod_location.county.var:modi_prod_dmnd_salt
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_mud
					}
					change_variable = { 
						name = prod_dmnd_mud
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_mud
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_mud
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_mud
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_mud
						divide = var:prod_template.var:prod_dmnd_mud
					}
					change_variable = { 
						name = prod_dmnd_mud
						multiply = var:prod_location.county.var:modi_prod_dmnd_mud
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_dmnd_fuel
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_fuel
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_fuel
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_fuel
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_fuel
						divide = var:prod_template.var:prod_dmnd_fuel
					}
					change_variable = { 
						name = prod_dmnd_fuel
						multiply = var:prod_location.county.var:modi_prod_dmnd_fuel
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_dmnd_fiber
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_fiber
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_fiber
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_fiber
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_fiber
						divide = var:prod_template.var:prod_dmnd_fiber
					}
					change_variable = { 
						name = prod_dmnd_fiber
						multiply = var:prod_location.county.var:modi_prod_dmnd_fiber
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_timber
					}
					change_variable = { 
						name = prod_dmnd_timber
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_timber
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_timber
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_timber
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_timber
						divide = var:prod_template.var:prod_dmnd_timber
					}
					change_variable = { 
						name = prod_dmnd_timber
						multiply = var:prod_location.county.var:modi_prod_dmnd_timber
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_metal
					}
					change_variable = { 
						name = prod_dmnd_metal
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_metal
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_metal
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_metal
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_metal
						divide = var:prod_template.var:prod_dmnd_metal
					}
					change_variable = { 
						name = prod_dmnd_metal
						multiply = var:prod_location.county.var:modi_prod_dmnd_metal
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						divide = var:prod_template.var:prod_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_dmnd_exotics_w
						multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_w
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						divide = var:prod_template.var:prod_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_dmnd_exotics_e
						multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_e
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						divide = var:prod_template.var:prod_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_dmnd_exotics_g
						multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_g
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_textile
					}
					change_variable = { 
						name = prod_dmnd_textile
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_textile
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_textile
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_textile
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_textile
						divide = var:prod_template.var:prod_dmnd_textile
					}
					change_variable = { 
						name = prod_dmnd_textile
						multiply = var:prod_location.county.var:modi_prod_dmnd_textile
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_dmnd_pottery
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_pottery
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_pottery
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_pottery
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_pottery
						divide = var:prod_template.var:prod_dmnd_pottery
					}
					change_variable = { 
						name = prod_dmnd_pottery
						multiply = var:prod_location.county.var:modi_prod_dmnd_pottery
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_tools
					}
					change_variable = { 
						name = prod_dmnd_tools
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_tools
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_tools
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_tools
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_tools
						divide = var:prod_template.var:prod_dmnd_tools
					}
					change_variable = { 
						name = prod_dmnd_tools
						multiply = var:prod_location.county.var:modi_prod_dmnd_tools
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_dmnd_armaments
						multiply = 10
					}
					change_variable = { 
						name = prod_dmnd_armaments
						divide = var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_dmnd_armaments
						multiply = var:prod_size
					}
					change_variable = { 
						name = prod_dmnd_armaments
						divide = 10
					}
					change_variable = { 
						name = prod_dmnd_armaments
						divide = var:prod_template.var:prod_dmnd_armaments
					}
					change_variable = { 
						name = prod_dmnd_armaments
						multiply = var:prod_location.county.var:modi_prod_dmnd_armaments
					}
				}
				remove_variable = prod_update_instances_t
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			if = { 
				limit = { 
					has_variable = forest_base
					var:forest_base > 0
				}
				set_variable = { 
					name = forest_main_t
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = forest_intensivity
					value = 50
				}
			}
		}
		global_var:timber = { 
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_timber
					var:prod_sply_timber > 0
				}
				variable = prod_instances
				var:prod_location = { 
					change_variable = { 
						name = forest_main_t
						add = prev.var:prod_sply_timber
					}
				}
			}
		}
		global_var:charcoal = { 
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_fuel
					var:prod_sply_fuel > 0
				}
				variable = prod_instances
				var:prod_location = { 
					change_variable = { 
						name = forest_main_t
						add = prev.var:prod_sply_fuel
					}
				}
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
				has_variable = forest_base
				var:forest_base > 0
			}
			set_variable = { 
				name = forest_main_tt
				value = var:forest_base
			}
			change_variable = { 
				name = forest_main_tt
				divide = 100
			}
			change_variable = { 
				name = forest_main_tt
				multiply = var:forest_total
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:forest_main_tt
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = forest_main_tt
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = forest_main_tt
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			change_variable = { 
				name = forest_main_t
				multiply = 10
			}
			change_variable = { 
				name = forest_main_t
				divide = var:forest_main_tt
			}
			change_variable = { 
				name = forest_intensivity
				add = var:forest_main_t
			}
			change_variable = { 
				name = forest_intensivity
				divide = 2
			}
			if = { 
				limit = { 
					var:forest_intensivity > 60
				}
				set_variable = { 
					name = forest_main_t
					value = var:forest_intensivity
				}
				change_variable = { 
					name = forest_main_t
					subtract = 50
				}
				change_variable = { 
					name = forest_main_t
					divide = 50
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:forest_farm
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_farm
					subtract = var:forest_main_tt
				}
				change_variable = { 
					name = farm_potential
					add = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:forest_pasture
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_pasture
					subtract = var:forest_main_tt
				}
				change_variable = { 
					name = pasture_potential
					add = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:forest_wasteland
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_wasteland
					subtract = var:forest_main_tt
				}
				change_variable = { 
					name = wasteland_forest
					add = var:forest_main_tt
				}
			}
			else_if = { 
				limit = { 
					var:forest_intensivity < 40
				}
				set_variable = { 
					name = forest_main_t
					value = 50
				}
				change_variable = { 
					name = forest_main_t
					subtract = var:forest_intensivity
				}
				change_variable = { 
					name = forest_main_t
					divide = 50
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:farm_total
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_farm
					add = var:forest_main_tt
				}
				change_variable = { 
					name = farm_total
					subtract = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:farm_potential
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_farm
					add = var:forest_main_tt
				}
				change_variable = { 
					name = farm_potential
					subtract = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:pasture_total
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_pasture
					add = var:forest_main_tt
				}
				change_variable = { 
					name = pasture_total
					subtract = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:pasture_potential
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_pasture
					add = var:forest_main_tt
				}
				change_variable = { 
					name = pasture_potential
					subtract = var:forest_main_tt
				}
				set_variable = { 
					name = forest_main_tt
					value = var:forest_main_t
				}
				change_variable = { 
					name = forest_main_tt
					multiply = var:wasteland_forest
				}
				change_variable = { 
					name = forest_main_tt
					divide = 100
				}
				change_variable = { 
					name = forest_wasteland
					add = var:forest_main_tt
				}
				change_variable = { 
					name = wasteland_forest
					subtract = var:forest_main_tt
				}
			}
			set_variable = { 
				name = forest_total
				value = var:forest_wasteland
			}
			change_variable = { 
				name = forest_total
				add = var:forest_farm
			}
			change_variable = { 
				name = forest_total
				add = var:forest_pasture
			}
			remove_variable = forest_main_t
			remove_variable = forest_main_tt
		}
	}
	option = { }
}
census.02 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = mil_levy_earn
				value = var:pop_total
			}
			change_variable = { 
				name = mil_levy_earn
				divide = 10
			}
			change_variable = { 
				name = mil_levy_earn
				subtract = var:mil_levy
			}
			change_variable = { 
				name = mil_levy_earn
				divide = 120
			}
			set_variable = { 
				name = mil_supply_in_food
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_cereal
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_salted
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_salt
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_mud
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_fuel
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_fiber
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_timber
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_metal
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_exotics_w
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_exotics_e
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_exotics_g
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_textile
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_pottery
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_tools
				value = 0
			}
			set_variable = { 
				name = mil_supply_in_armaments
				value = 0
			}
			set_variable = { 
				name = mil_main_t
				value = var:pop_total
			}
			change_variable = { 
				name = mil_main_t
				divide = 20
			}
			change_variable = { 
				name = mil_main_t
				subtract = var:mil_supply
			}
			change_variable = { 
				name = mil_main_t
				divide = 10
			}
			set_variable = { 
				name = mil_main_tt
				value = var:pop_wealth
			}
			change_variable = { 
				name = mil_main_tt
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_t
				value = var:mil_main_tt
			}
			set_variable = { 
				name = mil_set_supply_tt
				value = 0
			}
			set_variable = { 
				name = mil_supply_food
				value = county.mil_supply_food
			}
			change_variable = { 
				name = mil_supply_food
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_food
				divide = county.var:trade_price_food
			}
			change_variable = { 
				name = mil_supply_food
				multiply = var:mil_supply_food
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_food
			}
			set_variable = { 
				name = mil_supply_cereal
				value = county.mil_supply_cereal
			}
			change_variable = { 
				name = mil_supply_cereal
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_cereal
				divide = county.var:trade_price_cereal
			}
			change_variable = { 
				name = mil_supply_cereal
				multiply = var:mil_supply_cereal
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_cereal
			}
			set_variable = { 
				name = mil_supply_salted
				value = county.mil_supply_salted
			}
			change_variable = { 
				name = mil_supply_salted
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_salted
				divide = county.var:trade_price_salted
			}
			change_variable = { 
				name = mil_supply_salted
				multiply = var:mil_supply_salted
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_salted
			}
			set_variable = { 
				name = mil_supply_salt
				value = county.mil_supply_salt
			}
			change_variable = { 
				name = mil_supply_salt
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_salt
				divide = county.var:trade_price_salt
			}
			change_variable = { 
				name = mil_supply_salt
				multiply = var:mil_supply_salt
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_salt
			}
			set_variable = { 
				name = mil_supply_mud
				value = county.mil_supply_mud
			}
			change_variable = { 
				name = mil_supply_mud
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_mud
				divide = county.var:trade_price_mud
			}
			change_variable = { 
				name = mil_supply_mud
				multiply = var:mil_supply_mud
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_mud
			}
			set_variable = { 
				name = mil_supply_fuel
				value = county.mil_supply_fuel
			}
			change_variable = { 
				name = mil_supply_fuel
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_fuel
				divide = county.var:trade_price_fuel
			}
			change_variable = { 
				name = mil_supply_fuel
				multiply = var:mil_supply_fuel
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_fuel
			}
			set_variable = { 
				name = mil_supply_fiber
				value = county.mil_supply_fiber
			}
			change_variable = { 
				name = mil_supply_fiber
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_fiber
				divide = county.var:trade_price_fiber
			}
			change_variable = { 
				name = mil_supply_fiber
				multiply = var:mil_supply_fiber
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_fiber
			}
			set_variable = { 
				name = mil_supply_timber
				value = county.mil_supply_timber
			}
			change_variable = { 
				name = mil_supply_timber
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_timber
				divide = county.var:trade_price_timber
			}
			change_variable = { 
				name = mil_supply_timber
				multiply = var:mil_supply_timber
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_timber
			}
			set_variable = { 
				name = mil_supply_metal
				value = county.mil_supply_metal
			}
			change_variable = { 
				name = mil_supply_metal
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_metal
				divide = county.var:trade_price_metal
			}
			change_variable = { 
				name = mil_supply_metal
				multiply = var:mil_supply_metal
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_metal
			}
			set_variable = { 
				name = mil_supply_exotics_w
				value = county.mil_supply_exotics_w
			}
			change_variable = { 
				name = mil_supply_exotics_w
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_exotics_w
				divide = county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = mil_supply_exotics_w
				multiply = var:mil_supply_exotics_w
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_exotics_w
			}
			set_variable = { 
				name = mil_supply_exotics_e
				value = county.mil_supply_exotics_e
			}
			change_variable = { 
				name = mil_supply_exotics_e
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_exotics_e
				divide = county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = mil_supply_exotics_e
				multiply = var:mil_supply_exotics_e
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_exotics_e
			}
			set_variable = { 
				name = mil_supply_exotics_g
				value = county.mil_supply_exotics_g
			}
			change_variable = { 
				name = mil_supply_exotics_g
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_exotics_g
				divide = county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = mil_supply_exotics_g
				multiply = var:mil_supply_exotics_g
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_exotics_g
			}
			set_variable = { 
				name = mil_supply_textile
				value = county.mil_supply_textile
			}
			change_variable = { 
				name = mil_supply_textile
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_textile
				divide = county.var:trade_price_textile
			}
			change_variable = { 
				name = mil_supply_textile
				multiply = var:mil_supply_textile
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_textile
			}
			set_variable = { 
				name = mil_supply_pottery
				value = county.mil_supply_pottery
			}
			change_variable = { 
				name = mil_supply_pottery
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_pottery
				divide = county.var:trade_price_pottery
			}
			change_variable = { 
				name = mil_supply_pottery
				multiply = var:mil_supply_pottery
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_pottery
			}
			set_variable = { 
				name = mil_supply_tools
				value = county.mil_supply_tools
			}
			change_variable = { 
				name = mil_supply_tools
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_tools
				divide = county.var:trade_price_tools
			}
			change_variable = { 
				name = mil_supply_tools
				multiply = var:mil_supply_tools
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_tools
			}
			set_variable = { 
				name = mil_supply_armaments
				value = county.mil_supply_armaments
			}
			change_variable = { 
				name = mil_supply_armaments
				multiply = 10
			}
			change_variable = { 
				name = mil_supply_armaments
				divide = county.var:trade_price_armaments
			}
			change_variable = { 
				name = mil_supply_armaments
				multiply = var:mil_supply_armaments
			}
			change_variable = { 
				name = mil_set_supply_tt
				add = var:mil_supply_armaments
			}
			set_variable = { 
				name = mil_set_supply_ttt
				value = 0
			}
			change_variable = { 
				name = mil_supply_food
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_food
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_food
				divide = county.mil_supply_food
			}
			change_variable = { 
				name = mil_supply_food
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_food
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_food
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_cereal
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_cereal
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_cereal
				divide = county.mil_supply_cereal
			}
			change_variable = { 
				name = mil_supply_cereal
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_cereal
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_cereal
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_salted
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_salted
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_salted
				divide = county.mil_supply_salted
			}
			change_variable = { 
				name = mil_supply_salted
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_salted
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_salted
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_salt
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_salt
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_salt
				divide = county.mil_supply_salt
			}
			change_variable = { 
				name = mil_supply_salt
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_salt
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_salt
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_mud
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_mud
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_mud
				divide = county.mil_supply_mud
			}
			change_variable = { 
				name = mil_supply_mud
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_mud
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_mud
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_fuel
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_fuel
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_fuel
				divide = county.mil_supply_fuel
			}
			change_variable = { 
				name = mil_supply_fuel
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_fuel
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_fuel
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_fiber
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_fiber
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_fiber
				divide = county.mil_supply_fiber
			}
			change_variable = { 
				name = mil_supply_fiber
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_fiber
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_fiber
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_timber
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_timber
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_timber
				divide = county.mil_supply_timber
			}
			change_variable = { 
				name = mil_supply_timber
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_timber
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_timber
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_metal
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_metal
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_metal
				divide = county.mil_supply_metal
			}
			change_variable = { 
				name = mil_supply_metal
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_metal
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_metal
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_exotics_w
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_exotics_w
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_exotics_w
				divide = county.mil_supply_exotics_w
			}
			change_variable = { 
				name = mil_supply_exotics_w
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_exotics_w
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_exotics_e
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_exotics_e
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_exotics_e
				divide = county.mil_supply_exotics_e
			}
			change_variable = { 
				name = mil_supply_exotics_e
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_exotics_e
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_exotics_g
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_exotics_g
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_exotics_g
				divide = county.mil_supply_exotics_g
			}
			change_variable = { 
				name = mil_supply_exotics_g
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_exotics_g
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_textile
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_textile
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_textile
				divide = county.mil_supply_textile
			}
			change_variable = { 
				name = mil_supply_textile
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_textile
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_textile
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_pottery
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_pottery
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_pottery
				divide = county.mil_supply_pottery
			}
			change_variable = { 
				name = mil_supply_pottery
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_pottery
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_pottery
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_tools
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_tools
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_tools
				divide = county.mil_supply_tools
			}
			change_variable = { 
				name = mil_supply_tools
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_tools
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_tools
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_supply_armaments
				multiply = 100
			}
			change_variable = { 
				name = mil_supply_armaments
				divide = var:mil_set_supply_tt
			}
			change_variable = { 
				name = mil_supply_armaments
				divide = county.mil_supply_armaments
			}
			change_variable = { 
				name = mil_supply_armaments
				divide = 100
			}
			set_variable = { 
				name = mil_set_supply_tttt
				value = var:mil_supply_armaments
			}
			change_variable = { 
				name = mil_set_supply_tttt
				multiply = county.var:trade_price_armaments
			}
			change_variable = { 
				name = mil_set_supply_ttt
				add = var:mil_set_supply_tttt
			}
			change_variable = { 
				name = mil_set_supply_t
				multiply = 100
			}
			change_variable = { 
				name = mil_set_supply_t
				divide = var:mil_set_supply_ttt
			}
			change_variable = { 
				name = mil_set_supply_t
				add = { 
					value = var:mil_main_t
					multiply = 100
				}
			}
			change_variable = { 
				name = mil_supply_food
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_food
				divide = 100
			}
			change_variable = { 
				name = mil_supply_cereal
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_cereal
				divide = 100
			}
			change_variable = { 
				name = mil_supply_salted
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_salted
				divide = 100
			}
			change_variable = { 
				name = mil_supply_salt
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_salt
				divide = 100
			}
			change_variable = { 
				name = mil_supply_mud
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_mud
				divide = 100
			}
			change_variable = { 
				name = mil_supply_fuel
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_fuel
				divide = 100
			}
			change_variable = { 
				name = mil_supply_fiber
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_fiber
				divide = 100
			}
			change_variable = { 
				name = mil_supply_timber
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_timber
				divide = 100
			}
			change_variable = { 
				name = mil_supply_metal
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_metal
				divide = 100
			}
			change_variable = { 
				name = mil_supply_exotics_w
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_exotics_w
				divide = 100
			}
			change_variable = { 
				name = mil_supply_exotics_e
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_exotics_e
				divide = 100
			}
			change_variable = { 
				name = mil_supply_exotics_g
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_exotics_g
				divide = 100
			}
			change_variable = { 
				name = mil_supply_textile
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_textile
				divide = 100
			}
			change_variable = { 
				name = mil_supply_pottery
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_pottery
				divide = 100
			}
			change_variable = { 
				name = mil_supply_tools
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_tools
				divide = 100
			}
			change_variable = { 
				name = mil_supply_armaments
				multiply = var:mil_set_supply_t
			}
			change_variable = { 
				name = mil_supply_armaments
				divide = 100
			}
			remove_variable = mil_set_supply_t
			remove_variable = mil_set_supply_tt
			remove_variable = mil_set_supply_ttt
			remove_variable = mil_set_supply_tttt
			remove_variable = mil_main_t
			remove_variable = mil_main_tt
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
			set_variable = { 
				name = mil_supply_food
				value = 0
			}
			set_variable = { 
				name = mil_supply_cereal
				value = 0
			}
			set_variable = { 
				name = mil_supply_salted
				value = 0
			}
			set_variable = { 
				name = mil_supply_salt
				value = 0
			}
			set_variable = { 
				name = mil_supply_mud
				value = 0
			}
			set_variable = { 
				name = mil_supply_fuel
				value = 0
			}
			set_variable = { 
				name = mil_supply_fiber
				value = 0
			}
			set_variable = { 
				name = mil_supply_timber
				value = 0
			}
			set_variable = { 
				name = mil_supply_metal
				value = 0
			}
			set_variable = { 
				name = mil_supply_exotics_w
				value = 0
			}
			set_variable = { 
				name = mil_supply_exotics_e
				value = 0
			}
			set_variable = { 
				name = mil_supply_exotics_g
				value = 0
			}
			set_variable = { 
				name = mil_supply_textile
				value = 0
			}
			set_variable = { 
				name = mil_supply_pottery
				value = 0
			}
			set_variable = { 
				name = mil_supply_tools
				value = 0
			}
			set_variable = { 
				name = mil_supply_armaments
				value = 0
			}
			if = { 
				limit = { 
					OR = { 
						is_ai = yes
						has_global_variable = sim_i
					}
				}
				set_variable = { 
					name = mil_maa_ai_t
					value = gold
				}
				change_variable = { 
					name = mil_maa_ai_t
					multiply = 0.1
				}
				set_variable = { 
					name = mil_set_supply_t
					value = var:mil_maa_ai_t
				}
				set_variable = { 
					name = mil_set_supply_tt
					value = 0
				}
				set_variable = { 
					name = mil_supply_food
					value = mil_supply_food
				}
				change_variable = { 
					name = mil_supply_food
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_food
					divide = var:trade_price_food
				}
				change_variable = { 
					name = mil_supply_food
					multiply = var:mil_supply_food
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_food
				}
				set_variable = { 
					name = mil_supply_cereal
					value = mil_supply_cereal
				}
				change_variable = { 
					name = mil_supply_cereal
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_cereal
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = mil_supply_cereal
					multiply = var:mil_supply_cereal
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_cereal
				}
				set_variable = { 
					name = mil_supply_salted
					value = mil_supply_salted
				}
				change_variable = { 
					name = mil_supply_salted
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_salted
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = mil_supply_salted
					multiply = var:mil_supply_salted
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_salted
				}
				set_variable = { 
					name = mil_supply_salt
					value = mil_supply_salt
				}
				change_variable = { 
					name = mil_supply_salt
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_salt
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = mil_supply_salt
					multiply = var:mil_supply_salt
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_salt
				}
				set_variable = { 
					name = mil_supply_mud
					value = mil_supply_mud
				}
				change_variable = { 
					name = mil_supply_mud
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_mud
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = mil_supply_mud
					multiply = var:mil_supply_mud
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_mud
				}
				set_variable = { 
					name = mil_supply_fuel
					value = mil_supply_fuel
				}
				change_variable = { 
					name = mil_supply_fuel
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_fuel
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = mil_supply_fuel
					multiply = var:mil_supply_fuel
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_fuel
				}
				set_variable = { 
					name = mil_supply_fiber
					value = mil_supply_fiber
				}
				change_variable = { 
					name = mil_supply_fiber
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_fiber
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = mil_supply_fiber
					multiply = var:mil_supply_fiber
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_fiber
				}
				set_variable = { 
					name = mil_supply_timber
					value = mil_supply_timber
				}
				change_variable = { 
					name = mil_supply_timber
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_timber
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = mil_supply_timber
					multiply = var:mil_supply_timber
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_timber
				}
				set_variable = { 
					name = mil_supply_metal
					value = mil_supply_metal
				}
				change_variable = { 
					name = mil_supply_metal
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_metal
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = mil_supply_metal
					multiply = var:mil_supply_metal
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_metal
				}
				set_variable = { 
					name = mil_supply_exotics_w
					value = mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_supply_exotics_w
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_exotics_w
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = mil_supply_exotics_w
					multiply = var:mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_exotics_w
				}
				set_variable = { 
					name = mil_supply_exotics_e
					value = mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_supply_exotics_e
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_exotics_e
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = mil_supply_exotics_e
					multiply = var:mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_exotics_e
				}
				set_variable = { 
					name = mil_supply_exotics_g
					value = mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_supply_exotics_g
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_exotics_g
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = mil_supply_exotics_g
					multiply = var:mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_exotics_g
				}
				set_variable = { 
					name = mil_supply_textile
					value = mil_supply_textile
				}
				change_variable = { 
					name = mil_supply_textile
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_textile
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = mil_supply_textile
					multiply = var:mil_supply_textile
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_textile
				}
				set_variable = { 
					name = mil_supply_pottery
					value = mil_supply_pottery
				}
				change_variable = { 
					name = mil_supply_pottery
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_pottery
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = mil_supply_pottery
					multiply = var:mil_supply_pottery
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_pottery
				}
				set_variable = { 
					name = mil_supply_tools
					value = mil_supply_tools
				}
				change_variable = { 
					name = mil_supply_tools
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_tools
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = mil_supply_tools
					multiply = var:mil_supply_tools
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_tools
				}
				set_variable = { 
					name = mil_supply_armaments
					value = mil_supply_armaments
				}
				change_variable = { 
					name = mil_supply_armaments
					multiply = 10
				}
				change_variable = { 
					name = mil_supply_armaments
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = mil_supply_armaments
					multiply = var:mil_supply_armaments
				}
				change_variable = { 
					name = mil_set_supply_tt
					add = var:mil_supply_armaments
				}
				set_variable = { 
					name = mil_set_supply_ttt
					value = 0
				}
				change_variable = { 
					name = mil_supply_food
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_food
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_food
					divide = mil_supply_food
				}
				change_variable = { 
					name = mil_supply_food
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_food
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_food
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_cereal
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_cereal
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_cereal
					divide = mil_supply_cereal
				}
				change_variable = { 
					name = mil_supply_cereal
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_cereal
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_cereal
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_salted
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_salted
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_salted
					divide = mil_supply_salted
				}
				change_variable = { 
					name = mil_supply_salted
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_salted
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_salted
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_salt
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_salt
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_salt
					divide = mil_supply_salt
				}
				change_variable = { 
					name = mil_supply_salt
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_salt
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_salt
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_mud
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_mud
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_mud
					divide = mil_supply_mud
				}
				change_variable = { 
					name = mil_supply_mud
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_mud
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_mud
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_fuel
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_fuel
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_fuel
					divide = mil_supply_fuel
				}
				change_variable = { 
					name = mil_supply_fuel
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_fuel
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_fuel
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_fiber
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_fiber
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_fiber
					divide = mil_supply_fiber
				}
				change_variable = { 
					name = mil_supply_fiber
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_fiber
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_fiber
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_timber
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_timber
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_timber
					divide = mil_supply_timber
				}
				change_variable = { 
					name = mil_supply_timber
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_timber
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_timber
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_metal
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_metal
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_metal
					divide = mil_supply_metal
				}
				change_variable = { 
					name = mil_supply_metal
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_metal
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_metal
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_exotics_w
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_exotics_w
					divide = mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_supply_exotics_w
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_exotics_w
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_exotics_e
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_exotics_e
					divide = mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_supply_exotics_e
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_exotics_e
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_exotics_g
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_exotics_g
					divide = mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_supply_exotics_g
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_exotics_g
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_textile
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_textile
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_textile
					divide = mil_supply_textile
				}
				change_variable = { 
					name = mil_supply_textile
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_textile
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_textile
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_pottery
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_pottery
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_pottery
					divide = mil_supply_pottery
				}
				change_variable = { 
					name = mil_supply_pottery
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_pottery
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_pottery
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_tools
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_tools
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_tools
					divide = mil_supply_tools
				}
				change_variable = { 
					name = mil_supply_tools
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_tools
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_tools
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_supply_armaments
					multiply = 100
				}
				change_variable = { 
					name = mil_supply_armaments
					divide = var:mil_set_supply_tt
				}
				change_variable = { 
					name = mil_supply_armaments
					divide = mil_supply_armaments
				}
				change_variable = { 
					name = mil_supply_armaments
					divide = 100
				}
				set_variable = { 
					name = mil_set_supply_tttt
					value = var:mil_supply_armaments
				}
				change_variable = { 
					name = mil_set_supply_tttt
					multiply = var:trade_price_armaments
				}
				change_variable = { 
					name = mil_set_supply_ttt
					add = var:mil_set_supply_tttt
				}
				change_variable = { 
					name = mil_set_supply_t
					multiply = 100
				}
				change_variable = { 
					name = mil_set_supply_t
					divide = var:mil_set_supply_ttt
				}
				change_variable = { 
					name = mil_supply_food
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_food
					divide = 100
				}
				change_variable = { 
					name = mil_supply_cereal
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_cereal
					divide = 100
				}
				change_variable = { 
					name = mil_supply_salted
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_salted
					divide = 100
				}
				change_variable = { 
					name = mil_supply_salt
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_salt
					divide = 100
				}
				change_variable = { 
					name = mil_supply_mud
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_mud
					divide = 100
				}
				change_variable = { 
					name = mil_supply_fuel
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_fuel
					divide = 100
				}
				change_variable = { 
					name = mil_supply_fiber
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_fiber
					divide = 100
				}
				change_variable = { 
					name = mil_supply_timber
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_timber
					divide = 100
				}
				change_variable = { 
					name = mil_supply_metal
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_metal
					divide = 100
				}
				change_variable = { 
					name = mil_supply_exotics_w
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_exotics_w
					divide = 100
				}
				change_variable = { 
					name = mil_supply_exotics_e
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_exotics_e
					divide = 100
				}
				change_variable = { 
					name = mil_supply_exotics_g
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_exotics_g
					divide = 100
				}
				change_variable = { 
					name = mil_supply_textile
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_textile
					divide = 100
				}
				change_variable = { 
					name = mil_supply_pottery
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_pottery
					divide = 100
				}
				change_variable = { 
					name = mil_supply_tools
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_tools
					divide = 100
				}
				change_variable = { 
					name = mil_supply_armaments
					multiply = var:mil_set_supply_t
				}
				change_variable = { 
					name = mil_supply_armaments
					divide = 100
				}
				remove_variable = mil_set_supply_t
				remove_variable = mil_set_supply_tt
				remove_variable = mil_set_supply_ttt
				remove_variable = mil_set_supply_tttt
				remove_variable = mil_maa_ai_t
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
				OR = { 
					is_ai = yes
					has_global_variable = sim_i
				}
			}
			set_variable = { 
				name = has_stockpile
				value = 1
			}
			set_variable = { 
				name = trade_want_food
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_food
				}
				change_variable = { 
					name = trade_want_food
					add = var:mil_supply_food
				}
			}
			change_variable = { 
				name = trade_want_food
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_food
					}
				}
				set_variable = { 
					name = trade_has_food
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_food
					var:trade_has_food = { 
						compare_value > prev.var:trade_want_food
					}
				}
				set_variable = { 
					name = trade_sply_food
					value = var:trade_has_food
				}
				change_variable = { 
					name = trade_sply_food
					subtract = var:trade_want_food
				}
				change_variable = { 
					name = trade_sply_food
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_food
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_food
					value = var:trade_want_food
				}
				change_variable = { 
					name = trade_dmnd_food
					subtract = var:trade_has_food
				}
				set_variable = { 
					name = trade_sply_food
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_cereal
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_cereal
				}
				change_variable = { 
					name = trade_want_cereal
					add = var:mil_supply_cereal
				}
			}
			change_variable = { 
				name = trade_want_cereal
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_cereal
					}
				}
				set_variable = { 
					name = trade_has_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_cereal
					var:trade_has_cereal = { 
						compare_value > prev.var:trade_want_cereal
					}
				}
				set_variable = { 
					name = trade_sply_cereal
					value = var:trade_has_cereal
				}
				change_variable = { 
					name = trade_sply_cereal
					subtract = var:trade_want_cereal
				}
				change_variable = { 
					name = trade_sply_cereal
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_cereal
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_cereal
					value = var:trade_want_cereal
				}
				change_variable = { 
					name = trade_dmnd_cereal
					subtract = var:trade_has_cereal
				}
				set_variable = { 
					name = trade_sply_cereal
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_salted
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_salted
				}
				change_variable = { 
					name = trade_want_salted
					add = var:mil_supply_salted
				}
			}
			change_variable = { 
				name = trade_want_salted
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salted
					}
				}
				set_variable = { 
					name = trade_has_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_salted
					var:trade_has_salted = { 
						compare_value > prev.var:trade_want_salted
					}
				}
				set_variable = { 
					name = trade_sply_salted
					value = var:trade_has_salted
				}
				change_variable = { 
					name = trade_sply_salted
					subtract = var:trade_want_salted
				}
				change_variable = { 
					name = trade_sply_salted
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_salted
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_salted
					value = var:trade_want_salted
				}
				change_variable = { 
					name = trade_dmnd_salted
					subtract = var:trade_has_salted
				}
				set_variable = { 
					name = trade_sply_salted
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_salt
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_salt
				}
				change_variable = { 
					name = trade_want_salt
					add = var:mil_supply_salt
				}
			}
			change_variable = { 
				name = trade_want_salt
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_salt
					}
				}
				set_variable = { 
					name = trade_has_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_salt
					var:trade_has_salt = { 
						compare_value > prev.var:trade_want_salt
					}
				}
				set_variable = { 
					name = trade_sply_salt
					value = var:trade_has_salt
				}
				change_variable = { 
					name = trade_sply_salt
					subtract = var:trade_want_salt
				}
				change_variable = { 
					name = trade_sply_salt
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_salt
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_salt
					value = var:trade_want_salt
				}
				change_variable = { 
					name = trade_dmnd_salt
					subtract = var:trade_has_salt
				}
				set_variable = { 
					name = trade_sply_salt
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_mud
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_mud
				}
				change_variable = { 
					name = trade_want_mud
					add = var:mil_supply_mud
				}
			}
			change_variable = { 
				name = trade_want_mud
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_mud
					}
				}
				set_variable = { 
					name = trade_has_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_mud
					var:trade_has_mud = { 
						compare_value > prev.var:trade_want_mud
					}
				}
				set_variable = { 
					name = trade_sply_mud
					value = var:trade_has_mud
				}
				change_variable = { 
					name = trade_sply_mud
					subtract = var:trade_want_mud
				}
				change_variable = { 
					name = trade_sply_mud
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_mud
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_mud
					value = var:trade_want_mud
				}
				change_variable = { 
					name = trade_dmnd_mud
					subtract = var:trade_has_mud
				}
				set_variable = { 
					name = trade_sply_mud
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_fuel
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_fuel
				}
				change_variable = { 
					name = trade_want_fuel
					add = var:mil_supply_fuel
				}
			}
			change_variable = { 
				name = trade_want_fuel
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fuel
					}
				}
				set_variable = { 
					name = trade_has_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_fuel
					var:trade_has_fuel = { 
						compare_value > prev.var:trade_want_fuel
					}
				}
				set_variable = { 
					name = trade_sply_fuel
					value = var:trade_has_fuel
				}
				change_variable = { 
					name = trade_sply_fuel
					subtract = var:trade_want_fuel
				}
				change_variable = { 
					name = trade_sply_fuel
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_fuel
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_fuel
					value = var:trade_want_fuel
				}
				change_variable = { 
					name = trade_dmnd_fuel
					subtract = var:trade_has_fuel
				}
				set_variable = { 
					name = trade_sply_fuel
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_fiber
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_fiber
				}
				change_variable = { 
					name = trade_want_fiber
					add = var:mil_supply_fiber
				}
			}
			change_variable = { 
				name = trade_want_fiber
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_fiber
					}
				}
				set_variable = { 
					name = trade_has_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_fiber
					var:trade_has_fiber = { 
						compare_value > prev.var:trade_want_fiber
					}
				}
				set_variable = { 
					name = trade_sply_fiber
					value = var:trade_has_fiber
				}
				change_variable = { 
					name = trade_sply_fiber
					subtract = var:trade_want_fiber
				}
				change_variable = { 
					name = trade_sply_fiber
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_fiber
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_fiber
					value = var:trade_want_fiber
				}
				change_variable = { 
					name = trade_dmnd_fiber
					subtract = var:trade_has_fiber
				}
				set_variable = { 
					name = trade_sply_fiber
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_timber
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_timber
				}
				change_variable = { 
					name = trade_want_timber
					add = var:mil_supply_timber
				}
			}
			change_variable = { 
				name = trade_want_timber
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_timber
					}
				}
				set_variable = { 
					name = trade_has_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_timber
					var:trade_has_timber = { 
						compare_value > prev.var:trade_want_timber
					}
				}
				set_variable = { 
					name = trade_sply_timber
					value = var:trade_has_timber
				}
				change_variable = { 
					name = trade_sply_timber
					subtract = var:trade_want_timber
				}
				change_variable = { 
					name = trade_sply_timber
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_timber
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_timber
					value = var:trade_want_timber
				}
				change_variable = { 
					name = trade_dmnd_timber
					subtract = var:trade_has_timber
				}
				set_variable = { 
					name = trade_sply_timber
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_metal
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_metal
				}
				change_variable = { 
					name = trade_want_metal
					add = var:mil_supply_metal
				}
			}
			change_variable = { 
				name = trade_want_metal
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_metal
					}
				}
				set_variable = { 
					name = trade_has_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_metal
					var:trade_has_metal = { 
						compare_value > prev.var:trade_want_metal
					}
				}
				set_variable = { 
					name = trade_sply_metal
					value = var:trade_has_metal
				}
				change_variable = { 
					name = trade_sply_metal
					subtract = var:trade_want_metal
				}
				change_variable = { 
					name = trade_sply_metal
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_metal
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_metal
					value = var:trade_want_metal
				}
				change_variable = { 
					name = trade_dmnd_metal
					subtract = var:trade_has_metal
				}
				set_variable = { 
					name = trade_sply_metal
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_exotics_w
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_w
				}
				change_variable = { 
					name = trade_want_exotics_w
					add = var:mil_supply_exotics_w
				}
			}
			change_variable = { 
				name = trade_want_exotics_w
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_w
					}
				}
				set_variable = { 
					name = trade_has_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_w
					var:trade_has_exotics_w = { 
						compare_value > prev.var:trade_want_exotics_w
					}
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_sply_exotics_w
					subtract = var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_sply_exotics_w
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_exotics_w
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_exotics_w
					value = var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					subtract = var:trade_has_exotics_w
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_exotics_e
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_e
				}
				change_variable = { 
					name = trade_want_exotics_e
					add = var:mil_supply_exotics_e
				}
			}
			change_variable = { 
				name = trade_want_exotics_e
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_e
					}
				}
				set_variable = { 
					name = trade_has_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_e
					var:trade_has_exotics_e = { 
						compare_value > prev.var:trade_want_exotics_e
					}
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_sply_exotics_e
					subtract = var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_sply_exotics_e
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_exotics_e
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_exotics_e
					value = var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					subtract = var:trade_has_exotics_e
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_exotics_g
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_g
				}
				change_variable = { 
					name = trade_want_exotics_g
					add = var:mil_supply_exotics_g
				}
			}
			change_variable = { 
				name = trade_want_exotics_g
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_exotics_g
					}
				}
				set_variable = { 
					name = trade_has_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_g
					var:trade_has_exotics_g = { 
						compare_value > prev.var:trade_want_exotics_g
					}
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_sply_exotics_g
					subtract = var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_sply_exotics_g
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_exotics_g
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_exotics_g
					value = var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					subtract = var:trade_has_exotics_g
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_textile
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_textile
				}
				change_variable = { 
					name = trade_want_textile
					add = var:mil_supply_textile
				}
			}
			change_variable = { 
				name = trade_want_textile
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_textile
					}
				}
				set_variable = { 
					name = trade_has_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_textile
					var:trade_has_textile = { 
						compare_value > prev.var:trade_want_textile
					}
				}
				set_variable = { 
					name = trade_sply_textile
					value = var:trade_has_textile
				}
				change_variable = { 
					name = trade_sply_textile
					subtract = var:trade_want_textile
				}
				change_variable = { 
					name = trade_sply_textile
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_textile
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_textile
					value = var:trade_want_textile
				}
				change_variable = { 
					name = trade_dmnd_textile
					subtract = var:trade_has_textile
				}
				set_variable = { 
					name = trade_sply_textile
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_pottery
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_pottery
				}
				change_variable = { 
					name = trade_want_pottery
					add = var:mil_supply_pottery
				}
			}
			change_variable = { 
				name = trade_want_pottery
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_pottery
					}
				}
				set_variable = { 
					name = trade_has_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_pottery
					var:trade_has_pottery = { 
						compare_value > prev.var:trade_want_pottery
					}
				}
				set_variable = { 
					name = trade_sply_pottery
					value = var:trade_has_pottery
				}
				change_variable = { 
					name = trade_sply_pottery
					subtract = var:trade_want_pottery
				}
				change_variable = { 
					name = trade_sply_pottery
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_pottery
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_pottery
					value = var:trade_want_pottery
				}
				change_variable = { 
					name = trade_dmnd_pottery
					subtract = var:trade_has_pottery
				}
				set_variable = { 
					name = trade_sply_pottery
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_tools
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_tools
				}
				change_variable = { 
					name = trade_want_tools
					add = var:mil_supply_tools
				}
			}
			change_variable = { 
				name = trade_want_tools
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_tools
					}
				}
				set_variable = { 
					name = trade_has_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_tools
					var:trade_has_tools = { 
						compare_value > prev.var:trade_want_tools
					}
				}
				set_variable = { 
					name = trade_sply_tools
					value = var:trade_has_tools
				}
				change_variable = { 
					name = trade_sply_tools
					subtract = var:trade_want_tools
				}
				change_variable = { 
					name = trade_sply_tools
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_tools
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_tools
					value = var:trade_want_tools
				}
				change_variable = { 
					name = trade_dmnd_tools
					subtract = var:trade_has_tools
				}
				set_variable = { 
					name = trade_sply_tools
					value = 0
				}
			}
			set_variable = { 
				name = trade_want_armaments
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_armaments
				}
				change_variable = { 
					name = trade_want_armaments
					add = var:mil_supply_armaments
				}
			}
			change_variable = { 
				name = trade_want_armaments
				multiply = 3
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_has_armaments
					}
				}
				set_variable = { 
					name = trade_has_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_has_armaments
					var:trade_has_armaments = { 
						compare_value > prev.var:trade_want_armaments
					}
				}
				set_variable = { 
					name = trade_sply_armaments
					value = var:trade_has_armaments
				}
				change_variable = { 
					name = trade_sply_armaments
					subtract = var:trade_want_armaments
				}
				change_variable = { 
					name = trade_sply_armaments
					divide = 2
				}
				set_variable = { 
					name = trade_dmnd_armaments
					value = 0
				}
			}
			else = { 
				set_variable = { 
					name = trade_dmnd_armaments
					value = var:trade_want_armaments
				}
				change_variable = { 
					name = trade_dmnd_armaments
					subtract = var:trade_has_armaments
				}
				set_variable = { 
					name = trade_sply_armaments
					value = 0
				}
			}
		}
		if = { 
			limit = { 
				NOT = { 
					has_global_variable = sim_i
				}
			}
			every_player = { 
				remove_variable = has_stockpile
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_food
						}
					}
					set_variable = { 
						name = trade_has_food
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_food
						}
					}
					set_variable = { 
						name = trade_want_food
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_food
						var:trade_has_food = { 
							compare_value > prev.var:trade_want_food
						}
					}
					set_variable = { 
						name = trade_sply_food
						value = var:trade_has_food
					}
					change_variable = { 
						name = trade_sply_food
						subtract = var:trade_want_food
					}
					change_variable = { 
						name = trade_sply_food
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_food
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_food
						value = var:trade_want_food
					}
					change_variable = { 
						name = trade_dmnd_food
						subtract = var:trade_has_food
					}
					set_variable = { 
						name = trade_sply_food
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_food
								var:trade_sply_food > 0
							}
							AND = { 
								has_variable = trade_dmnd_food
								var:trade_dmnd_food > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_cereal
						}
					}
					set_variable = { 
						name = trade_has_cereal
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_cereal
						}
					}
					set_variable = { 
						name = trade_want_cereal
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_cereal
						var:trade_has_cereal = { 
							compare_value > prev.var:trade_want_cereal
						}
					}
					set_variable = { 
						name = trade_sply_cereal
						value = var:trade_has_cereal
					}
					change_variable = { 
						name = trade_sply_cereal
						subtract = var:trade_want_cereal
					}
					change_variable = { 
						name = trade_sply_cereal
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_cereal
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_cereal
						value = var:trade_want_cereal
					}
					change_variable = { 
						name = trade_dmnd_cereal
						subtract = var:trade_has_cereal
					}
					set_variable = { 
						name = trade_sply_cereal
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_cereal
								var:trade_sply_cereal > 0
							}
							AND = { 
								has_variable = trade_dmnd_cereal
								var:trade_dmnd_cereal > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_salted
						}
					}
					set_variable = { 
						name = trade_has_salted
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_salted
						}
					}
					set_variable = { 
						name = trade_want_salted
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_salted
						var:trade_has_salted = { 
							compare_value > prev.var:trade_want_salted
						}
					}
					set_variable = { 
						name = trade_sply_salted
						value = var:trade_has_salted
					}
					change_variable = { 
						name = trade_sply_salted
						subtract = var:trade_want_salted
					}
					change_variable = { 
						name = trade_sply_salted
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_salted
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_salted
						value = var:trade_want_salted
					}
					change_variable = { 
						name = trade_dmnd_salted
						subtract = var:trade_has_salted
					}
					set_variable = { 
						name = trade_sply_salted
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_salted
								var:trade_sply_salted > 0
							}
							AND = { 
								has_variable = trade_dmnd_salted
								var:trade_dmnd_salted > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_salt
						}
					}
					set_variable = { 
						name = trade_has_salt
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_salt
						}
					}
					set_variable = { 
						name = trade_want_salt
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_salt
						var:trade_has_salt = { 
							compare_value > prev.var:trade_want_salt
						}
					}
					set_variable = { 
						name = trade_sply_salt
						value = var:trade_has_salt
					}
					change_variable = { 
						name = trade_sply_salt
						subtract = var:trade_want_salt
					}
					change_variable = { 
						name = trade_sply_salt
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_salt
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_salt
						value = var:trade_want_salt
					}
					change_variable = { 
						name = trade_dmnd_salt
						subtract = var:trade_has_salt
					}
					set_variable = { 
						name = trade_sply_salt
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_salt
								var:trade_sply_salt > 0
							}
							AND = { 
								has_variable = trade_dmnd_salt
								var:trade_dmnd_salt > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_mud
						}
					}
					set_variable = { 
						name = trade_has_mud
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_mud
						}
					}
					set_variable = { 
						name = trade_want_mud
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_mud
						var:trade_has_mud = { 
							compare_value > prev.var:trade_want_mud
						}
					}
					set_variable = { 
						name = trade_sply_mud
						value = var:trade_has_mud
					}
					change_variable = { 
						name = trade_sply_mud
						subtract = var:trade_want_mud
					}
					change_variable = { 
						name = trade_sply_mud
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_mud
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_mud
						value = var:trade_want_mud
					}
					change_variable = { 
						name = trade_dmnd_mud
						subtract = var:trade_has_mud
					}
					set_variable = { 
						name = trade_sply_mud
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_mud
								var:trade_sply_mud > 0
							}
							AND = { 
								has_variable = trade_dmnd_mud
								var:trade_dmnd_mud > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_fuel
						}
					}
					set_variable = { 
						name = trade_has_fuel
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_fuel
						}
					}
					set_variable = { 
						name = trade_want_fuel
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_fuel
						var:trade_has_fuel = { 
							compare_value > prev.var:trade_want_fuel
						}
					}
					set_variable = { 
						name = trade_sply_fuel
						value = var:trade_has_fuel
					}
					change_variable = { 
						name = trade_sply_fuel
						subtract = var:trade_want_fuel
					}
					change_variable = { 
						name = trade_sply_fuel
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_fuel
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_fuel
						value = var:trade_want_fuel
					}
					change_variable = { 
						name = trade_dmnd_fuel
						subtract = var:trade_has_fuel
					}
					set_variable = { 
						name = trade_sply_fuel
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_fuel
								var:trade_sply_fuel > 0
							}
							AND = { 
								has_variable = trade_dmnd_fuel
								var:trade_dmnd_fuel > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_fiber
						}
					}
					set_variable = { 
						name = trade_has_fiber
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_fiber
						}
					}
					set_variable = { 
						name = trade_want_fiber
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_fiber
						var:trade_has_fiber = { 
							compare_value > prev.var:trade_want_fiber
						}
					}
					set_variable = { 
						name = trade_sply_fiber
						value = var:trade_has_fiber
					}
					change_variable = { 
						name = trade_sply_fiber
						subtract = var:trade_want_fiber
					}
					change_variable = { 
						name = trade_sply_fiber
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_fiber
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_fiber
						value = var:trade_want_fiber
					}
					change_variable = { 
						name = trade_dmnd_fiber
						subtract = var:trade_has_fiber
					}
					set_variable = { 
						name = trade_sply_fiber
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_fiber
								var:trade_sply_fiber > 0
							}
							AND = { 
								has_variable = trade_dmnd_fiber
								var:trade_dmnd_fiber > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_timber
						}
					}
					set_variable = { 
						name = trade_has_timber
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_timber
						}
					}
					set_variable = { 
						name = trade_want_timber
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_timber
						var:trade_has_timber = { 
							compare_value > prev.var:trade_want_timber
						}
					}
					set_variable = { 
						name = trade_sply_timber
						value = var:trade_has_timber
					}
					change_variable = { 
						name = trade_sply_timber
						subtract = var:trade_want_timber
					}
					change_variable = { 
						name = trade_sply_timber
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_timber
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_timber
						value = var:trade_want_timber
					}
					change_variable = { 
						name = trade_dmnd_timber
						subtract = var:trade_has_timber
					}
					set_variable = { 
						name = trade_sply_timber
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_timber
								var:trade_sply_timber > 0
							}
							AND = { 
								has_variable = trade_dmnd_timber
								var:trade_dmnd_timber > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_metal
						}
					}
					set_variable = { 
						name = trade_has_metal
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_metal
						}
					}
					set_variable = { 
						name = trade_want_metal
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_metal
						var:trade_has_metal = { 
							compare_value > prev.var:trade_want_metal
						}
					}
					set_variable = { 
						name = trade_sply_metal
						value = var:trade_has_metal
					}
					change_variable = { 
						name = trade_sply_metal
						subtract = var:trade_want_metal
					}
					change_variable = { 
						name = trade_sply_metal
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_metal
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_metal
						value = var:trade_want_metal
					}
					change_variable = { 
						name = trade_dmnd_metal
						subtract = var:trade_has_metal
					}
					set_variable = { 
						name = trade_sply_metal
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_metal
								var:trade_sply_metal > 0
							}
							AND = { 
								has_variable = trade_dmnd_metal
								var:trade_dmnd_metal > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_exotics_w
						}
					}
					set_variable = { 
						name = trade_has_exotics_w
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_exotics_w
						}
					}
					set_variable = { 
						name = trade_want_exotics_w
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_w
						var:trade_has_exotics_w = { 
							compare_value > prev.var:trade_want_exotics_w
						}
					}
					set_variable = { 
						name = trade_sply_exotics_w
						value = var:trade_has_exotics_w
					}
					change_variable = { 
						name = trade_sply_exotics_w
						subtract = var:trade_want_exotics_w
					}
					change_variable = { 
						name = trade_sply_exotics_w
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_exotics_w
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_exotics_w
						value = var:trade_want_exotics_w
					}
					change_variable = { 
						name = trade_dmnd_exotics_w
						subtract = var:trade_has_exotics_w
					}
					set_variable = { 
						name = trade_sply_exotics_w
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_exotics_w
								var:trade_sply_exotics_w > 0
							}
							AND = { 
								has_variable = trade_dmnd_exotics_w
								var:trade_dmnd_exotics_w > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_exotics_e
						}
					}
					set_variable = { 
						name = trade_has_exotics_e
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_exotics_e
						}
					}
					set_variable = { 
						name = trade_want_exotics_e
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_e
						var:trade_has_exotics_e = { 
							compare_value > prev.var:trade_want_exotics_e
						}
					}
					set_variable = { 
						name = trade_sply_exotics_e
						value = var:trade_has_exotics_e
					}
					change_variable = { 
						name = trade_sply_exotics_e
						subtract = var:trade_want_exotics_e
					}
					change_variable = { 
						name = trade_sply_exotics_e
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_exotics_e
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_exotics_e
						value = var:trade_want_exotics_e
					}
					change_variable = { 
						name = trade_dmnd_exotics_e
						subtract = var:trade_has_exotics_e
					}
					set_variable = { 
						name = trade_sply_exotics_e
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_exotics_e
								var:trade_sply_exotics_e > 0
							}
							AND = { 
								has_variable = trade_dmnd_exotics_e
								var:trade_dmnd_exotics_e > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_exotics_g
						}
					}
					set_variable = { 
						name = trade_has_exotics_g
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_exotics_g
						}
					}
					set_variable = { 
						name = trade_want_exotics_g
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_exotics_g
						var:trade_has_exotics_g = { 
							compare_value > prev.var:trade_want_exotics_g
						}
					}
					set_variable = { 
						name = trade_sply_exotics_g
						value = var:trade_has_exotics_g
					}
					change_variable = { 
						name = trade_sply_exotics_g
						subtract = var:trade_want_exotics_g
					}
					change_variable = { 
						name = trade_sply_exotics_g
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_exotics_g
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_exotics_g
						value = var:trade_want_exotics_g
					}
					change_variable = { 
						name = trade_dmnd_exotics_g
						subtract = var:trade_has_exotics_g
					}
					set_variable = { 
						name = trade_sply_exotics_g
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_exotics_g
								var:trade_sply_exotics_g > 0
							}
							AND = { 
								has_variable = trade_dmnd_exotics_g
								var:trade_dmnd_exotics_g > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_textile
						}
					}
					set_variable = { 
						name = trade_has_textile
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_textile
						}
					}
					set_variable = { 
						name = trade_want_textile
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_textile
						var:trade_has_textile = { 
							compare_value > prev.var:trade_want_textile
						}
					}
					set_variable = { 
						name = trade_sply_textile
						value = var:trade_has_textile
					}
					change_variable = { 
						name = trade_sply_textile
						subtract = var:trade_want_textile
					}
					change_variable = { 
						name = trade_sply_textile
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_textile
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_textile
						value = var:trade_want_textile
					}
					change_variable = { 
						name = trade_dmnd_textile
						subtract = var:trade_has_textile
					}
					set_variable = { 
						name = trade_sply_textile
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_textile
								var:trade_sply_textile > 0
							}
							AND = { 
								has_variable = trade_dmnd_textile
								var:trade_dmnd_textile > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_pottery
						}
					}
					set_variable = { 
						name = trade_has_pottery
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_pottery
						}
					}
					set_variable = { 
						name = trade_want_pottery
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_pottery
						var:trade_has_pottery = { 
							compare_value > prev.var:trade_want_pottery
						}
					}
					set_variable = { 
						name = trade_sply_pottery
						value = var:trade_has_pottery
					}
					change_variable = { 
						name = trade_sply_pottery
						subtract = var:trade_want_pottery
					}
					change_variable = { 
						name = trade_sply_pottery
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_pottery
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_pottery
						value = var:trade_want_pottery
					}
					change_variable = { 
						name = trade_dmnd_pottery
						subtract = var:trade_has_pottery
					}
					set_variable = { 
						name = trade_sply_pottery
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_pottery
								var:trade_sply_pottery > 0
							}
							AND = { 
								has_variable = trade_dmnd_pottery
								var:trade_dmnd_pottery > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_tools
						}
					}
					set_variable = { 
						name = trade_has_tools
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_tools
						}
					}
					set_variable = { 
						name = trade_want_tools
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_tools
						var:trade_has_tools = { 
							compare_value > prev.var:trade_want_tools
						}
					}
					set_variable = { 
						name = trade_sply_tools
						value = var:trade_has_tools
					}
					change_variable = { 
						name = trade_sply_tools
						subtract = var:trade_want_tools
					}
					change_variable = { 
						name = trade_sply_tools
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_tools
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_tools
						value = var:trade_want_tools
					}
					change_variable = { 
						name = trade_dmnd_tools
						subtract = var:trade_has_tools
					}
					set_variable = { 
						name = trade_sply_tools
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_tools
								var:trade_sply_tools > 0
							}
							AND = { 
								has_variable = trade_dmnd_tools
								var:trade_dmnd_tools > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_has_armaments
						}
					}
					set_variable = { 
						name = trade_has_armaments
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = trade_want_armaments
						}
					}
					set_variable = { 
						name = trade_want_armaments
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = trade_has_armaments
						var:trade_has_armaments = { 
							compare_value > prev.var:trade_want_armaments
						}
					}
					set_variable = { 
						name = trade_sply_armaments
						value = var:trade_has_armaments
					}
					change_variable = { 
						name = trade_sply_armaments
						subtract = var:trade_want_armaments
					}
					change_variable = { 
						name = trade_sply_armaments
						divide = 2
					}
					set_variable = { 
						name = trade_dmnd_armaments
						value = 0
					}
				}
				else = { 
					set_variable = { 
						name = trade_dmnd_armaments
						value = var:trade_want_armaments
					}
					change_variable = { 
						name = trade_dmnd_armaments
						subtract = var:trade_has_armaments
					}
					set_variable = { 
						name = trade_sply_armaments
						value = 0
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sply_armaments
								var:trade_sply_armaments > 0
							}
							AND = { 
								has_variable = trade_dmnd_armaments
								var:trade_dmnd_armaments > 0
							}
						}
					}
					set_variable = { 
						name = has_stockpile
						value = 1
					}
				}
			}
		}
	}
	option = { }
}
census.03 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			remove_variable = task_manage_logistics
			remove_variable = task_manage_stockpile
			if = { 
				limit = { 
					task_check_cond_manage_domain = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_domain
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_domain = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_domain
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_domain
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
			if = { 
				limit = { 
					task_check_cond_manage_realm = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_realm
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_realm = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_realm
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_realm
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
			if = { 
				limit = { 
					task_check_cond_manage_logistics = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_logistics
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_logistics = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_logistics
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_logistics
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
			if = { 
				limit = { 
					task_check_cond_manage_court = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_court
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_court = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_court
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_court
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
			if = { 
				limit = { 
					task_check_cond_manage_stockpile = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_stockpile
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_stockpile = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_stockpile
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_stockpile
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
			if = { 
				limit = { 
					task_check_cond_manage_oversight = yes
				}
				if = { 
					limit = { 
						NOT = { 
							any_in_list = { 
								variable = task_tasks
								var:task_template = global_var:manage_oversight
							}
						}
					}
					if = { 
						limit = { 
							has_global_variable_list = task_tasks
							global_variable_list_size = { 
								name = task_tasks
								value > 0
							}
						}
						ordered_in_global_list = { 
							variable = task_tasks
							position = 0
							save_temporary_scope_as = task_new_task_t
							remove_list_global_variable = { 
								name = task_tasks
								target = this
							}
						}
					}
					else = { 
						create_character = { 
							save_temporary_scope_as = task_new_task_t
							gender = male
							trait = character_not_1
							employer = global_var:arhat
							faith = global_var:arhat.faith
							culture = global_var:arhat.culture
							dynasty = none
						}
					}
					add_to_global_variable_list = { 
						name = task_tasks_active
						target = scope:task_new_task_t
					}
					this = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
						scope:task_new_task_t = { 
							set_variable = { 
								name = task_owner
								value = prev
							}
							set_variable = { 
								name = task_worker
								value = prev
							}
						}
					}
					global_var:manage_oversight = { 
						add_to_variable_list = { 
							name = task_tasks
							target = scope:task_new_task_t
						}
					}
					scope:task_new_task_t = { 
						set_variable = { 
							name = task_template
							value = global_var:manage_oversight
						}
						set_variable = { 
							name = task_time_cost
							value = 0
						}
						set_variable = { 
							name = task_time_in
							value = 0
						}
						set_variable = { 
							name = task_crpt
							value = 0
						}
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:task_template = global_var:manage_oversight
					}
					variable = task_tasks
					remove_list_global_variable = { 
						name = task_tasks_active
						target = this
					}
					add_to_global_variable_list = { 
						name = task_tasks
						target = this
					}
					var:task_owner = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					var:task_template = { 
						remove_list_variable = { 
							name = task_tasks
							target = prev
						}
					}
					remove_variable = task_owner
					remove_variable = task_worker
					remove_variable = task_template
					remove_variable = task_delegate
					remove_variable = task_time_cost
					remove_variable = task_time_in
					remove_variable = task_crpt
				}
			}
		}
		global_var:manage_domain = { 
			every_in_list = { 
				variable = task_tasks
				set_variable = { 
					name = task_time_cost
					value = var:task_owner.domain_size
				}
				change_variable = { 
					name = task_time_cost
					multiply = 0.8
				}
				change_variable = { 
					name = task_time_cost
					add = 0.2
				}
			}
		}
		global_var:manage_realm = { 
			every_in_list = { 
				variable = task_tasks
				set_variable = { 
					name = task_time_cost
					value = var:task_owner.vassal_count
				}
				change_variable = { 
					name = task_time_cost
					multiply = 0.4
				}
				change_variable = { 
					name = task_time_cost
					add = 0.6
				}
			}
		}
		global_var:manage_logistics = { 
			every_in_list = { 
				variable = task_tasks
				set_variable = { 
					name = task_time_cost
					value = 0
				}
				var:task_owner = { 
					if = { 
						limit = { 
							has_variable = mil_mp
						}
						prev = { 
							change_variable = { 
								name = task_time_cost
								add = prev.var:mil_mp
							}
						}
					}
					if = { 
						limit = { 
							has_variable = mil_supply
						}
						prev = { 
							change_variable = { 
								name = task_time_cost
								add = prev.var:mil_supply
							}
						}
					}
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_time_cost
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_time_cost
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_time_cost
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_time_cost
					divide = 2
				}
				change_variable = { 
					name = task_time_cost
					add = 1
				}
			}
		}
		global_var:manage_court = { 
			every_in_list = { 
				variable = task_tasks
				set_variable = { 
					name = task_time_cost
					value = 1
				}
			}
		}
		global_var:manage_stockpile = { 
			every_in_list = { 
				variable = task_tasks
				set_variable = { 
					name = task_time_cost
					value = 0
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_food
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_cereal
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_salted
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_salt
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_mud
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_fuel
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_fiber
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_timber
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_metal
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_exotics_w
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_exotics_e
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_exotics_g
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_textile
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_pottery
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_tools
				}
				change_variable = { 
					name = task_time_cost
					add = var:task_owner.var:trade_want_armaments
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_time_cost
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_time_cost
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_time_cost
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_time_cost
					divide = 4
				}
				change_variable = { 
					name = task_time_cost
					add = 1
				}
			}
		}
		global_var:manage_oversight = { 
			every_in_list = { 
				variable = task_tasks
				save_temporary_scope_as = task_set_cost_manage_oversight_t
				set_variable = { 
					name = task_time_cost
					value = 0
				}
				var:task_owner = { 
					every_in_list = { 
						limit = { 
							has_variable = task_delegate
						}
						variable = task_tasks
						scope:task_set_cost_manage_oversight_t = { 
							change_variable = { 
								name = task_time_cost
								add = prev.var:task_time_cost
							}
						}
					}
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:task_time_cost
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = task_time_cost
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = task_time_cost
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				change_variable = { 
					name = task_time_cost
					add = 0.2
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = task_main_t
				value = 0
			}
			every_councillor = { 
				set_variable = { 
					name = task_main_t
					value = 0
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			every_in_list = { 
				variable = task_tasks
				prev = { 
					save_temporary_scope_as = task_main_t
				}
				if = { 
					limit = { 
						OR = { 
							prev = { 
								is_councillor = yes
								is_alive = no
							}
							has_variable = task_delegate
						}
					}
					if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:spouse
						}
						prev = { 
							primary_spouse = { 
								if = { 
									limit = { 
										is_alive = yes
									}
									save_temporary_scope_as = task_main_t
								}
							}
						}
					}
					else_if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:diplomacy
						}
						prev = { 
							ordered_diplomacy_councillor = { 
								limit = { 
									is_alive = yes
								}
								position = 0
								save_temporary_scope_as = task_main_t
							}
						}
					}
					else_if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:martial
						}
						prev = { 
							ordered_martial_councillor = { 
								limit = { 
									is_alive = yes
								}
								position = 0
								save_temporary_scope_as = task_main_t
							}
						}
					}
					else_if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:stewardship
						}
						prev = { 
							ordered_stewardship_councillor = { 
								limit = { 
									is_alive = yes
								}
								position = 0
								save_temporary_scope_as = task_main_t
							}
						}
					}
					else_if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:intrigue
						}
						prev = { 
							ordered_intrigue_councillor = { 
								limit = { 
									is_alive = yes
								}
								position = 0
								save_temporary_scope_as = task_main_t
							}
						}
					}
					else_if = { 
						limit = { 
							var:task_template.var:task_councillor = flag:learning
						}
						prev = { 
							ordered_learning_councillor = { 
								limit = { 
									is_alive = yes
								}
								position = 0
								save_temporary_scope_as = task_main_t
							}
						}
					}
				}
				set_variable = { 
					name = task_worker
					value = scope:task_main_t
				}
				set_variable = { 
					name = task_main_t
					value = 1
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_diplomacy_mult
						}
					}
					set_variable = { 
						name = task_main_tt
						value = var:task_template.var:task_diplomacy_mult
					}
					change_variable = { 
						name = task_main_tt
						multiply = scope:task_main_t.diplomacy
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_diplomacy_base
							}
						}
						change_variable = { 
							name = task_main_tt
							add = var:task_template.var:task_diplomacy_base
						}
					}
					change_variable = { 
						name = task_main_t
						multiply = var:task_main_tt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_martial_mult
						}
					}
					set_variable = { 
						name = task_main_tt
						value = var:task_template.var:task_martial_mult
					}
					change_variable = { 
						name = task_main_tt
						multiply = scope:task_main_t.martial
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_martial_base
							}
						}
						change_variable = { 
							name = task_main_tt
							add = var:task_template.var:task_martial_base
						}
					}
					change_variable = { 
						name = task_main_t
						multiply = var:task_main_tt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_stewardship_mult
						}
					}
					set_variable = { 
						name = task_main_tt
						value = var:task_template.var:task_stewardship_mult
					}
					change_variable = { 
						name = task_main_tt
						multiply = scope:task_main_t.stewardship
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_stewardship_base
							}
						}
						change_variable = { 
							name = task_main_tt
							add = var:task_template.var:task_stewardship_base
						}
					}
					change_variable = { 
						name = task_main_t
						multiply = var:task_main_tt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_intrigue_mult
						}
					}
					set_variable = { 
						name = task_main_tt
						value = var:task_template.var:task_intrigue_mult
					}
					change_variable = { 
						name = task_main_tt
						multiply = scope:task_main_t.intrigue
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_intrigue_base
							}
						}
						change_variable = { 
							name = task_main_tt
							add = var:task_template.var:task_intrigue_base
						}
					}
					change_variable = { 
						name = task_main_t
						multiply = var:task_main_tt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_learning_mult
						}
					}
					set_variable = { 
						name = task_main_tt
						value = var:task_template.var:task_learning_mult
					}
					change_variable = { 
						name = task_main_tt
						multiply = scope:task_main_t.learning
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_learning_base
							}
						}
						change_variable = { 
							name = task_main_tt
							add = var:task_template.var:task_learning_base
						}
					}
					change_variable = { 
						name = task_main_t
						multiply = var:task_main_tt
					}
				}
				change_variable = { 
					name = task_main_t
					add = 0.05
				}
				set_variable = { 
					name = task_main_tt
					value = var:task_time_cost
				}
				change_variable = { 
					name = task_main_tt
					divide = var:task_main_t
				}
				scope:task_main_t = { 
					change_variable = { 
						name = task_main_t
						add = prev.var:task_main_tt
					}
					add_to_global_variable_list = { 
						name = task_main_t
						target = this
					}
				}
				remove_variable = task_main_t
				remove_variable = task_main_tt
			}
		}
		every_in_global_list = { 
			variable = task_main_t
			change_variable = { 
				name = task_main_t
				divide = 20
			}
		}
		every_in_global_list = { 
			variable = task_tasks_active
			set_variable = { 
				name = task_time_in
				value = 100
			}
			if = { 
				limit = { 
					var:task_worker = { 
						has_variable = task_main_t
						var:task_main_t > 1
					}
				}
				change_variable = { 
					name = task_time_in
					divide = var:task_worker.var:task_main_t
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			ordered_in_list = { 
				limit = { 
					var:task_template = global_var:manage_oversight
				}
				variable = task_tasks
				position = 0
				prev = { 
					set_variable = { 
						name = task_main_t
						value = 100
					}
					change_variable = { 
						name = task_main_t
						subtract = prev.var:task_crpt
					}
					change_variable = { 
						name = task_main_t
						multiply = prev.var:task_time_in
					}
					change_variable = { 
						name = task_main_t
						divide = 100
					}
				}
			}
		}
		every_in_global_list = { 
			variable = task_tasks_active
			if = { 
				limit = { 
					var:task_owner = var:task_worker
				}
				set_variable = { 
					name = task_main_t
					value = 0
				}
			}
			else = { 
				var:task_worker = { 
					if = { 
						limit = { 
							opinion = { 
								value >= 0
								target = liege
							}
						}
						if = { 
							limit = { 
								opinion = { 
									value >= 50
									target = liege
								}
							}
							if = { 
								limit = { 
									opinion = { 
										value >= 75
										target = liege
									}
								}
								if = { 
									limit = { 
										opinion = { 
											value >= 88
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= 94
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 97
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 99
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 100
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 100
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 99
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 98
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 98
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 97
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 95
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 96
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 96
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 95
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 94
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 91
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 92
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 93
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 93
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 92
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 91
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 89
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 90
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 90
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 89
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 88
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= 81
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 84
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 86
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 87
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 87
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 86
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 85
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 85
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 84
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 82
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 83
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 83
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 82
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 81
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 78
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 79
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 80
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 80
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 79
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 78
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 76
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 77
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 77
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 76
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 75
												}
											}
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										opinion = { 
											value >= 62
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= 68
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 71
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 73
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 74
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 74
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 73
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 72
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 72
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 71
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 69
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 70
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 70
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 69
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 68
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 65
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 66
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 67
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 67
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 66
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 65
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 63
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 64
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 64
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 63
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 62
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= 56
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 59
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 60
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 61
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 61
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 60
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 59
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 57
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 58
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 58
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 57
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 56
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 53
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 54
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 55
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 55
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 54
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 53
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 51
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 52
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 52
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 51
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 50
												}
											}
										}
									}
								}
							}
						}
						else = { 
							if = { 
								limit = { 
									opinion = { 
										value >= 25
										target = liege
									}
								}
								if = { 
									limit = { 
										opinion = { 
											value >= 37
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= 43
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 46
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 48
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 49
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 49
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 48
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 47
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 47
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 46
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 44
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 45
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 45
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 44
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 43
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 40
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 41
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 42
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 42
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 41
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 40
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 38
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 39
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 39
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 38
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 37
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= 31
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 34
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 35
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 36
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 36
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 35
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 34
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 32
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 33
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 33
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 32
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 31
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 28
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 29
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 30
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 30
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 29
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 28
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 26
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 27
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 27
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 26
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 25
												}
											}
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										opinion = { 
											value >= 12
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= 18
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 21
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 23
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 24
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 24
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 23
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 22
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 22
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 21
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 19
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 20
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 20
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 19
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 18
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 15
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 16
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 17
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 17
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 16
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 15
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 13
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 14
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 14
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 13
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 12
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= 6
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 9
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 10
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 11
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 11
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 10
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 9
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 7
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 8
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 8
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 7
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 6
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 3
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 4
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 5
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 5
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 4
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 3
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 1
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 2
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = 2
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = 1
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = 0
												}
											}
										}
									}
								}
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								opinion = { 
									value >= -50
									target = liege
								}
							}
							if = { 
								limit = { 
									opinion = { 
										value >= -25
										target = liege
									}
								}
								if = { 
									limit = { 
										opinion = { 
											value >= -13
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= -7
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -4
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -2
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -1
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -1
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -2
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -3
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -3
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -4
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -6
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -5
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -5
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -6
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -7
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -10
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -9
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -8
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -8
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -9
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -10
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -12
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -11
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -11
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -12
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -13
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= -19
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -16
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -15
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -14
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -14
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -15
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -16
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -18
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -17
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -17
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -18
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -19
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -22
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -21
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -20
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -20
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -21
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -22
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -24
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -23
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -23
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -24
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -25
												}
											}
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										opinion = { 
											value >= -38
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= -32
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -29
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -27
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -26
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -26
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -27
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -28
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -28
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -29
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -31
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -30
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -30
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -31
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -32
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -35
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -34
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -33
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -33
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -34
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -35
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -37
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -36
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -36
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -37
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -38
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= -44
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -41
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -40
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -39
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -39
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -40
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -41
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -43
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -42
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -42
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -43
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -44
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -47
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -46
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -45
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -45
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -46
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -47
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -49
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -48
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -48
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -49
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -50
												}
											}
										}
									}
								}
							}
						}
						else = { 
							if = { 
								limit = { 
									opinion = { 
										value >= -75
										target = liege
									}
								}
								if = { 
									limit = { 
										opinion = { 
											value >= -63
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= -57
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -54
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -52
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -51
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -51
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -52
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -53
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -53
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -54
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -56
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -55
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -55
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -56
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -57
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -60
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -59
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -58
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -58
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -59
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -60
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -62
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -61
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -61
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -62
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -63
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= -69
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -66
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -65
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -64
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -64
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -65
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -66
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -68
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -67
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -67
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -68
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -69
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -72
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -71
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -70
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -70
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -71
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -72
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -74
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -73
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -73
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -74
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -75
												}
											}
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										opinion = { 
											value >= -88
											target = liege
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= -82
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -79
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -77
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -76
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -76
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -77
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -78
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -78
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -79
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -81
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -80
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -80
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -81
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -82
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -85
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -84
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -83
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -83
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -84
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -85
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -87
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -86
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -86
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -87
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -88
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= -94
												target = liege
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -91
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -90
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -89
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -89
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -90
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -91
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -93
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -92
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -92
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -93
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -94
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -97
													target = liege
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -96
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -95
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -95
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -96
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -97
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -99
														target = liege
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -98
															target = liege
														}
													}
													set_variable = { 
														name = task_main_tt
														value = -98
													}
												}
												else = { 
													set_variable = { 
														name = task_main_tt
														value = -99
													}
												}
											}
											else = { 
												set_variable = { 
													name = task_main_tt
													value = -100
												}
											}
										}
									}
								}
							}
						}
					}
					if = { 
						limit = { 
							has_dread_level_towards = { 
								target = liege
								level = 2
							}
						}
						change_variable = { 
							name = task_main_tt
							add = 200
						}
					}
					else_if = { 
						limit = { 
							has_dread_level_towards = { 
								target = liege
								level = 1
							}
						}
						change_variable = { 
							name = task_main_tt
							add = 100
						}
					}
					if = { 
						limit = { 
							NOT = { 
								prev.var:task_template = global_var:manage_oversight
							}
						}
						change_variable = { 
							name = task_main_tt
							add = liege.var:task_main_t
						}
					}
					if = { 
						limit = { 
							has_variable = task_main_tt
							var:task_main_tt > 100
						}
						set_variable = { 
							name = task_main_tt
							value = 100
						}
					}
					change_variable = { 
						name = task_main_tt
						subtract = 100
					}
					change_variable = { 
						name = task_main_tt
						multiply = var:task_main_tt
					}
					change_variable = { 
						name = task_main_tt
						divide = 400
					}
					prev = { 
						set_variable = { 
							name = task_main_t
							value = prev.var:task_main_tt
						}
					}
					remove_variable = task_main_tt
				}
			}
			change_variable = { 
				name = task_main_t
				subtract = var:task_crpt
			}
			change_variable = { 
				name = task_main_t
				divide = 10
			}
			change_variable = { 
				name = task_crpt
				add = var:task_main_t
			}
			remove_variable = task_main_t
		}
		every_in_global_list = { 
			variable = task_main_t
			remove_variable = task_main_t
			remove_variable = task_main_tt
		}
		clear_global_variable_list = task_main_t
		global_var:manage_domain = { 
			every_in_list = { 
				variable = task_tasks
			}
		}
		global_var:manage_realm = { 
			every_in_list = { 
				variable = task_tasks
			}
		}
		global_var:manage_logistics = { 
			every_in_list = { 
				variable = task_tasks
				var:task_owner = { 
					set_variable = { 
						name = task_manage_logistics
						value = prev
					}
				}
			}
		}
		global_var:manage_court = { 
			every_in_list = { 
				variable = task_tasks
			}
		}
		global_var:manage_stockpile = { 
			every_in_list = { 
				variable = task_tasks
				var:task_owner = { 
					set_variable = { 
						name = task_manage_stockpile
						value = prev
					}
				}
			}
		}
		global_var:manage_oversight = { 
			every_in_list = { 
				variable = task_tasks
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
				is_councillor = no
				has_variable_list = task_tasks
				variable_list_size = { 
					name = task_tasks
					value >= 1
				}
				OR = { 
					is_ai = yes
					has_global_variable = sim_i
				}
			}
			every_in_list = { 
				variable = task_tasks
				prev = { 
					save_temporary_scope_as = task_ai_t
				}
				if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:spouse
					}
					prev = { 
						primary_spouse = { 
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				else_if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:diplomacy
					}
					prev = { 
						ordered_diplomacy_councillor = { 
							position = 0
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				else_if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:martial
					}
					prev = { 
						ordered_martial_councillor = { 
							position = 0
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				else_if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:stewardship
					}
					prev = { 
						ordered_stewardship_councillor = { 
							position = 0
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				else_if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:intrigue
					}
					prev = { 
						ordered_intrigue_councillor = { 
							position = 0
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				else_if = { 
					limit = { 
						var:task_template.var:task_councillor = flag:learning
					}
					prev = { 
						ordered_learning_councillor = { 
							position = 0
							save_temporary_scope_as = task_ai_t
						}
					}
				}
				set_variable = { 
					name = task_ai_t
					value = 1
				}
				set_variable = { 
					name = task_ai_tt
					value = 1
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_diplomacy_mult
						}
					}
					set_variable = { 
						name = task_ai_ttt
						value = var:task_template.var:task_diplomacy_mult
					}
					set_variable = { 
						name = task_ai_tttt
						value = var:task_template.var:task_diplomacy_mult
					}
					change_variable = { 
						name = task_ai_ttt
						multiply = prev.diplomacy
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = scope:task_ai_t.diplomacy
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_diplomacy_base
							}
						}
						change_variable = { 
							name = task_ai_ttt
							add = var:task_template.var:task_diplomacy_base
						}
						change_variable = { 
							name = task_ai_tttt
							add = var:task_template.var:task_diplomacy_base
						}
					}
					change_variable = { 
						name = task_ai_t
						multiply = var:task_ai_ttt
					}
					change_variable = { 
						name = task_ai_tt
						multiply = var:task_ai_tttt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_martial_mult
						}
					}
					set_variable = { 
						name = task_ai_ttt
						value = var:task_template.var:task_martial_mult
					}
					set_variable = { 
						name = task_ai_tttt
						value = var:task_template.var:task_martial_mult
					}
					change_variable = { 
						name = task_ai_ttt
						multiply = prev.martial
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = scope:task_ai_t.martial
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_martial_base
							}
						}
						change_variable = { 
							name = task_ai_ttt
							add = var:task_template.var:task_martial_base
						}
						change_variable = { 
							name = task_ai_tttt
							add = var:task_template.var:task_martial_base
						}
					}
					change_variable = { 
						name = task_ai_t
						multiply = var:task_ai_ttt
					}
					change_variable = { 
						name = task_ai_tt
						multiply = var:task_ai_tttt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_stewardship_mult
						}
					}
					set_variable = { 
						name = task_ai_ttt
						value = var:task_template.var:task_stewardship_mult
					}
					set_variable = { 
						name = task_ai_tttt
						value = var:task_template.var:task_stewardship_mult
					}
					change_variable = { 
						name = task_ai_ttt
						multiply = prev.stewardship
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = scope:task_ai_t.stewardship
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_stewardship_base
							}
						}
						change_variable = { 
							name = task_ai_ttt
							add = var:task_template.var:task_stewardship_base
						}
						change_variable = { 
							name = task_ai_tttt
							add = var:task_template.var:task_stewardship_base
						}
					}
					change_variable = { 
						name = task_ai_t
						multiply = var:task_ai_ttt
					}
					change_variable = { 
						name = task_ai_tt
						multiply = var:task_ai_tttt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_intrigue_mult
						}
					}
					set_variable = { 
						name = task_ai_ttt
						value = var:task_template.var:task_intrigue_mult
					}
					set_variable = { 
						name = task_ai_tttt
						value = var:task_template.var:task_intrigue_mult
					}
					change_variable = { 
						name = task_ai_ttt
						multiply = prev.intrigue
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = scope:task_ai_t.intrigue
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_intrigue_base
							}
						}
						change_variable = { 
							name = task_ai_ttt
							add = var:task_template.var:task_intrigue_base
						}
						change_variable = { 
							name = task_ai_tttt
							add = var:task_template.var:task_intrigue_base
						}
					}
					change_variable = { 
						name = task_ai_t
						multiply = var:task_ai_ttt
					}
					change_variable = { 
						name = task_ai_tt
						multiply = var:task_ai_tttt
					}
				}
				if = { 
					limit = { 
						var:task_template = { 
							has_variable = task_learning_mult
						}
					}
					set_variable = { 
						name = task_ai_ttt
						value = var:task_template.var:task_learning_mult
					}
					set_variable = { 
						name = task_ai_tttt
						value = var:task_template.var:task_learning_mult
					}
					change_variable = { 
						name = task_ai_ttt
						multiply = prev.learning
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = scope:task_ai_t.learning
					}
					if = { 
						limit = { 
							var:task_template = { 
								has_variable = task_learning_base
							}
						}
						change_variable = { 
							name = task_ai_ttt
							add = var:task_template.var:task_learning_base
						}
						change_variable = { 
							name = task_ai_tttt
							add = var:task_template.var:task_learning_base
						}
					}
					change_variable = { 
						name = task_ai_t
						multiply = var:task_ai_ttt
					}
					change_variable = { 
						name = task_ai_tt
						multiply = var:task_ai_tttt
					}
				}
				change_variable = { 
					name = task_ai_t
					add = 0.05
				}
				change_variable = { 
					name = task_ai_tt
					add = 0.05
				}
				set_variable = { 
					name = task_ai_ttt
					value = var:task_time_cost
				}
				change_variable = { 
					name = task_ai_ttt
					divide = var:task_ai_t
				}
				set_variable = { 
					name = task_ai_t
					value = var:task_ai_ttt
				}
				set_variable = { 
					name = task_ai_ttt
					value = var:task_time_cost
				}
				change_variable = { 
					name = task_ai_ttt
					divide = var:task_ai_tt
				}
				set_variable = { 
					name = task_ai_tt
					value = var:task_ai_ttt
				}
				set_variable = { 
					name = task_ai_ttt
					value = scope:task_ai_t
				}
			}
			set_variable = { 
				name = task_ai_t
				value = 0
			}
			every_councillor = { 
				set_variable = { 
					name = task_ai_t
					value = 0
				}
			}
			every_in_list = { 
				variable = task_tasks
				remove_variable = task_delegate
				prev = { 
					change_variable = { 
						name = task_ai_t
						add = prev.var:task_ai_t
					}
				}
			}
			while = { 
				limit = { 
					var:task_ai_t > 20
				}
				set_variable = { 
					name = task_ai_tt
					value = var:task_ai_t
				}
				every_in_list = { 
					limit = { 
						NOT = { 
							has_variable = task_delegate
							var:task_ai_ttt = prev
						}
					}
					variable = task_tasks
					set_variable = { 
						name = task_ai_tttt
						value = var:task_ai_ttt.var:task_ai_t
					}
					change_variable = { 
						name = task_ai_tttt
						add = var:task_ai_tt
					}
					if = { 
						limit = { 
							has_variable = task_ai_tttt
							var:task_ai_tttt > 20
						}
						set_variable = { 
							name = task_ai_tttt
							value = 1
						}
					}
					else = { 
						change_variable = { 
							name = task_ai_tttt
							divide = -20
						}
						change_variable = { 
							name = task_ai_tttt
							add = 1
						}
						change_variable = { 
							name = task_ai_tttt
							multiply = 9
						}
						change_variable = { 
							name = task_ai_tttt
							add = 1
						}
					}
					if = { 
						limit = { 
							var:task_ai_t = { 
								compare_value < prev.var:task_ai_tt
							}
						}
						set_variable = { 
							name = task_ai_ttttt
							value = 1
						}
					}
					else = { 
						set_variable = { 
							name = task_ai_ttttt
							value = var:task_ai_t
						}
						change_variable = { 
							name = task_ai_ttttt
							divide = var:task_ai_tt
						}
						change_variable = { 
							name = task_ai_ttttt
							subtract = 1
						}
						change_variable = { 
							name = task_ai_ttttt
							multiply = 4
						}
						change_variable = { 
							name = task_ai_ttttt
							add = 1
						}
					}
					change_variable = { 
						name = task_ai_tttt
						multiply = var:task_ai_ttttt
					}
				}
				ordered_in_list = { 
					limit = { 
						NOT = { 
							has_variable = task_delegate
							var:task_ai_ttt = prev
						}
					}
					variable = task_tasks
					order_by = var:task_ai_tttt
					position = 0
					set_variable = { 
						name = task_delegate
						value = 1
					}
					var:task_ai_ttt = { 
						change_variable = { 
							name = task_ai_t
							add = prev.var:task_ai_tt
						}
					}
					prev = { 
						change_variable = { 
							name = task_ai_t
							subtract = prev.var:task_ai_t
						}
					}
				}
				if = { 
					limit = { 
						var:task_ai_tt = { 
							compare_value = prev.var:task_ai_t
						}
					}
					set_variable = { 
						name = task_ai_t
						value = 0
					}
				}
			}
			remove_variable = task_ai_t
			remove_variable = task_ai_tt
			every_councillor = { 
				remove_variable = task_ai_t
			}
			every_in_list = { 
				variable = task_tasks
				remove_variable = task_ai_t
				remove_variable = task_ai_tt
				remove_variable = task_ai_ttt
				remove_variable = task_ai_tttt
				remove_variable = task_ai_ttttt
			}
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = modi_prod_dmnd_food
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_food
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_food
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_food
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_cereal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_cereal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_cereal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_cereal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salted
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salted
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salted
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salted
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salt
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salt
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salt
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salt
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_mud
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_mud
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_mud
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_mud
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fuel
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fuel
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fuel
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fuel
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fiber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fiber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fiber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fiber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_timber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_timber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_timber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_timber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_metal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_metal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_metal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_metal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_w
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_w
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_w
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_e
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_e
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_e
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_g
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_g
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_g
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_textile
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_textile
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_textile
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_textile
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_pottery
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_pottery
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_pottery
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_pottery
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_tools
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_tools
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_tools
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_tools
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_armaments
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_armaments
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_armaments
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_armaments
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_pop_calorie
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_armaments
				value = 1
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
		}
	}
	option = { }
}
census.04 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = pop_calorie_food
				value = pop_calorie_food
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_food
					var:pop_calorie_food > 0
				}
				change_variable = { 
					name = pop_calorie_food
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_food
					divide = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_calorie_food
					multiply = var:pop_calorie_food
				}
				change_variable = { 
					name = pop_calorie_food
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_food
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_cereal
				value = pop_calorie_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_cereal
					var:pop_calorie_cereal > 0
				}
				change_variable = { 
					name = pop_calorie_cereal
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_cereal
					divide = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_calorie_cereal
					multiply = var:pop_calorie_cereal
				}
				change_variable = { 
					name = pop_calorie_cereal
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_cereal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_salted
				value = pop_calorie_salted
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salted
					var:pop_calorie_salted > 0
				}
				change_variable = { 
					name = pop_calorie_salted
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_salted
					divide = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_calorie_salted
					multiply = var:pop_calorie_salted
				}
				change_variable = { 
					name = pop_calorie_salted
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_salted
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_salt
				value = pop_calorie_salt
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salt
					var:pop_calorie_salt > 0
				}
				change_variable = { 
					name = pop_calorie_salt
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_salt
					divide = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_calorie_salt
					multiply = var:pop_calorie_salt
				}
				change_variable = { 
					name = pop_calorie_salt
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_salt
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_mud
				value = pop_calorie_mud
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_mud
					var:pop_calorie_mud > 0
				}
				change_variable = { 
					name = pop_calorie_mud
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_mud
					divide = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_calorie_mud
					multiply = var:pop_calorie_mud
				}
				change_variable = { 
					name = pop_calorie_mud
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_mud
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_fuel
				value = pop_calorie_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fuel
					var:pop_calorie_fuel > 0
				}
				change_variable = { 
					name = pop_calorie_fuel
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_fuel
					divide = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_calorie_fuel
					multiply = var:pop_calorie_fuel
				}
				change_variable = { 
					name = pop_calorie_fuel
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_fuel
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_fiber
				value = pop_calorie_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fiber
					var:pop_calorie_fiber > 0
				}
				change_variable = { 
					name = pop_calorie_fiber
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_fiber
					divide = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_calorie_fiber
					multiply = var:pop_calorie_fiber
				}
				change_variable = { 
					name = pop_calorie_fiber
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_fiber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_timber
				value = pop_calorie_timber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_timber
					var:pop_calorie_timber > 0
				}
				change_variable = { 
					name = pop_calorie_timber
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_timber
					divide = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_calorie_timber
					multiply = var:pop_calorie_timber
				}
				change_variable = { 
					name = pop_calorie_timber
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_timber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_metal
				value = pop_calorie_metal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_metal
					var:pop_calorie_metal > 0
				}
				change_variable = { 
					name = pop_calorie_metal
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_metal
					divide = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_calorie_metal
					multiply = var:pop_calorie_metal
				}
				change_variable = { 
					name = pop_calorie_metal
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_metal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_exotics_w
				value = pop_calorie_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_w
					var:pop_calorie_exotics_w > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					divide = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					multiply = var:pop_calorie_exotics_w
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_exotics_e
				value = pop_calorie_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_e
					var:pop_calorie_exotics_e > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					divide = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					multiply = var:pop_calorie_exotics_e
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_exotics_g
				value = pop_calorie_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_g
					var:pop_calorie_exotics_g > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					divide = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					multiply = var:pop_calorie_exotics_g
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_textile
				value = pop_calorie_textile
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_textile
					var:pop_calorie_textile > 0
				}
				change_variable = { 
					name = pop_calorie_textile
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_textile
					divide = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_calorie_textile
					multiply = var:pop_calorie_textile
				}
				change_variable = { 
					name = pop_calorie_textile
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_textile
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_pottery
				value = pop_calorie_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_pottery
					var:pop_calorie_pottery > 0
				}
				change_variable = { 
					name = pop_calorie_pottery
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_pottery
					divide = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_calorie_pottery
					multiply = var:pop_calorie_pottery
				}
				change_variable = { 
					name = pop_calorie_pottery
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_pottery
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_tools
				value = pop_calorie_tools
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_tools
					var:pop_calorie_tools > 0
				}
				change_variable = { 
					name = pop_calorie_tools
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_tools
					divide = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_calorie_tools
					multiply = var:pop_calorie_tools
				}
				change_variable = { 
					name = pop_calorie_tools
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_tools
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_calorie_armaments
				value = pop_calorie_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_armaments
					var:pop_calorie_armaments > 0
				}
				change_variable = { 
					name = pop_calorie_armaments
					multiply = 50
				}
				change_variable = { 
					name = pop_calorie_armaments
					divide = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_calorie_armaments
					multiply = var:pop_calorie_armaments
				}
				change_variable = { 
					name = pop_calorie_armaments
					divide = 50
				}
				change_variable = { 
					name = pop_calorie_armaments
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_update_demand_t
				value = 0
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_food
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_calorie_armaments
			}
			change_variable = { 
				name = pop_calorie_food
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_cereal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_salted
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_salt
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_mud
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_fuel
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_fiber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_timber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_metal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_textile
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_pottery
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_tools
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_armaments
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_nutrient_food
				value = pop_nutrient_food
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_food
					var:pop_nutrient_food > 0
				}
				change_variable = { 
					name = pop_nutrient_food
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_food
					divide = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_nutrient_food
					multiply = var:pop_nutrient_food
				}
				change_variable = { 
					name = pop_nutrient_food
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_food
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_cereal
				value = pop_nutrient_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_cereal
					var:pop_nutrient_cereal > 0
				}
				change_variable = { 
					name = pop_nutrient_cereal
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_cereal
					divide = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_nutrient_cereal
					multiply = var:pop_nutrient_cereal
				}
				change_variable = { 
					name = pop_nutrient_cereal
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_cereal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_salted
				value = pop_nutrient_salted
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salted
					var:pop_nutrient_salted > 0
				}
				change_variable = { 
					name = pop_nutrient_salted
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_salted
					divide = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_nutrient_salted
					multiply = var:pop_nutrient_salted
				}
				change_variable = { 
					name = pop_nutrient_salted
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_salted
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_salt
				value = pop_nutrient_salt
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salt
					var:pop_nutrient_salt > 0
				}
				change_variable = { 
					name = pop_nutrient_salt
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_salt
					divide = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_nutrient_salt
					multiply = var:pop_nutrient_salt
				}
				change_variable = { 
					name = pop_nutrient_salt
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_salt
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_mud
				value = pop_nutrient_mud
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_mud
					var:pop_nutrient_mud > 0
				}
				change_variable = { 
					name = pop_nutrient_mud
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_mud
					divide = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_nutrient_mud
					multiply = var:pop_nutrient_mud
				}
				change_variable = { 
					name = pop_nutrient_mud
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_mud
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_fuel
				value = pop_nutrient_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fuel
					var:pop_nutrient_fuel > 0
				}
				change_variable = { 
					name = pop_nutrient_fuel
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_fuel
					divide = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_nutrient_fuel
					multiply = var:pop_nutrient_fuel
				}
				change_variable = { 
					name = pop_nutrient_fuel
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_fuel
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_fiber
				value = pop_nutrient_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fiber
					var:pop_nutrient_fiber > 0
				}
				change_variable = { 
					name = pop_nutrient_fiber
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_fiber
					divide = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_nutrient_fiber
					multiply = var:pop_nutrient_fiber
				}
				change_variable = { 
					name = pop_nutrient_fiber
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_fiber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_timber
				value = pop_nutrient_timber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_timber
					var:pop_nutrient_timber > 0
				}
				change_variable = { 
					name = pop_nutrient_timber
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_timber
					divide = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_nutrient_timber
					multiply = var:pop_nutrient_timber
				}
				change_variable = { 
					name = pop_nutrient_timber
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_timber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_metal
				value = pop_nutrient_metal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_metal
					var:pop_nutrient_metal > 0
				}
				change_variable = { 
					name = pop_nutrient_metal
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_metal
					divide = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_nutrient_metal
					multiply = var:pop_nutrient_metal
				}
				change_variable = { 
					name = pop_nutrient_metal
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_metal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_exotics_w
				value = pop_nutrient_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_w
					var:pop_nutrient_exotics_w > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					divide = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					multiply = var:pop_nutrient_exotics_w
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_exotics_e
				value = pop_nutrient_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_e
					var:pop_nutrient_exotics_e > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					divide = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					multiply = var:pop_nutrient_exotics_e
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_exotics_g
				value = pop_nutrient_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_g
					var:pop_nutrient_exotics_g > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					divide = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					multiply = var:pop_nutrient_exotics_g
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_textile
				value = pop_nutrient_textile
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_textile
					var:pop_nutrient_textile > 0
				}
				change_variable = { 
					name = pop_nutrient_textile
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_textile
					divide = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_nutrient_textile
					multiply = var:pop_nutrient_textile
				}
				change_variable = { 
					name = pop_nutrient_textile
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_textile
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_pottery
				value = pop_nutrient_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_pottery
					var:pop_nutrient_pottery > 0
				}
				change_variable = { 
					name = pop_nutrient_pottery
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_pottery
					divide = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_nutrient_pottery
					multiply = var:pop_nutrient_pottery
				}
				change_variable = { 
					name = pop_nutrient_pottery
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_pottery
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_tools
				value = pop_nutrient_tools
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_tools
					var:pop_nutrient_tools > 0
				}
				change_variable = { 
					name = pop_nutrient_tools
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_tools
					divide = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_nutrient_tools
					multiply = var:pop_nutrient_tools
				}
				change_variable = { 
					name = pop_nutrient_tools
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_tools
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_nutrient_armaments
				value = pop_nutrient_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_armaments
					var:pop_nutrient_armaments > 0
				}
				change_variable = { 
					name = pop_nutrient_armaments
					multiply = 50
				}
				change_variable = { 
					name = pop_nutrient_armaments
					divide = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_nutrient_armaments
					multiply = var:pop_nutrient_armaments
				}
				change_variable = { 
					name = pop_nutrient_armaments
					divide = 50
				}
				change_variable = { 
					name = pop_nutrient_armaments
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_update_demand_t
				value = 0
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_food
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_nutrient_armaments
			}
			change_variable = { 
				name = pop_nutrient_food
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_cereal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_salted
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_salt
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_mud
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_fuel
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_fiber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_timber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_metal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_textile
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_pottery
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_tools
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_armaments
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_comfort_food
				value = pop_comfort_food
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_food
					var:pop_comfort_food > 0
				}
				change_variable = { 
					name = pop_comfort_food
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_food
					divide = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_comfort_food
					multiply = var:pop_comfort_food
				}
				change_variable = { 
					name = pop_comfort_food
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_food
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_cereal
				value = pop_comfort_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_cereal
					var:pop_comfort_cereal > 0
				}
				change_variable = { 
					name = pop_comfort_cereal
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_cereal
					divide = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_comfort_cereal
					multiply = var:pop_comfort_cereal
				}
				change_variable = { 
					name = pop_comfort_cereal
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_cereal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_salted
				value = pop_comfort_salted
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salted
					var:pop_comfort_salted > 0
				}
				change_variable = { 
					name = pop_comfort_salted
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_salted
					divide = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_comfort_salted
					multiply = var:pop_comfort_salted
				}
				change_variable = { 
					name = pop_comfort_salted
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_salted
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_salt
				value = pop_comfort_salt
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salt
					var:pop_comfort_salt > 0
				}
				change_variable = { 
					name = pop_comfort_salt
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_salt
					divide = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_comfort_salt
					multiply = var:pop_comfort_salt
				}
				change_variable = { 
					name = pop_comfort_salt
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_salt
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_mud
				value = pop_comfort_mud
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_mud
					var:pop_comfort_mud > 0
				}
				change_variable = { 
					name = pop_comfort_mud
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_mud
					divide = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_comfort_mud
					multiply = var:pop_comfort_mud
				}
				change_variable = { 
					name = pop_comfort_mud
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_mud
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_fuel
				value = pop_comfort_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fuel
					var:pop_comfort_fuel > 0
				}
				change_variable = { 
					name = pop_comfort_fuel
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_fuel
					divide = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_comfort_fuel
					multiply = var:pop_comfort_fuel
				}
				change_variable = { 
					name = pop_comfort_fuel
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_fuel
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_fiber
				value = pop_comfort_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fiber
					var:pop_comfort_fiber > 0
				}
				change_variable = { 
					name = pop_comfort_fiber
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_fiber
					divide = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_comfort_fiber
					multiply = var:pop_comfort_fiber
				}
				change_variable = { 
					name = pop_comfort_fiber
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_fiber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_timber
				value = pop_comfort_timber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_timber
					var:pop_comfort_timber > 0
				}
				change_variable = { 
					name = pop_comfort_timber
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_timber
					divide = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_comfort_timber
					multiply = var:pop_comfort_timber
				}
				change_variable = { 
					name = pop_comfort_timber
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_timber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_metal
				value = pop_comfort_metal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_metal
					var:pop_comfort_metal > 0
				}
				change_variable = { 
					name = pop_comfort_metal
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_metal
					divide = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_comfort_metal
					multiply = var:pop_comfort_metal
				}
				change_variable = { 
					name = pop_comfort_metal
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_metal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_exotics_w
				value = pop_comfort_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_w
					var:pop_comfort_exotics_w > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					divide = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					multiply = var:pop_comfort_exotics_w
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_exotics_e
				value = pop_comfort_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_e
					var:pop_comfort_exotics_e > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					divide = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					multiply = var:pop_comfort_exotics_e
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_exotics_g
				value = pop_comfort_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_g
					var:pop_comfort_exotics_g > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					divide = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					multiply = var:pop_comfort_exotics_g
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_textile
				value = pop_comfort_textile
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_textile
					var:pop_comfort_textile > 0
				}
				change_variable = { 
					name = pop_comfort_textile
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_textile
					divide = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_comfort_textile
					multiply = var:pop_comfort_textile
				}
				change_variable = { 
					name = pop_comfort_textile
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_textile
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_pottery
				value = pop_comfort_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_pottery
					var:pop_comfort_pottery > 0
				}
				change_variable = { 
					name = pop_comfort_pottery
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_pottery
					divide = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_comfort_pottery
					multiply = var:pop_comfort_pottery
				}
				change_variable = { 
					name = pop_comfort_pottery
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_pottery
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_tools
				value = pop_comfort_tools
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_tools
					var:pop_comfort_tools > 0
				}
				change_variable = { 
					name = pop_comfort_tools
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_tools
					divide = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_comfort_tools
					multiply = var:pop_comfort_tools
				}
				change_variable = { 
					name = pop_comfort_tools
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_tools
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_comfort_armaments
				value = pop_comfort_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_armaments
					var:pop_comfort_armaments > 0
				}
				change_variable = { 
					name = pop_comfort_armaments
					multiply = 50
				}
				change_variable = { 
					name = pop_comfort_armaments
					divide = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_comfort_armaments
					multiply = var:pop_comfort_armaments
				}
				change_variable = { 
					name = pop_comfort_armaments
					divide = 50
				}
				change_variable = { 
					name = pop_comfort_armaments
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_update_demand_t
				value = 0
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_food
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_comfort_armaments
			}
			change_variable = { 
				name = pop_comfort_food
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_cereal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_salted
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_salt
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_mud
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_fuel
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_fiber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_timber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_metal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_textile
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_pottery
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_tools
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_armaments
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_luxury_food
				value = pop_luxury_food
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_food
					var:pop_luxury_food > 0
				}
				change_variable = { 
					name = pop_luxury_food
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_food
					divide = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_luxury_food
					multiply = var:pop_luxury_food
				}
				change_variable = { 
					name = pop_luxury_food
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_food
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_cereal
				value = pop_luxury_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_cereal
					var:pop_luxury_cereal > 0
				}
				change_variable = { 
					name = pop_luxury_cereal
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_cereal
					divide = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_luxury_cereal
					multiply = var:pop_luxury_cereal
				}
				change_variable = { 
					name = pop_luxury_cereal
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_cereal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_salted
				value = pop_luxury_salted
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salted
					var:pop_luxury_salted > 0
				}
				change_variable = { 
					name = pop_luxury_salted
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_salted
					divide = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_luxury_salted
					multiply = var:pop_luxury_salted
				}
				change_variable = { 
					name = pop_luxury_salted
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_salted
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_salt
				value = pop_luxury_salt
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salt
					var:pop_luxury_salt > 0
				}
				change_variable = { 
					name = pop_luxury_salt
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_salt
					divide = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_luxury_salt
					multiply = var:pop_luxury_salt
				}
				change_variable = { 
					name = pop_luxury_salt
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_salt
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_mud
				value = pop_luxury_mud
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_mud
					var:pop_luxury_mud > 0
				}
				change_variable = { 
					name = pop_luxury_mud
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_mud
					divide = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_luxury_mud
					multiply = var:pop_luxury_mud
				}
				change_variable = { 
					name = pop_luxury_mud
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_mud
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_fuel
				value = pop_luxury_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fuel
					var:pop_luxury_fuel > 0
				}
				change_variable = { 
					name = pop_luxury_fuel
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_fuel
					divide = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_luxury_fuel
					multiply = var:pop_luxury_fuel
				}
				change_variable = { 
					name = pop_luxury_fuel
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_fuel
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_fiber
				value = pop_luxury_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fiber
					var:pop_luxury_fiber > 0
				}
				change_variable = { 
					name = pop_luxury_fiber
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_fiber
					divide = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_luxury_fiber
					multiply = var:pop_luxury_fiber
				}
				change_variable = { 
					name = pop_luxury_fiber
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_fiber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_timber
				value = pop_luxury_timber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_timber
					var:pop_luxury_timber > 0
				}
				change_variable = { 
					name = pop_luxury_timber
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_timber
					divide = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_luxury_timber
					multiply = var:pop_luxury_timber
				}
				change_variable = { 
					name = pop_luxury_timber
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_timber
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_metal
				value = pop_luxury_metal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_metal
					var:pop_luxury_metal > 0
				}
				change_variable = { 
					name = pop_luxury_metal
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_metal
					divide = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_luxury_metal
					multiply = var:pop_luxury_metal
				}
				change_variable = { 
					name = pop_luxury_metal
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_metal
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_exotics_w
				value = pop_luxury_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_w
					var:pop_luxury_exotics_w > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					divide = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					multiply = var:pop_luxury_exotics_w
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_exotics_e
				value = pop_luxury_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_e
					var:pop_luxury_exotics_e > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					divide = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					multiply = var:pop_luxury_exotics_e
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_exotics_g
				value = pop_luxury_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_g
					var:pop_luxury_exotics_g > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					divide = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					multiply = var:pop_luxury_exotics_g
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_textile
				value = pop_luxury_textile
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_textile
					var:pop_luxury_textile > 0
				}
				change_variable = { 
					name = pop_luxury_textile
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_textile
					divide = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_luxury_textile
					multiply = var:pop_luxury_textile
				}
				change_variable = { 
					name = pop_luxury_textile
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_textile
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_pottery
				value = pop_luxury_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_pottery
					var:pop_luxury_pottery > 0
				}
				change_variable = { 
					name = pop_luxury_pottery
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_pottery
					divide = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_luxury_pottery
					multiply = var:pop_luxury_pottery
				}
				change_variable = { 
					name = pop_luxury_pottery
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_pottery
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_tools
				value = pop_luxury_tools
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_tools
					var:pop_luxury_tools > 0
				}
				change_variable = { 
					name = pop_luxury_tools
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_tools
					divide = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_luxury_tools
					multiply = var:pop_luxury_tools
				}
				change_variable = { 
					name = pop_luxury_tools
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_tools
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_luxury_armaments
				value = pop_luxury_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_armaments
					var:pop_luxury_armaments > 0
				}
				change_variable = { 
					name = pop_luxury_armaments
					multiply = 50
				}
				change_variable = { 
					name = pop_luxury_armaments
					divide = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_luxury_armaments
					multiply = var:pop_luxury_armaments
				}
				change_variable = { 
					name = pop_luxury_armaments
					divide = 50
				}
				change_variable = { 
					name = pop_luxury_armaments
					add = 0.001
				}
			}
			set_variable = { 
				name = pop_update_demand_t
				value = 0
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_food
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				add = var:pop_luxury_armaments
			}
			change_variable = { 
				name = pop_luxury_food
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_cereal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_salted
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_salt
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_mud
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_fuel
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_fiber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_timber
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_metal
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_textile
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_pottery
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_tools
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_armaments
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_calorie_cost
				value = 0
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_food
					var:pop_calorie_food > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_food
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_food
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_cereal
					var:pop_calorie_cereal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salted
					var:pop_calorie_salted > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salt
					var:pop_calorie_salt > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_mud
					var:pop_calorie_mud > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fuel
					var:pop_calorie_fuel > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fiber
					var:pop_calorie_fiber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_timber
					var:pop_calorie_timber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_metal
					var:pop_calorie_metal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_w
					var:pop_calorie_exotics_w > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_e
					var:pop_calorie_exotics_e > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_g
					var:pop_calorie_exotics_g > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_textile
					var:pop_calorie_textile > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_pottery
					var:pop_calorie_pottery > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_tools
					var:pop_calorie_tools > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_armaments
					var:pop_calorie_armaments > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_calorie_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_calorie_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_calorie_cost
					add = var:pop_update_demand_t
				}
			}
			change_variable = { 
				name = pop_calorie_cost
				multiply = this.county.var:modi_pop_calorie
			}
			set_variable = { 
				name = pop_nutrient_cost
				value = 0
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_food
					var:pop_nutrient_food > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_food
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_food
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_cereal
					var:pop_nutrient_cereal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salted
					var:pop_nutrient_salted > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salt
					var:pop_nutrient_salt > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_mud
					var:pop_nutrient_mud > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fuel
					var:pop_nutrient_fuel > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fiber
					var:pop_nutrient_fiber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_timber
					var:pop_nutrient_timber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_metal
					var:pop_nutrient_metal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_w
					var:pop_nutrient_exotics_w > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_e
					var:pop_nutrient_exotics_e > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_g
					var:pop_nutrient_exotics_g > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_textile
					var:pop_nutrient_textile > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_pottery
					var:pop_nutrient_pottery > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_tools
					var:pop_nutrient_tools > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_armaments
					var:pop_nutrient_armaments > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_nutrient_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_nutrient_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_nutrient_cost
					add = var:pop_update_demand_t
				}
			}
			change_variable = { 
				name = pop_nutrient_cost
				multiply = this.county.var:modi_pop_nutrient
			}
			set_variable = { 
				name = pop_comfort_cost
				value = 0
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_food
					var:pop_comfort_food > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_food
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_food
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_cereal
					var:pop_comfort_cereal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salted
					var:pop_comfort_salted > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salt
					var:pop_comfort_salt > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_mud
					var:pop_comfort_mud > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fuel
					var:pop_comfort_fuel > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fiber
					var:pop_comfort_fiber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_timber
					var:pop_comfort_timber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_metal
					var:pop_comfort_metal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_w
					var:pop_comfort_exotics_w > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_e
					var:pop_comfort_exotics_e > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_g
					var:pop_comfort_exotics_g > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_textile
					var:pop_comfort_textile > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_pottery
					var:pop_comfort_pottery > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_tools
					var:pop_comfort_tools > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_armaments
					var:pop_comfort_armaments > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_comfort_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_comfort_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_comfort_cost
					add = var:pop_update_demand_t
				}
			}
			change_variable = { 
				name = pop_comfort_cost
				multiply = this.county.var:modi_pop_comfort
			}
			set_variable = { 
				name = pop_luxury_cost
				value = 0
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_food
					var:pop_luxury_food > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_food
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_food
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_food
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_cereal
					var:pop_luxury_cereal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_cereal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_cereal
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salted
					var:pop_luxury_salted > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_salted
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salted
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salt
					var:pop_luxury_salt > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_salt
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_salt
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_mud
					var:pop_luxury_mud > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_mud
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_mud
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fuel
					var:pop_luxury_fuel > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_fuel
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fuel
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fiber
					var:pop_luxury_fiber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_fiber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_fiber
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_timber
					var:pop_luxury_timber > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_timber
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_timber
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_metal
					var:pop_luxury_metal > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_metal
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_metal
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_w
					var:pop_luxury_exotics_w > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_exotics_w
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_e
					var:pop_luxury_exotics_e > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_exotics_e
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_g
					var:pop_luxury_exotics_g > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_exotics_g
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_textile
					var:pop_luxury_textile > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_textile
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_textile
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_pottery
					var:pop_luxury_pottery > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_pottery
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_pottery
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_tools
					var:pop_luxury_tools > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_tools
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_tools
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_armaments
					var:pop_luxury_armaments > 0
				}
				set_variable = { 
					name = pop_update_demand_t
					value = var:pop_luxury_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					divide = pop_luxury_armaments
				}
				change_variable = { 
					name = pop_update_demand_t
					multiply = this.county.var:trade_price_armaments
				}
				change_variable = { 
					name = pop_luxury_cost
					add = var:pop_update_demand_t
				}
			}
			change_variable = { 
				name = pop_luxury_cost
				multiply = this.county.var:modi_pop_luxury
			}
			set_variable = { 
				name = pop_update_demand_t
				value = 0
			}
			set_variable = { 
				name = pop_update_demand_calorie
				value = 0
			}
			set_variable = { 
				name = pop_update_demand_nutrient
				value = 0
			}
			set_variable = { 
				name = pop_update_demand_comfort
				value = 0
			}
			set_variable = { 
				name = pop_update_demand_luxury
				value = 0
			}
			while = { 
				limit = { 
					var:pop_update_demand_t <= 4
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = pop_update_demand_t
							}
							var:pop_update_demand_t = 0
						}
					}
					set_variable = { 
						name = pop_calorie
						value = 0.5
					}
					set_variable = { 
						name = pop_nutrient
						value = 0.1
					}
					set_variable = { 
						name = pop_comfort
						value = 0.02
					}
					set_variable = { 
						name = pop_luxury
						value = 0
					}
				}
				else_if = { 
					limit = { 
						var:pop_update_demand_t = 1
					}
					set_variable = { 
						name = pop_calorie
						value = 1
					}
					set_variable = { 
						name = pop_nutrient
						value = 0.5
					}
					set_variable = { 
						name = pop_comfort
						value = 0.1
					}
					set_variable = { 
						name = pop_luxury
						value = 0.02
					}
				}
				else_if = { 
					limit = { 
						var:pop_update_demand_t = 2
					}
					set_variable = { 
						name = pop_calorie
						value = 1
					}
					set_variable = { 
						name = pop_nutrient
						value = 1
					}
					set_variable = { 
						name = pop_comfort
						value = 0.5
					}
					set_variable = { 
						name = pop_luxury
						value = 0.1
					}
				}
				else_if = { 
					limit = { 
						var:pop_update_demand_t = 3
					}
					set_variable = { 
						name = pop_calorie
						value = 1
					}
					set_variable = { 
						name = pop_nutrient
						value = 1
					}
					set_variable = { 
						name = pop_comfort
						value = 1
					}
					set_variable = { 
						name = pop_luxury
						value = 0.5
					}
				}
				else = { 
					set_variable = { 
						name = pop_calorie
						value = 1
					}
					set_variable = { 
						name = pop_nutrient
						value = 1
					}
					set_variable = { 
						name = pop_comfort
						value = 1
					}
					set_variable = { 
						name = pop_luxury
						value = 1
					}
				}
				set_variable = { 
					name = pop_update_demand_tt
					value = 0
				}
				set_variable = { 
					name = pop_update_demand_ttt
					value = var:pop_calorie
				}
				change_variable = { 
					name = pop_update_demand_ttt
					multiply = var:pop_calorie_cost
				}
				change_variable = { 
					name = pop_update_demand_tt
					add = var:pop_update_demand_ttt
				}
				set_variable = { 
					name = pop_update_demand_ttt
					value = var:pop_nutrient
				}
				change_variable = { 
					name = pop_update_demand_ttt
					multiply = var:pop_nutrient_cost
				}
				change_variable = { 
					name = pop_update_demand_tt
					add = var:pop_update_demand_ttt
				}
				set_variable = { 
					name = pop_update_demand_ttt
					value = var:pop_comfort
				}
				change_variable = { 
					name = pop_update_demand_ttt
					multiply = var:pop_comfort_cost
				}
				change_variable = { 
					name = pop_update_demand_tt
					add = var:pop_update_demand_ttt
				}
				set_variable = { 
					name = pop_update_demand_ttt
					value = var:pop_luxury
				}
				change_variable = { 
					name = pop_update_demand_ttt
					multiply = var:pop_luxury_cost
				}
				change_variable = { 
					name = pop_update_demand_tt
					add = var:pop_update_demand_ttt
				}
				change_variable = { 
					name = pop_update_demand_tt
					multiply = var:pop_total
				}
				set_variable = { 
					name = pop_update_demand_ttt
					value = var:pop_wealth
				}
				change_variable = { 
					name = pop_update_demand_ttt
					divide = 4
				}
				if = { 
					limit = { 
						has_variable = pop_update_demand_tt
						var:pop_update_demand_tt = { 
							compare_value <= prev.var:pop_update_demand_ttt
						}
					}
					change_variable = { 
						name = pop_update_demand_t
						add = 1
					}
					set_variable = { 
						name = pop_update_demand_calorie
						value = var:pop_calorie
					}
					set_variable = { 
						name = pop_update_demand_nutrient
						value = var:pop_nutrient
					}
					set_variable = { 
						name = pop_update_demand_comfort
						value = var:pop_comfort
					}
					set_variable = { 
						name = pop_update_demand_luxury
						value = var:pop_luxury
					}
				}
				else = { 
					set_variable = { 
						name = pop_update_demand_t
						value = 5
					}
					change_variable = { 
						name = pop_calorie
						add = var:pop_update_demand_calorie
					}
					change_variable = { 
						name = pop_nutrient
						add = var:pop_update_demand_nutrient
					}
					change_variable = { 
						name = pop_comfort
						add = var:pop_update_demand_comfort
					}
					change_variable = { 
						name = pop_luxury
						add = var:pop_update_demand_luxury
					}
					change_variable = { 
						name = pop_calorie
						divide = 2
					}
					change_variable = { 
						name = pop_nutrient
						divide = 2
					}
					change_variable = { 
						name = pop_comfort
						divide = 2
					}
					change_variable = { 
						name = pop_luxury
						divide = 2
					}
				}
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_calorie_serf
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_nutrient_serf
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_comfort_serf
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_luxury_serf
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_serf
			}
			change_variable = { 
				name = pop_update_demand_t
				add = 1
			}
			set_variable = { 
				name = pop_calorie_serf_share
				value = var:pop_calorie_serf
			}
			change_variable = { 
				name = pop_calorie
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie_serf_share
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_serf
			}
			change_variable = { 
				name = pop_update_demand_t
				add = 1
			}
			set_variable = { 
				name = pop_nutrient_serf_share
				value = var:pop_nutrient_serf
			}
			change_variable = { 
				name = pop_nutrient
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_nutrient_serf_share
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_serf
			}
			change_variable = { 
				name = pop_update_demand_t
				add = 1
			}
			set_variable = { 
				name = pop_comfort_serf_share
				value = var:pop_comfort_serf
			}
			change_variable = { 
				name = pop_comfort
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_comfort_serf_share
				divide = var:pop_update_demand_t
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_serf
			}
			change_variable = { 
				name = pop_update_demand_t
				add = 1
			}
			set_variable = { 
				name = pop_luxury_serf_share
				value = var:pop_luxury_serf
			}
			change_variable = { 
				name = pop_luxury
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_luxury_serf_share
				divide = var:pop_update_demand_t
			}
			change_variable = { 
				name = pop_calorie
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_calorie
				multiply = this.county.var:modi_pop_calorie
			}
			change_variable = { 
				name = pop_nutrient
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_nutrient
				multiply = this.county.var:modi_pop_nutrient
			}
			change_variable = { 
				name = pop_comfort
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_comfort
				multiply = this.county.var:modi_pop_comfort
			}
			change_variable = { 
				name = pop_luxury
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_luxury
				multiply = this.county.var:modi_pop_luxury
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_food
					var:pop_calorie_food > 0
				}
				change_variable = { 
					name = pop_calorie_food
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_food
					divide = pop_calorie_food
				}
			}
			else = { 
				remove_variable = pop_calorie_food
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_food
					var:pop_nutrient_food > 0
				}
				change_variable = { 
					name = pop_nutrient_food
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_food
					divide = pop_nutrient_food
				}
			}
			else = { 
				remove_variable = pop_nutrient_food
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_food
					var:pop_comfort_food > 0
				}
				change_variable = { 
					name = pop_comfort_food
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_food
					divide = pop_comfort_food
				}
			}
			else = { 
				remove_variable = pop_comfort_food
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_food
					var:pop_luxury_food > 0
				}
				change_variable = { 
					name = pop_luxury_food
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_food
					divide = pop_luxury_food
				}
			}
			else = { 
				remove_variable = pop_luxury_food
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_cereal
					var:pop_calorie_cereal > 0
				}
				change_variable = { 
					name = pop_calorie_cereal
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_cereal
					divide = pop_calorie_cereal
				}
			}
			else = { 
				remove_variable = pop_calorie_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_cereal
					var:pop_nutrient_cereal > 0
				}
				change_variable = { 
					name = pop_nutrient_cereal
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_cereal
					divide = pop_nutrient_cereal
				}
			}
			else = { 
				remove_variable = pop_nutrient_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_cereal
					var:pop_comfort_cereal > 0
				}
				change_variable = { 
					name = pop_comfort_cereal
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_cereal
					divide = pop_comfort_cereal
				}
			}
			else = { 
				remove_variable = pop_comfort_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_cereal
					var:pop_luxury_cereal > 0
				}
				change_variable = { 
					name = pop_luxury_cereal
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_cereal
					divide = pop_luxury_cereal
				}
			}
			else = { 
				remove_variable = pop_luxury_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salted
					var:pop_calorie_salted > 0
				}
				change_variable = { 
					name = pop_calorie_salted
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_salted
					divide = pop_calorie_salted
				}
			}
			else = { 
				remove_variable = pop_calorie_salted
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salted
					var:pop_nutrient_salted > 0
				}
				change_variable = { 
					name = pop_nutrient_salted
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_salted
					divide = pop_nutrient_salted
				}
			}
			else = { 
				remove_variable = pop_nutrient_salted
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salted
					var:pop_comfort_salted > 0
				}
				change_variable = { 
					name = pop_comfort_salted
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_salted
					divide = pop_comfort_salted
				}
			}
			else = { 
				remove_variable = pop_comfort_salted
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salted
					var:pop_luxury_salted > 0
				}
				change_variable = { 
					name = pop_luxury_salted
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_salted
					divide = pop_luxury_salted
				}
			}
			else = { 
				remove_variable = pop_luxury_salted
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salt
					var:pop_calorie_salt > 0
				}
				change_variable = { 
					name = pop_calorie_salt
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_salt
					divide = pop_calorie_salt
				}
			}
			else = { 
				remove_variable = pop_calorie_salt
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salt
					var:pop_nutrient_salt > 0
				}
				change_variable = { 
					name = pop_nutrient_salt
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_salt
					divide = pop_nutrient_salt
				}
			}
			else = { 
				remove_variable = pop_nutrient_salt
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salt
					var:pop_comfort_salt > 0
				}
				change_variable = { 
					name = pop_comfort_salt
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_salt
					divide = pop_comfort_salt
				}
			}
			else = { 
				remove_variable = pop_comfort_salt
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salt
					var:pop_luxury_salt > 0
				}
				change_variable = { 
					name = pop_luxury_salt
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_salt
					divide = pop_luxury_salt
				}
			}
			else = { 
				remove_variable = pop_luxury_salt
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_mud
					var:pop_calorie_mud > 0
				}
				change_variable = { 
					name = pop_calorie_mud
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_mud
					divide = pop_calorie_mud
				}
			}
			else = { 
				remove_variable = pop_calorie_mud
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_mud
					var:pop_nutrient_mud > 0
				}
				change_variable = { 
					name = pop_nutrient_mud
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_mud
					divide = pop_nutrient_mud
				}
			}
			else = { 
				remove_variable = pop_nutrient_mud
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_mud
					var:pop_comfort_mud > 0
				}
				change_variable = { 
					name = pop_comfort_mud
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_mud
					divide = pop_comfort_mud
				}
			}
			else = { 
				remove_variable = pop_comfort_mud
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_mud
					var:pop_luxury_mud > 0
				}
				change_variable = { 
					name = pop_luxury_mud
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_mud
					divide = pop_luxury_mud
				}
			}
			else = { 
				remove_variable = pop_luxury_mud
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fuel
					var:pop_calorie_fuel > 0
				}
				change_variable = { 
					name = pop_calorie_fuel
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_fuel
					divide = pop_calorie_fuel
				}
			}
			else = { 
				remove_variable = pop_calorie_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fuel
					var:pop_nutrient_fuel > 0
				}
				change_variable = { 
					name = pop_nutrient_fuel
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_fuel
					divide = pop_nutrient_fuel
				}
			}
			else = { 
				remove_variable = pop_nutrient_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fuel
					var:pop_comfort_fuel > 0
				}
				change_variable = { 
					name = pop_comfort_fuel
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_fuel
					divide = pop_comfort_fuel
				}
			}
			else = { 
				remove_variable = pop_comfort_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fuel
					var:pop_luxury_fuel > 0
				}
				change_variable = { 
					name = pop_luxury_fuel
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_fuel
					divide = pop_luxury_fuel
				}
			}
			else = { 
				remove_variable = pop_luxury_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fiber
					var:pop_calorie_fiber > 0
				}
				change_variable = { 
					name = pop_calorie_fiber
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_fiber
					divide = pop_calorie_fiber
				}
			}
			else = { 
				remove_variable = pop_calorie_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fiber
					var:pop_nutrient_fiber > 0
				}
				change_variable = { 
					name = pop_nutrient_fiber
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_fiber
					divide = pop_nutrient_fiber
				}
			}
			else = { 
				remove_variable = pop_nutrient_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fiber
					var:pop_comfort_fiber > 0
				}
				change_variable = { 
					name = pop_comfort_fiber
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_fiber
					divide = pop_comfort_fiber
				}
			}
			else = { 
				remove_variable = pop_comfort_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fiber
					var:pop_luxury_fiber > 0
				}
				change_variable = { 
					name = pop_luxury_fiber
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_fiber
					divide = pop_luxury_fiber
				}
			}
			else = { 
				remove_variable = pop_luxury_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_timber
					var:pop_calorie_timber > 0
				}
				change_variable = { 
					name = pop_calorie_timber
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_timber
					divide = pop_calorie_timber
				}
			}
			else = { 
				remove_variable = pop_calorie_timber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_timber
					var:pop_nutrient_timber > 0
				}
				change_variable = { 
					name = pop_nutrient_timber
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_timber
					divide = pop_nutrient_timber
				}
			}
			else = { 
				remove_variable = pop_nutrient_timber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_timber
					var:pop_comfort_timber > 0
				}
				change_variable = { 
					name = pop_comfort_timber
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_timber
					divide = pop_comfort_timber
				}
			}
			else = { 
				remove_variable = pop_comfort_timber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_timber
					var:pop_luxury_timber > 0
				}
				change_variable = { 
					name = pop_luxury_timber
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_timber
					divide = pop_luxury_timber
				}
			}
			else = { 
				remove_variable = pop_luxury_timber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_metal
					var:pop_calorie_metal > 0
				}
				change_variable = { 
					name = pop_calorie_metal
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_metal
					divide = pop_calorie_metal
				}
			}
			else = { 
				remove_variable = pop_calorie_metal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_metal
					var:pop_nutrient_metal > 0
				}
				change_variable = { 
					name = pop_nutrient_metal
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_metal
					divide = pop_nutrient_metal
				}
			}
			else = { 
				remove_variable = pop_nutrient_metal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_metal
					var:pop_comfort_metal > 0
				}
				change_variable = { 
					name = pop_comfort_metal
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_metal
					divide = pop_comfort_metal
				}
			}
			else = { 
				remove_variable = pop_comfort_metal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_metal
					var:pop_luxury_metal > 0
				}
				change_variable = { 
					name = pop_luxury_metal
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_metal
					divide = pop_luxury_metal
				}
			}
			else = { 
				remove_variable = pop_luxury_metal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_w
					var:pop_calorie_exotics_w > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_exotics_w
					divide = pop_calorie_exotics_w
				}
			}
			else = { 
				remove_variable = pop_calorie_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_w
					var:pop_nutrient_exotics_w > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_exotics_w
					divide = pop_nutrient_exotics_w
				}
			}
			else = { 
				remove_variable = pop_nutrient_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_w
					var:pop_comfort_exotics_w > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_exotics_w
					divide = pop_comfort_exotics_w
				}
			}
			else = { 
				remove_variable = pop_comfort_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_w
					var:pop_luxury_exotics_w > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_exotics_w
					divide = pop_luxury_exotics_w
				}
			}
			else = { 
				remove_variable = pop_luxury_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_e
					var:pop_calorie_exotics_e > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_exotics_e
					divide = pop_calorie_exotics_e
				}
			}
			else = { 
				remove_variable = pop_calorie_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_e
					var:pop_nutrient_exotics_e > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_exotics_e
					divide = pop_nutrient_exotics_e
				}
			}
			else = { 
				remove_variable = pop_nutrient_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_e
					var:pop_comfort_exotics_e > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_exotics_e
					divide = pop_comfort_exotics_e
				}
			}
			else = { 
				remove_variable = pop_comfort_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_e
					var:pop_luxury_exotics_e > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_exotics_e
					divide = pop_luxury_exotics_e
				}
			}
			else = { 
				remove_variable = pop_luxury_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_g
					var:pop_calorie_exotics_g > 0
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_exotics_g
					divide = pop_calorie_exotics_g
				}
			}
			else = { 
				remove_variable = pop_calorie_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_g
					var:pop_nutrient_exotics_g > 0
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_exotics_g
					divide = pop_nutrient_exotics_g
				}
			}
			else = { 
				remove_variable = pop_nutrient_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_g
					var:pop_comfort_exotics_g > 0
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_exotics_g
					divide = pop_comfort_exotics_g
				}
			}
			else = { 
				remove_variable = pop_comfort_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_g
					var:pop_luxury_exotics_g > 0
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_exotics_g
					divide = pop_luxury_exotics_g
				}
			}
			else = { 
				remove_variable = pop_luxury_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_textile
					var:pop_calorie_textile > 0
				}
				change_variable = { 
					name = pop_calorie_textile
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_textile
					divide = pop_calorie_textile
				}
			}
			else = { 
				remove_variable = pop_calorie_textile
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_textile
					var:pop_nutrient_textile > 0
				}
				change_variable = { 
					name = pop_nutrient_textile
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_textile
					divide = pop_nutrient_textile
				}
			}
			else = { 
				remove_variable = pop_nutrient_textile
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_textile
					var:pop_comfort_textile > 0
				}
				change_variable = { 
					name = pop_comfort_textile
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_textile
					divide = pop_comfort_textile
				}
			}
			else = { 
				remove_variable = pop_comfort_textile
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_textile
					var:pop_luxury_textile > 0
				}
				change_variable = { 
					name = pop_luxury_textile
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_textile
					divide = pop_luxury_textile
				}
			}
			else = { 
				remove_variable = pop_luxury_textile
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_pottery
					var:pop_calorie_pottery > 0
				}
				change_variable = { 
					name = pop_calorie_pottery
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_pottery
					divide = pop_calorie_pottery
				}
			}
			else = { 
				remove_variable = pop_calorie_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_pottery
					var:pop_nutrient_pottery > 0
				}
				change_variable = { 
					name = pop_nutrient_pottery
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_pottery
					divide = pop_nutrient_pottery
				}
			}
			else = { 
				remove_variable = pop_nutrient_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_pottery
					var:pop_comfort_pottery > 0
				}
				change_variable = { 
					name = pop_comfort_pottery
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_pottery
					divide = pop_comfort_pottery
				}
			}
			else = { 
				remove_variable = pop_comfort_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_pottery
					var:pop_luxury_pottery > 0
				}
				change_variable = { 
					name = pop_luxury_pottery
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_pottery
					divide = pop_luxury_pottery
				}
			}
			else = { 
				remove_variable = pop_luxury_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_tools
					var:pop_calorie_tools > 0
				}
				change_variable = { 
					name = pop_calorie_tools
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_tools
					divide = pop_calorie_tools
				}
			}
			else = { 
				remove_variable = pop_calorie_tools
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_tools
					var:pop_nutrient_tools > 0
				}
				change_variable = { 
					name = pop_nutrient_tools
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_tools
					divide = pop_nutrient_tools
				}
			}
			else = { 
				remove_variable = pop_nutrient_tools
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_tools
					var:pop_comfort_tools > 0
				}
				change_variable = { 
					name = pop_comfort_tools
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_tools
					divide = pop_comfort_tools
				}
			}
			else = { 
				remove_variable = pop_comfort_tools
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_tools
					var:pop_luxury_tools > 0
				}
				change_variable = { 
					name = pop_luxury_tools
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_tools
					divide = pop_luxury_tools
				}
			}
			else = { 
				remove_variable = pop_luxury_tools
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_armaments
					var:pop_calorie_armaments > 0
				}
				change_variable = { 
					name = pop_calorie_armaments
					multiply = var:pop_calorie
				}
				change_variable = { 
					name = pop_calorie_armaments
					divide = pop_calorie_armaments
				}
			}
			else = { 
				remove_variable = pop_calorie_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_armaments
					var:pop_nutrient_armaments > 0
				}
				change_variable = { 
					name = pop_nutrient_armaments
					multiply = var:pop_nutrient
				}
				change_variable = { 
					name = pop_nutrient_armaments
					divide = pop_nutrient_armaments
				}
			}
			else = { 
				remove_variable = pop_nutrient_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_armaments
					var:pop_comfort_armaments > 0
				}
				change_variable = { 
					name = pop_comfort_armaments
					multiply = var:pop_comfort
				}
				change_variable = { 
					name = pop_comfort_armaments
					divide = pop_comfort_armaments
				}
			}
			else = { 
				remove_variable = pop_comfort_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_armaments
					var:pop_luxury_armaments > 0
				}
				change_variable = { 
					name = pop_luxury_armaments
					multiply = var:pop_luxury
				}
				change_variable = { 
					name = pop_luxury_armaments
					divide = pop_luxury_armaments
				}
			}
			else = { 
				remove_variable = pop_luxury_armaments
			}
			remove_variable = pop_update_demand_t
			remove_variable = pop_update_demand_tt
			remove_variable = pop_update_demand_ttt
			remove_variable = pop_update_demand_calorie
			remove_variable = pop_update_demand_nutrient
			remove_variable = pop_update_demand_comfort
			remove_variable = pop_update_demand_luxury
		}
	}
	option = { }
}
census.05 = { 
	type = empty
	hidden = yes
	immediate = { 
		if = { 
			limit = { 
				OR = { 
					NOT = { 
						has_global_variable = trade_link_refresh
					}
					global_var:trade_link_refresh = 0
				}
			}
			set_global_variable = { 
				name = trade_link_refresh
				value = 10
			}
			every_in_global_list = { 
				variable = trade_merchants
				clear_variable_list = trade_link
				clear_variable_list = array_trade_link
				clear_variable_list = trade_periph
				clear_variable_list = array_trade_periph
				add_to_global_variable_list = { 
					name = trade_set_link_t
					target = var:trade_location
				}
			}
			if = { 
				limit = { 
					or = { 
						always = no
						always = yes
					}
				}
				every_in_global_list = { 
					variable = trade_set_link_t
					set_variable = { 
						name = travel_distance_distance
						value = 0
					}
					set_variable = { 
						name = travel_distance_prev
						value = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_fray
						target = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_visited
						target = this
					}
				}
			}
			else = { 
				every_in_list = { 
					variable = trade_set_link_t
					set_variable = { 
						name = travel_distance_distance
						value = 0
					}
					set_variable = { 
						name = travel_distance_prev
						value = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_fray
						target = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_visited
						target = this
					}
				}
			}
			while = { 
				limit = { 
					has_global_variable_list = travel_distance_fray
					global_variable_list_size = { 
						name = travel_distance_fray
						value >= 1
					}
				}
				count = 100000
				ordered_in_global_list = { 
					variable = travel_distance_fray
					order_by = travel_distance_order_value
					position = 0
					set_global_variable = { 
						name = travel_distance_select
						value = this
					}
					remove_list_global_variable = { 
						name = travel_distance_fray
						target = this
					}
				}
				global_var:travel_distance_select = { 
					if = { 
						limit = { 
							has_variable_list = prov_neighb
						}
						every_in_list = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = travel_distance_distance
									}
									var:travel_distance_distance = { 
										compare_value > global_var:travel_distance_select.var:travel_distance_distance
									}
								}
							}
							variable = prov_neighb
							set_variable = { 
								name = get_distance_neighb_x_diff
								value = global_var:travel_distance_select.var:prov_x
							}
							set_variable = { 
								name = get_distance_neighb_y_diff
								value = global_var:travel_distance_select.var:prov_y
							}
							change_variable = { 
								name = get_distance_neighb_x_diff
								subtract = this.var:prov_x
							}
							change_variable = { 
								name = get_distance_neighb_y_diff
								subtract = this.var:prov_y
							}
							set_variable = { 
								name = math_dist_x
								value = var:get_distance_neighb_x_diff
							}
							set_variable = { 
								name = math_dist_y
								value = var:get_distance_neighb_y_diff
							}
							if = { 
								limit = { 
									var:math_dist_x < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = 0
								}
								change_variable = { 
									name = math_dist_x
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_y < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = 0
								}
								change_variable = { 
									name = math_dist_y
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_x = { 
										compare_value < prev.var:math_dist_y
									}
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = var:math_dist_t
								}
							}
							change_variable = { 
								name = math_dist_x
								multiply = 100.7
							}
							change_variable = { 
								name = math_dist_y
								multiply = 44.1
							}
							set_variable = { 
								name = travel_distance_distance_new
								value = var:math_dist_x
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = var:math_dist_y
							}
							change_variable = { 
								name = travel_distance_distance_new
								divide = 102.4
							}
							remove_variable = math_dist_x
							remove_variable = math_dist_y
							remove_variable = math_dist_t
							set_variable = { 
								name = get_distance_neighb_cost
								value = global_var:travel_distance_select.var:prov_cost
							}
							change_variable = { 
								name = get_distance_neighb_cost
								add = this.var:prov_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								multiply = var:get_distance_neighb_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = global_var:travel_distance_select.var:travel_distance_distance
							}
							set_variable = { 
								name = get_distance_neighb_t
								value = global_var:travel_distance_select.var:prov_sea
							}
							set_variable = { 
								name = get_distance_neighb_tt
								value = this.var:prov_sea
							}
							if = { 
								limit = { 
									NOT = { 
										var:get_distance_neighb_t = 1
										var:get_distance_neighb_tt = 1
										var:get_distance_neighb_t = { 
											compare_value = prev.var:get_distance_neighb_tt
										}
									}
								}
								change_variable = { 
									name = travel_distance_distance_new
									add = 175
								}
							}
							remove_variable = get_distance_neighb_x_diff
							remove_variable = get_distance_neighb_y_diff
							remove_variable = get_distance_neighb_t
							remove_variable = get_distance_neighb_tt
							remove_variable = get_distance_neighb_cost
							if = { 
								limit = { 
									var:travel_distance_distance_new = { 
										compare_value <= 5000
									}
									OR = { 
										NOT = { 
											has_variable = travel_distance_distance
										}
										var:travel_distance_distance_new = { 
											compare_value < prev.var:travel_distance_distance
										}
									}
								}
								add_to_global_variable_list = { 
									name = travel_distance_fray
									target = this
								}
								add_to_global_variable_list = { 
									name = travel_distance_visited
									target = this
								}
								set_variable = { 
									name = travel_distance_distance
									value = var:travel_distance_distance_new
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select.var:travel_distance_prev
								}
							}
							remove_variable = travel_distance_distance_new
						}
					}
					if = { 
						limit = { 
							has_variable_list = prov_port
						}
						every_in_list = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = travel_distance_distance
									}
									var:travel_distance_distance = { 
										compare_value > global_var:travel_distance_select.var:travel_distance_distance
									}
								}
							}
							variable = prov_port
							set_variable = { 
								name = get_distance_port_t
								value = global_var:travel_distance_select.var:prov_sea
							}
							set_variable = { 
								name = get_distance_port_tt
								value = this.var:prov_sea
							}
							if = { 
								limit = { 
									OR = { 
										var:get_distance_port_t = 2
										var:get_distance_port_tt = 2
									}
								}
								set_variable = { 
									name = get_distance_port_cost
									value = 100
								}
							}
							else = { 
								set_variable = { 
									name = get_distance_port_cost
									value = 25
								}
							}
							set_variable = { 
								name = get_distance_neighb_x_diff
								value = global_var:travel_distance_select.var:prov_x
							}
							set_variable = { 
								name = get_distance_neighb_y_diff
								value = global_var:travel_distance_select.var:prov_y
							}
							change_variable = { 
								name = get_distance_neighb_x_diff
								subtract = this.var:prov_x
							}
							change_variable = { 
								name = get_distance_neighb_y_diff
								subtract = this.var:prov_y
							}
							set_variable = { 
								name = math_dist_x
								value = var:get_distance_neighb_x_diff
							}
							set_variable = { 
								name = math_dist_y
								value = var:get_distance_neighb_y_diff
							}
							if = { 
								limit = { 
									var:math_dist_x < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = 0
								}
								change_variable = { 
									name = math_dist_x
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_y < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = 0
								}
								change_variable = { 
									name = math_dist_y
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_x = { 
										compare_value < prev.var:math_dist_y
									}
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = var:math_dist_t
								}
							}
							change_variable = { 
								name = math_dist_x
								multiply = 100.7
							}
							change_variable = { 
								name = math_dist_y
								multiply = 44.1
							}
							set_variable = { 
								name = travel_distance_distance_new
								value = var:math_dist_x
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = var:math_dist_y
							}
							change_variable = { 
								name = travel_distance_distance_new
								divide = 102.4
							}
							remove_variable = math_dist_x
							remove_variable = math_dist_y
							remove_variable = math_dist_t
							set_variable = { 
								name = get_distance_neighb_cost
								value = global_var:travel_distance_select.var:prov_cost
							}
							change_variable = { 
								name = get_distance_neighb_cost
								add = this.var:prov_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								multiply = var:get_distance_neighb_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = global_var:travel_distance_select.var:travel_distance_distance
							}
							set_variable = { 
								name = get_distance_neighb_t
								value = global_var:travel_distance_select.var:prov_sea
							}
							set_variable = { 
								name = get_distance_neighb_tt
								value = this.var:prov_sea
							}
							if = { 
								limit = { 
									NOT = { 
										var:get_distance_neighb_t = 1
										var:get_distance_neighb_tt = 1
										var:get_distance_neighb_t = { 
											compare_value = prev.var:get_distance_neighb_tt
										}
									}
								}
								change_variable = { 
									name = travel_distance_distance_new
									add = 175
								}
							}
							remove_variable = get_distance_neighb_x_diff
							remove_variable = get_distance_neighb_y_diff
							remove_variable = get_distance_neighb_t
							remove_variable = get_distance_neighb_tt
							remove_variable = get_distance_neighb_cost
							change_variable = { 
								name = travel_distance_distance_new
								add = var:get_distance_port_cost
							}
							remove_variable = get_distance_port_t
							remove_variable = get_distance_port_tt
							remove_variable = get_distance_port_cost
							if = { 
								limit = { 
									var:travel_distance_distance_new = { 
										compare_value <= 5000
									}
									OR = { 
										NOT = { 
											has_variable = travel_distance_distance
										}
										var:travel_distance_distance_new = { 
											compare_value < prev.var:travel_distance_distance
										}
									}
								}
								add_to_global_variable_list = { 
									name = travel_distance_fray
									target = this
								}
								add_to_global_variable_list = { 
									name = travel_distance_visited
									target = this
								}
								set_variable = { 
									name = travel_distance_distance
									value = var:travel_distance_distance_new
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select.var:travel_distance_prev
								}
							}
							remove_variable = travel_distance_distance_new
						}
					}
				}
			}
			every_in_global_list = { 
				variable = travel_distance_visited
				add_to_global_variable_list = { 
					name = trade_set_link_list
					target = this
				}
				set_variable = { 
					name = trade_set_link_dist
					value = var:travel_distance_distance
				}
				set_variable = { 
					name = trade_set_link_prev
					value = var:travel_distance_prev
				}
				remove_variable = travel_distance_distance
				remove_variable = travel_distance_prev
			}
			clear_global_variable_list = travel_distance_fray
			clear_global_variable_list = travel_distance_visited
			remove_global_variable = travel_distance_select
			every_in_global_list = { 
				variable = trade_merchants
				every_in_global_list = { 
					limit = { 
						has_variable = trade_set_link_prev
						var:trade_set_link_prev = prev.var:trade_location
					}
					variable = trade_set_link_list
					if = { 
						limit = { 
							is_valid_prov = yes
							var:prov_sea = 1
							OR = { 
								NOT = { 
									has_variable = trade_set_link_dist
								}
								var:trade_set_link_dist <= 600
							}
						}
						prev = { 
							add_to_variable_list = { 
								name = trade_set_link_t
								target = prev.county
							}
						}
						county = { 
							if = { 
								limit = { 
									OR = { 
										NOT = { 
											has_variable = trade_set_link_dist
										}
										prev.var:trade_set_link_dist = { 
											compare_value < prev.var:trade_set_link_dist
										}
									}
								}
								set_variable = { 
									name = trade_set_link_dist
									value = prev.var:trade_set_link_dist
								}
							}
						}
					}
					every_in_list = { 
						limit = { 
							has_variable = trade_set_link_prev
							NOT = { 
								var:trade_set_link_prev = prev.var:trade_set_link_prev
							}
						}
						variable = prov_neighb
						set_global_variable = { 
							name = trade_set_link_t
							value = var:trade_set_link_dist
						}
						change_global_variable = { 
							name = trade_set_link_t
							add = prev.var:trade_set_link_dist
						}
						var:trade_set_link_prev.var:trade_merchant = { 
							if = { 
								limit = { 
									OR = { 
										NOT = { 
											has_variable = trade_set_link_t
										}
										var:trade_set_link_t = { 
											compare_value > global_var:trade_set_link_t
										}
									}
								}
								set_variable = { 
									name = trade_set_link_t
									value = global_var:trade_set_link_t
								}
							}
						}
					}
					every_in_list = { 
						limit = { 
							has_variable = trade_set_link_prev
							NOT = { 
								var:trade_set_link_prev = prev.var:trade_set_link_prev
							}
						}
						variable = prov_port
						set_global_variable = { 
							name = trade_set_link_t
							value = var:trade_set_link_dist
						}
						change_global_variable = { 
							name = trade_set_link_t
							add = prev.var:trade_set_link_dist
						}
						var:trade_set_link_prev.var:trade_merchant = { 
							if = { 
								limit = { 
									OR = { 
										NOT = { 
											has_variable = trade_set_link_t
										}
										var:trade_set_link_t = { 
											compare_value > global_var:trade_set_link_t
										}
									}
								}
								set_variable = { 
									name = trade_set_link_t
									value = global_var:trade_set_link_t
								}
							}
						}
					}
				}
				every_in_list = { 
					variable = trade_set_link_t
					prev = { 
						add_to_variable_list = { 
							name = trade_periph
							target = prev
						}
						set_variable = { 
							name = array_add_t
							value = prev.var:trade_set_link_dist
						}
						change_variable = { 
							name = array_add_t
							multiply = 10
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable_list = array_trade_periph
								}
							}
							add_to_variable_list = { 
								name = array_trade_periph
								target = var:array_add_t
							}
						}
						else = { 
							while = { 
								limit = { 
									is_target_in_variable_list = { 
										name = array_trade_periph
										target = var:array_add_t
									}
								}
								count = 10
								change_variable = { 
									name = array_add_t
									add = 0.001
								}
							}
							add_to_variable_list = { 
								name = array_trade_periph
								target = var:array_add_t
							}
						}
						remove_variable = array_add_t
					}
					remove_variable = trade_set_link_dist
				}
				clear_variable_list = trade_set_link_t
				every_in_global_list = { 
					limit = { 
						has_variable = trade_set_link_t
					}
					variable = trade_merchants
					if = { 
						limit = { 
							NOT = { 
								this = prev
							}
						}
						prev = { 
							add_to_variable_list = { 
								name = trade_link
								target = prev.var:trade_location
							}
							set_variable = { 
								name = array_add_t
								value = prev.var:trade_set_link_t
							}
							change_variable = { 
								name = array_add_t
								multiply = 10
							}
							if = { 
								limit = { 
									NOT = { 
										has_variable_list = array_trade_link
									}
								}
								add_to_variable_list = { 
									name = array_trade_link
									target = var:array_add_t
								}
							}
							else = { 
								while = { 
									limit = { 
										is_target_in_variable_list = { 
											name = array_trade_link
											target = var:array_add_t
										}
									}
									count = 10
									change_variable = { 
										name = array_add_t
										add = 0.001
									}
								}
								add_to_variable_list = { 
									name = array_trade_link
									target = var:array_add_t
								}
							}
							remove_variable = array_add_t
						}
					}
					remove_variable = trade_set_link_t
				}
			}
			every_in_global_list = { 
				variable = trade_merchants
				set_variable = { 
					name = trade_set_link_t
					value = 0
				}
				every_in_list = { 
					variable = trade_link
					prev = { 
						set_global_variable = { 
							name = array_get_t
							value = var:trade_set_link_t
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_global_variable = array_get_t
									}
									global_var:array_get_t = 0
								}
							}
							ordered_in_list = { 
								variable = array_trade_link
								position = 0
								prev = { 
									set_variable = { 
										name = trade_set_link_tt
										value = prev
									}
								}
							}
						}
						else = { 
							ordered_in_list = { 
								variable = array_trade_link
								position = global_var:array_get_t.compare_value
								prev = { 
									set_variable = { 
										name = trade_set_link_tt
										value = prev
									}
								}
							}
						}
						change_variable = { 
							name = trade_set_link_tt
							divide = 10
						}
						remove_global_variable = array_get_t
						change_variable = { 
							name = trade_set_link_t
							add = 1
						}
					}
					set_variable = { 
						name = trade_set_link_tt
						value = prev.var:trade_set_link_tt
					}
					set_variable = { 
						name = trade_set_link_t
						value = var:trade_set_link_tt
					}
					change_variable = { 
						name = trade_set_link_t
						divide = -20
					}
					change_variable = { 
						name = trade_set_link_t
						add = prev.var:trade_power
					}
					change_variable = { 
						name = trade_set_link_t
						subtract = var:trade_merchant.var:trade_power
					}
				}
				save_temporary_scope_as = trade_set_link_t
				set_global_variable = { 
					name = trade_set_link_loop
				}
				while = { 
					limit = { 
						has_global_variable = trade_set_link_loop
					}
					remove_global_variable = trade_set_link_loop
					every_in_list = { 
						limit = { 
							has_variable = trade_set_link_t
							var:trade_set_link_t > 0
						}
						variable = trade_link
						set_global_variable = { 
							name = trade_set_link_loop
						}
						var:trade_merchant = { 
							set_variable = { 
								name = trade_set_link_t
								value = prev.var:trade_set_link_t
							}
							set_variable = { 
								name = trade_set_link_tt
								value = prev.var:trade_set_link_tt
							}
							set_variable = { 
								name = trade_set_link_ttt
								value = 0
							}
							every_in_list = { 
								limit = { 
									NOT = { 
										this.var:trade_merchant = scope:trade_set_link_t
									}
								}
								variable = trade_link
								prev = { 
									set_global_variable = { 
										name = array_get_t
										value = var:trade_set_link_ttt
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_global_variable = array_get_t
												}
												global_var:array_get_t = 0
											}
										}
										ordered_in_list = { 
											variable = array_trade_link
											position = 0
											prev = { 
												set_variable = { 
													name = trade_set_link_tttt
													value = prev
												}
											}
										}
									}
									else = { 
										ordered_in_list = { 
											variable = array_trade_link
											position = global_var:array_get_t.compare_value
											prev = { 
												set_variable = { 
													name = trade_set_link_tttt
													value = prev
												}
											}
										}
									}
									change_variable = { 
										name = trade_set_link_tttt
										divide = 10
									}
									remove_global_variable = array_get_t
									change_variable = { 
										name = trade_set_link_ttt
										add = 1
									}
								}
								set_variable = { 
									name = trade_set_link_tttt
									value = prev.var:trade_set_link_tt
								}
								change_variable = { 
									name = trade_set_link_tttt
									add = prev.var:trade_set_link_tttt
								}
								set_variable = { 
									name = trade_set_link_ttt
									value = prev.var:trade_set_link_tttt
								}
								change_variable = { 
									name = trade_set_link_ttt
									divide = -20
								}
								change_variable = { 
									name = trade_set_link_ttt
									add = prev.var:trade_set_link_t
								}
								change_variable = { 
									name = trade_set_link_ttt
									subtract = var:trade_merchant.var:trade_power
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable = trade_set_link_tt
										}
									}
									set_variable = { 
										name = trade_set_link_t
										value = var:trade_set_link_ttt
									}
									set_variable = { 
										name = trade_set_link_tt
										value = var:trade_set_link_tttt
									}
									scope:trade_set_link_t = { 
										add_to_variable_list = { 
											name = trade_link
											target = prev
										}
										set_variable = { 
											name = array_add_t
											value = prev.var:trade_set_link_tt
										}
										change_variable = { 
											name = array_add_t
											multiply = 10
										}
										if = { 
											limit = { 
												NOT = { 
													has_variable_list = array_trade_link
												}
											}
											add_to_variable_list = { 
												name = array_trade_link
												target = var:array_add_t
											}
										}
										else = { 
											while = { 
												limit = { 
													is_target_in_variable_list = { 
														name = array_trade_link
														target = var:array_add_t
													}
												}
												count = 10
												change_variable = { 
													name = array_add_t
													add = 0.001
												}
											}
											add_to_variable_list = { 
												name = array_trade_link
												target = var:array_add_t
											}
										}
										remove_variable = array_add_t
									}
								}
								else_if = { 
									limit = { 
										var:trade_set_link_tt = { 
											compare_value > prev.var:trade_set_link_tttt
										}
									}
									set_variable = { 
										name = trade_set_link_t
										value = var:trade_set_link_ttt
									}
									set_variable = { 
										name = trade_set_link_tt
										value = var:trade_set_link_tttt
									}
									save_temporary_scope_as = trade_set_link_tt
									scope:trade_set_link_t = { 
										set_global_variable = { 
											name = trade_set_link_t
											value = 0
										}
										every_in_list = { 
											variable = trade_link
											if = { 
												limit = { 
													this = scope:trade_set_link_tt
												}
												prev = { 
													remove_list_variable = { 
														name = trade_link
														target = prev
													}
													ordered_in_list = { 
														variable = array_trade_link
														position = global_var:trade_set_link_t.compare_value
														prev = { 
															remove_list_variable = { 
																name = array_trade_link
																target = prev
															}
														}
													}
												}
											}
											else = { 
												change_global_variable = { 
													name = trade_set_link_t
													add = 1
												}
											}
										}
										add_to_variable_list = { 
											name = trade_link
											target = prev
										}
										set_variable = { 
											name = array_add_t
											value = prev.var:trade_set_link_tt
										}
										change_variable = { 
											name = array_add_t
											multiply = 10
										}
										if = { 
											limit = { 
												NOT = { 
													has_variable_list = array_trade_link
												}
											}
											add_to_variable_list = { 
												name = array_trade_link
												target = var:array_add_t
											}
										}
										else = { 
											while = { 
												limit = { 
													is_target_in_variable_list = { 
														name = array_trade_link
														target = var:array_add_t
													}
												}
												count = 10
												change_variable = { 
													name = array_add_t
													add = 0.001
												}
											}
											add_to_variable_list = { 
												name = array_trade_link
												target = var:array_add_t
											}
										}
										remove_variable = array_add_t
									}
								}
							}
						}
						set_variable = { 
							name = trade_set_link_t
							value = -1
						}
					}
				}
			}
			every_in_global_list = { 
				variable = trade_merchants
				remove_variable = trade_set_link_t
				remove_variable = trade_set_link_tt
				remove_variable = trade_set_link_ttt
				remove_variable = trade_set_link_tttt
			}
			every_in_global_list = { 
				variable = trade_set_link_list
				remove_variable = trade_set_link_checked
				remove_variable = trade_set_link_dist
				remove_variable = trade_set_link_prev
				remove_variable = trade_set_link_t
				remove_variable = trade_set_link_tt
				remove_variable = trade_set_link_ttt
				remove_variable = trade_set_link_tttt
			}
			clear_global_variable_list = trade_set_link_list
			clear_global_variable_list = trade_set_link_t
			remove_global_variable = trade_set_link_t
		}
		else = { 
			change_global_variable = { 
				name = trade_link_refresh
				subtract = 1
			}
		}
	}
	option = { }
}
census.06 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			clear_variable_list = trade_dat_food
			clear_variable_list = array_trade_dat_food
			set_variable = { 
				name = trade_sply_food
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_food
				value = 0
			}
			clear_variable_list = trade_dat_cereal
			clear_variable_list = array_trade_dat_cereal
			set_variable = { 
				name = trade_sply_cereal
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_cereal
				value = 0
			}
			clear_variable_list = trade_dat_salted
			clear_variable_list = array_trade_dat_salted
			set_variable = { 
				name = trade_sply_salted
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_salted
				value = 0
			}
			clear_variable_list = trade_dat_salt
			clear_variable_list = array_trade_dat_salt
			set_variable = { 
				name = trade_sply_salt
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_salt
				value = 0
			}
			clear_variable_list = trade_dat_mud
			clear_variable_list = array_trade_dat_mud
			set_variable = { 
				name = trade_sply_mud
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_mud
				value = 0
			}
			clear_variable_list = trade_dat_fuel
			clear_variable_list = array_trade_dat_fuel
			set_variable = { 
				name = trade_sply_fuel
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_fuel
				value = 0
			}
			clear_variable_list = trade_dat_fiber
			clear_variable_list = array_trade_dat_fiber
			set_variable = { 
				name = trade_sply_fiber
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_fiber
				value = 0
			}
			clear_variable_list = trade_dat_timber
			clear_variable_list = array_trade_dat_timber
			set_variable = { 
				name = trade_sply_timber
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_timber
				value = 0
			}
			clear_variable_list = trade_dat_metal
			clear_variable_list = array_trade_dat_metal
			set_variable = { 
				name = trade_sply_metal
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_metal
				value = 0
			}
			clear_variable_list = trade_dat_exotics_w
			clear_variable_list = array_trade_dat_exotics_w
			set_variable = { 
				name = trade_sply_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_w
				value = 0
			}
			clear_variable_list = trade_dat_exotics_e
			clear_variable_list = array_trade_dat_exotics_e
			set_variable = { 
				name = trade_sply_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_e
				value = 0
			}
			clear_variable_list = trade_dat_exotics_g
			clear_variable_list = array_trade_dat_exotics_g
			set_variable = { 
				name = trade_sply_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_g
				value = 0
			}
			clear_variable_list = trade_dat_textile
			clear_variable_list = array_trade_dat_textile
			set_variable = { 
				name = trade_sply_textile
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_textile
				value = 0
			}
			clear_variable_list = trade_dat_pottery
			clear_variable_list = array_trade_dat_pottery
			set_variable = { 
				name = trade_sply_pottery
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_pottery
				value = 0
			}
			clear_variable_list = trade_dat_tools
			clear_variable_list = array_trade_dat_tools
			set_variable = { 
				name = trade_sply_tools
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_tools
				value = 0
			}
			clear_variable_list = trade_dat_armaments
			clear_variable_list = array_trade_dat_armaments
			set_variable = { 
				name = trade_sply_armaments
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_armaments
				value = 0
			}
			save_temporary_scope_as = trade_do_trade_select
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_food
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_food
								add = prev.var:prod_dmnd_food
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_food
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_food
								add = prev.var:prod_sply_old_food
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_cereal
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_cereal
								add = prev.var:prod_dmnd_cereal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_cereal
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_cereal
								add = prev.var:prod_sply_old_cereal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_salted
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_salted
								add = prev.var:prod_dmnd_salted
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_salted
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_salted
								add = prev.var:prod_sply_old_salted
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_salt
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_salt
								add = prev.var:prod_dmnd_salt
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_salt
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_salt
								add = prev.var:prod_sply_old_salt
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_mud
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_mud
								add = prev.var:prod_dmnd_mud
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_mud
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_mud
								add = prev.var:prod_sply_old_mud
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_fuel
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_fuel
								add = prev.var:prod_dmnd_fuel
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_fuel
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_fuel
								add = prev.var:prod_sply_old_fuel
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_fiber
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_fiber
								add = prev.var:prod_dmnd_fiber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_fiber
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_fiber
								add = prev.var:prod_sply_old_fiber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_timber
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_timber
								add = prev.var:prod_dmnd_timber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_timber
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_timber
								add = prev.var:prod_sply_old_timber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_metal
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_metal
								add = prev.var:prod_dmnd_metal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_metal
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_metal
								add = prev.var:prod_sply_old_metal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_w
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_exotics_w
								add = prev.var:prod_dmnd_exotics_w
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_exotics_w
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_exotics_w
								add = prev.var:prod_sply_old_exotics_w
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_e
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_exotics_e
								add = prev.var:prod_dmnd_exotics_e
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_exotics_e
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_exotics_e
								add = prev.var:prod_sply_old_exotics_e
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_g
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_exotics_g
								add = prev.var:prod_dmnd_exotics_g
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_exotics_g
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_exotics_g
								add = prev.var:prod_sply_old_exotics_g
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_textile
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_textile
								add = prev.var:prod_dmnd_textile
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_textile
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_textile
								add = prev.var:prod_sply_old_textile
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_pottery
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_pottery
								add = prev.var:prod_dmnd_pottery
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_pottery
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_pottery
								add = prev.var:prod_sply_old_pottery
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_tools
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_tools
								add = prev.var:prod_dmnd_tools
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_tools
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_tools
								add = prev.var:prod_sply_old_tools
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_dmnd_armaments
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_dmnd_armaments
								add = prev.var:prod_dmnd_armaments
							}
						}
					}
					if = { 
						limit = { 
							has_variable = prod_sply_old_armaments
						}
						scope:trade_do_trade_select = { 
							change_variable = { 
								name = trade_sply_armaments
								add = prev.var:prod_sply_old_armaments
							}
						}
					}
				}
				if = { 
					limit = { 
						has_variable_list = build_slots
						variable_list_size = { 
							name = build_slots
							value >= 1
						}
					}
					every_in_list = { 
						variable = build_slots
						if = { 
							limit = { 
								has_variable = build_food
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_food
									add = prev.var:build_food
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_cereal
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_cereal
									add = prev.var:build_cereal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_salted
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_salted
									add = prev.var:build_salted
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_salt
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_salt
									add = prev.var:build_salt
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_mud
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_mud
									add = prev.var:build_mud
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_fuel
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_fuel
									add = prev.var:build_fuel
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_fiber
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_fiber
									add = prev.var:build_fiber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_timber
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_timber
									add = prev.var:build_timber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_metal
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_metal
									add = prev.var:build_metal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_w
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_exotics_w
									add = prev.var:build_exotics_w
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_e
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_exotics_e
									add = prev.var:build_exotics_e
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_g
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_exotics_g
									add = prev.var:build_exotics_g
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_textile
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_textile
									add = prev.var:build_textile
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_pottery
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_pottery
									add = prev.var:build_pottery
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_tools
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_tools
									add = prev.var:build_tools
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_armaments
							}
							scope:trade_do_trade_select = { 
								change_variable = { 
									name = trade_dmnd_armaments
									add = prev.var:build_armaments
								}
							}
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:pop_calorie_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:pop_nutrient_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:pop_comfort_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:pop_luxury_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:mil_supply_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:pop_calorie_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:pop_nutrient_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:pop_comfort_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:pop_luxury_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:mil_supply_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:pop_calorie_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:pop_nutrient_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:pop_comfort_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:pop_luxury_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:mil_supply_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:pop_calorie_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:pop_nutrient_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:pop_comfort_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:pop_luxury_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:mil_supply_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:pop_calorie_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:pop_nutrient_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:pop_comfort_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:pop_luxury_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:mil_supply_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:pop_calorie_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:pop_nutrient_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:pop_comfort_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:pop_luxury_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:mil_supply_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:pop_calorie_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:pop_nutrient_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:pop_comfort_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:pop_luxury_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:mil_supply_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:pop_calorie_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:pop_nutrient_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:pop_comfort_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:pop_luxury_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:mil_supply_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:pop_calorie_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:pop_nutrient_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:pop_comfort_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:pop_luxury_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:mil_supply_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:pop_calorie_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:pop_nutrient_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:pop_comfort_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:pop_luxury_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:mil_supply_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:pop_calorie_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:pop_nutrient_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:pop_comfort_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:pop_luxury_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:mil_supply_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:pop_calorie_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:pop_nutrient_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:pop_comfort_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:pop_luxury_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:mil_supply_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:pop_calorie_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:pop_nutrient_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:pop_comfort_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:pop_luxury_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:mil_supply_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:pop_calorie_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:pop_nutrient_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:pop_comfort_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:pop_luxury_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:mil_supply_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:pop_calorie_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:pop_nutrient_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:pop_comfort_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:pop_luxury_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:mil_supply_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_armaments
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_armaments
							add = prev.var:pop_calorie_armaments
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_armaments
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_armaments
							add = prev.var:pop_nutrient_armaments
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_armaments
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_armaments
							add = prev.var:pop_comfort_armaments
						}
					}
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_armaments
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_armaments
							add = prev.var:pop_luxury_armaments
						}
					}
				}
				if = { 
					limit = { 
						has_variable = mil_supply_armaments
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_armaments
							add = prev.var:mil_supply_armaments
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_food
					var:prod_tools_dmnd_food > 0
				}
				change_variable = { 
					name = trade_dmnd_food
					add = var:prod_tools_dmnd_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_cereal
					var:prod_tools_dmnd_cereal > 0
				}
				change_variable = { 
					name = trade_dmnd_cereal
					add = var:prod_tools_dmnd_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salted
					var:prod_tools_dmnd_salted > 0
				}
				change_variable = { 
					name = trade_dmnd_salted
					add = var:prod_tools_dmnd_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salt
					var:prod_tools_dmnd_salt > 0
				}
				change_variable = { 
					name = trade_dmnd_salt
					add = var:prod_tools_dmnd_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_mud
					var:prod_tools_dmnd_mud > 0
				}
				change_variable = { 
					name = trade_dmnd_mud
					add = var:prod_tools_dmnd_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fuel
					var:prod_tools_dmnd_fuel > 0
				}
				change_variable = { 
					name = trade_dmnd_fuel
					add = var:prod_tools_dmnd_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fiber
					var:prod_tools_dmnd_fiber > 0
				}
				change_variable = { 
					name = trade_dmnd_fiber
					add = var:prod_tools_dmnd_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_timber
					var:prod_tools_dmnd_timber > 0
				}
				change_variable = { 
					name = trade_dmnd_timber
					add = var:prod_tools_dmnd_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_metal
					var:prod_tools_dmnd_metal > 0
				}
				change_variable = { 
					name = trade_dmnd_metal
					add = var:prod_tools_dmnd_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_w
					var:prod_tools_dmnd_exotics_w > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					add = var:prod_tools_dmnd_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_e
					var:prod_tools_dmnd_exotics_e > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					add = var:prod_tools_dmnd_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_g
					var:prod_tools_dmnd_exotics_g > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					add = var:prod_tools_dmnd_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_textile
					var:prod_tools_dmnd_textile > 0
				}
				change_variable = { 
					name = trade_dmnd_textile
					add = var:prod_tools_dmnd_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_pottery
					var:prod_tools_dmnd_pottery > 0
				}
				change_variable = { 
					name = trade_dmnd_pottery
					add = var:prod_tools_dmnd_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_tools
					var:prod_tools_dmnd_tools > 0
				}
				change_variable = { 
					name = trade_dmnd_tools
					add = var:prod_tools_dmnd_tools
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_armaments
					var:prod_tools_dmnd_armaments > 0
				}
				change_variable = { 
					name = trade_dmnd_armaments
					add = var:prod_tools_dmnd_armaments
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_food
					var:trade_sply_food > 0
				}
				change_variable = { 
					name = trade_has_food
					add = var:trade_sply_food
				}
			}
			change_variable = { 
				name = trade_sum_sply_food
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_food
				add = var:trade_sply_food
			}
			if = { 
				limit = { 
					has_variable = trade_has_food
					var:trade_has_food > 0
				}
				set_variable = { 
					name = trade_sply_food
					value = var:trade_has_food
				}
				change_variable = { 
					name = trade_sply_food
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_food
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_food
					has_variable = trade_dmnd_food
					var:trade_sply_food > 0
					var:trade_dmnd_food > 0
				}
				if = { 
					limit = { 
						var:trade_sply_food = { 
							compare_value >= prev.var:trade_dmnd_food
						}
					}
					set_variable = { 
						name = trade_in_food
						value = var:trade_dmnd_food
					}
					set_variable = { 
						name = trade_out_food
						value = var:trade_dmnd_food
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_food
						value = var:trade_sply_food
					}
					set_variable = { 
						name = trade_out_food
						value = var:trade_sply_food
					}
				}
				set_variable = { 
					name = trade_earn_food
					value = var:trade_out_food
				}
				set_variable = { 
					name = trade_pay_food
					value = var:trade_in_food
				}
				change_variable = { 
					name = trade_earn_food
					multiply = var:trade_price_food
				}
				change_variable = { 
					name = trade_pay_food
					multiply = var:trade_price_food
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_food
					value = 0
				}
				set_variable = { 
					name = trade_out_food
					value = 0
				}
				set_variable = { 
					name = trade_earn_food
					value = 0
				}
				set_variable = { 
					name = trade_pay_food
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_cereal
					var:trade_sply_cereal > 0
				}
				change_variable = { 
					name = trade_has_cereal
					add = var:trade_sply_cereal
				}
			}
			change_variable = { 
				name = trade_sum_sply_cereal
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_cereal
				add = var:trade_sply_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_has_cereal
					var:trade_has_cereal > 0
				}
				set_variable = { 
					name = trade_sply_cereal
					value = var:trade_has_cereal
				}
				change_variable = { 
					name = trade_sply_cereal
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_cereal
					has_variable = trade_dmnd_cereal
					var:trade_sply_cereal > 0
					var:trade_dmnd_cereal > 0
				}
				if = { 
					limit = { 
						var:trade_sply_cereal = { 
							compare_value >= prev.var:trade_dmnd_cereal
						}
					}
					set_variable = { 
						name = trade_in_cereal
						value = var:trade_dmnd_cereal
					}
					set_variable = { 
						name = trade_out_cereal
						value = var:trade_dmnd_cereal
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_cereal
						value = var:trade_sply_cereal
					}
					set_variable = { 
						name = trade_out_cereal
						value = var:trade_sply_cereal
					}
				}
				set_variable = { 
					name = trade_earn_cereal
					value = var:trade_out_cereal
				}
				set_variable = { 
					name = trade_pay_cereal
					value = var:trade_in_cereal
				}
				change_variable = { 
					name = trade_earn_cereal
					multiply = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_pay_cereal
					multiply = var:trade_price_cereal
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_cereal
					value = 0
				}
				set_variable = { 
					name = trade_out_cereal
					value = 0
				}
				set_variable = { 
					name = trade_earn_cereal
					value = 0
				}
				set_variable = { 
					name = trade_pay_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_salted
					var:trade_sply_salted > 0
				}
				change_variable = { 
					name = trade_has_salted
					add = var:trade_sply_salted
				}
			}
			change_variable = { 
				name = trade_sum_sply_salted
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_salted
				add = var:trade_sply_salted
			}
			if = { 
				limit = { 
					has_variable = trade_has_salted
					var:trade_has_salted > 0
				}
				set_variable = { 
					name = trade_sply_salted
					value = var:trade_has_salted
				}
				change_variable = { 
					name = trade_sply_salted
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_salted
					has_variable = trade_dmnd_salted
					var:trade_sply_salted > 0
					var:trade_dmnd_salted > 0
				}
				if = { 
					limit = { 
						var:trade_sply_salted = { 
							compare_value >= prev.var:trade_dmnd_salted
						}
					}
					set_variable = { 
						name = trade_in_salted
						value = var:trade_dmnd_salted
					}
					set_variable = { 
						name = trade_out_salted
						value = var:trade_dmnd_salted
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_salted
						value = var:trade_sply_salted
					}
					set_variable = { 
						name = trade_out_salted
						value = var:trade_sply_salted
					}
				}
				set_variable = { 
					name = trade_earn_salted
					value = var:trade_out_salted
				}
				set_variable = { 
					name = trade_pay_salted
					value = var:trade_in_salted
				}
				change_variable = { 
					name = trade_earn_salted
					multiply = var:trade_price_salted
				}
				change_variable = { 
					name = trade_pay_salted
					multiply = var:trade_price_salted
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_salted
					value = 0
				}
				set_variable = { 
					name = trade_out_salted
					value = 0
				}
				set_variable = { 
					name = trade_earn_salted
					value = 0
				}
				set_variable = { 
					name = trade_pay_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_salt
					var:trade_sply_salt > 0
				}
				change_variable = { 
					name = trade_has_salt
					add = var:trade_sply_salt
				}
			}
			change_variable = { 
				name = trade_sum_sply_salt
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_salt
				add = var:trade_sply_salt
			}
			if = { 
				limit = { 
					has_variable = trade_has_salt
					var:trade_has_salt > 0
				}
				set_variable = { 
					name = trade_sply_salt
					value = var:trade_has_salt
				}
				change_variable = { 
					name = trade_sply_salt
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_salt
					has_variable = trade_dmnd_salt
					var:trade_sply_salt > 0
					var:trade_dmnd_salt > 0
				}
				if = { 
					limit = { 
						var:trade_sply_salt = { 
							compare_value >= prev.var:trade_dmnd_salt
						}
					}
					set_variable = { 
						name = trade_in_salt
						value = var:trade_dmnd_salt
					}
					set_variable = { 
						name = trade_out_salt
						value = var:trade_dmnd_salt
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_salt
						value = var:trade_sply_salt
					}
					set_variable = { 
						name = trade_out_salt
						value = var:trade_sply_salt
					}
				}
				set_variable = { 
					name = trade_earn_salt
					value = var:trade_out_salt
				}
				set_variable = { 
					name = trade_pay_salt
					value = var:trade_in_salt
				}
				change_variable = { 
					name = trade_earn_salt
					multiply = var:trade_price_salt
				}
				change_variable = { 
					name = trade_pay_salt
					multiply = var:trade_price_salt
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_salt
					value = 0
				}
				set_variable = { 
					name = trade_out_salt
					value = 0
				}
				set_variable = { 
					name = trade_earn_salt
					value = 0
				}
				set_variable = { 
					name = trade_pay_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_mud
					var:trade_sply_mud > 0
				}
				change_variable = { 
					name = trade_has_mud
					add = var:trade_sply_mud
				}
			}
			change_variable = { 
				name = trade_sum_sply_mud
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_mud
				add = var:trade_sply_mud
			}
			if = { 
				limit = { 
					has_variable = trade_has_mud
					var:trade_has_mud > 0
				}
				set_variable = { 
					name = trade_sply_mud
					value = var:trade_has_mud
				}
				change_variable = { 
					name = trade_sply_mud
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_mud
					has_variable = trade_dmnd_mud
					var:trade_sply_mud > 0
					var:trade_dmnd_mud > 0
				}
				if = { 
					limit = { 
						var:trade_sply_mud = { 
							compare_value >= prev.var:trade_dmnd_mud
						}
					}
					set_variable = { 
						name = trade_in_mud
						value = var:trade_dmnd_mud
					}
					set_variable = { 
						name = trade_out_mud
						value = var:trade_dmnd_mud
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_mud
						value = var:trade_sply_mud
					}
					set_variable = { 
						name = trade_out_mud
						value = var:trade_sply_mud
					}
				}
				set_variable = { 
					name = trade_earn_mud
					value = var:trade_out_mud
				}
				set_variable = { 
					name = trade_pay_mud
					value = var:trade_in_mud
				}
				change_variable = { 
					name = trade_earn_mud
					multiply = var:trade_price_mud
				}
				change_variable = { 
					name = trade_pay_mud
					multiply = var:trade_price_mud
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_mud
					value = 0
				}
				set_variable = { 
					name = trade_out_mud
					value = 0
				}
				set_variable = { 
					name = trade_earn_mud
					value = 0
				}
				set_variable = { 
					name = trade_pay_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_fuel
					var:trade_sply_fuel > 0
				}
				change_variable = { 
					name = trade_has_fuel
					add = var:trade_sply_fuel
				}
			}
			change_variable = { 
				name = trade_sum_sply_fuel
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_fuel
				add = var:trade_sply_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_has_fuel
					var:trade_has_fuel > 0
				}
				set_variable = { 
					name = trade_sply_fuel
					value = var:trade_has_fuel
				}
				change_variable = { 
					name = trade_sply_fuel
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_fuel
					has_variable = trade_dmnd_fuel
					var:trade_sply_fuel > 0
					var:trade_dmnd_fuel > 0
				}
				if = { 
					limit = { 
						var:trade_sply_fuel = { 
							compare_value >= prev.var:trade_dmnd_fuel
						}
					}
					set_variable = { 
						name = trade_in_fuel
						value = var:trade_dmnd_fuel
					}
					set_variable = { 
						name = trade_out_fuel
						value = var:trade_dmnd_fuel
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_fuel
						value = var:trade_sply_fuel
					}
					set_variable = { 
						name = trade_out_fuel
						value = var:trade_sply_fuel
					}
				}
				set_variable = { 
					name = trade_earn_fuel
					value = var:trade_out_fuel
				}
				set_variable = { 
					name = trade_pay_fuel
					value = var:trade_in_fuel
				}
				change_variable = { 
					name = trade_earn_fuel
					multiply = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_pay_fuel
					multiply = var:trade_price_fuel
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_fuel
					value = 0
				}
				set_variable = { 
					name = trade_out_fuel
					value = 0
				}
				set_variable = { 
					name = trade_earn_fuel
					value = 0
				}
				set_variable = { 
					name = trade_pay_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_fiber
					var:trade_sply_fiber > 0
				}
				change_variable = { 
					name = trade_has_fiber
					add = var:trade_sply_fiber
				}
			}
			change_variable = { 
				name = trade_sum_sply_fiber
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_fiber
				add = var:trade_sply_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_has_fiber
					var:trade_has_fiber > 0
				}
				set_variable = { 
					name = trade_sply_fiber
					value = var:trade_has_fiber
				}
				change_variable = { 
					name = trade_sply_fiber
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_fiber
					has_variable = trade_dmnd_fiber
					var:trade_sply_fiber > 0
					var:trade_dmnd_fiber > 0
				}
				if = { 
					limit = { 
						var:trade_sply_fiber = { 
							compare_value >= prev.var:trade_dmnd_fiber
						}
					}
					set_variable = { 
						name = trade_in_fiber
						value = var:trade_dmnd_fiber
					}
					set_variable = { 
						name = trade_out_fiber
						value = var:trade_dmnd_fiber
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_fiber
						value = var:trade_sply_fiber
					}
					set_variable = { 
						name = trade_out_fiber
						value = var:trade_sply_fiber
					}
				}
				set_variable = { 
					name = trade_earn_fiber
					value = var:trade_out_fiber
				}
				set_variable = { 
					name = trade_pay_fiber
					value = var:trade_in_fiber
				}
				change_variable = { 
					name = trade_earn_fiber
					multiply = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_pay_fiber
					multiply = var:trade_price_fiber
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_fiber
					value = 0
				}
				set_variable = { 
					name = trade_out_fiber
					value = 0
				}
				set_variable = { 
					name = trade_earn_fiber
					value = 0
				}
				set_variable = { 
					name = trade_pay_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_timber
					var:trade_sply_timber > 0
				}
				change_variable = { 
					name = trade_has_timber
					add = var:trade_sply_timber
				}
			}
			change_variable = { 
				name = trade_sum_sply_timber
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_timber
				add = var:trade_sply_timber
			}
			if = { 
				limit = { 
					has_variable = trade_has_timber
					var:trade_has_timber > 0
				}
				set_variable = { 
					name = trade_sply_timber
					value = var:trade_has_timber
				}
				change_variable = { 
					name = trade_sply_timber
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_timber
					has_variable = trade_dmnd_timber
					var:trade_sply_timber > 0
					var:trade_dmnd_timber > 0
				}
				if = { 
					limit = { 
						var:trade_sply_timber = { 
							compare_value >= prev.var:trade_dmnd_timber
						}
					}
					set_variable = { 
						name = trade_in_timber
						value = var:trade_dmnd_timber
					}
					set_variable = { 
						name = trade_out_timber
						value = var:trade_dmnd_timber
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_timber
						value = var:trade_sply_timber
					}
					set_variable = { 
						name = trade_out_timber
						value = var:trade_sply_timber
					}
				}
				set_variable = { 
					name = trade_earn_timber
					value = var:trade_out_timber
				}
				set_variable = { 
					name = trade_pay_timber
					value = var:trade_in_timber
				}
				change_variable = { 
					name = trade_earn_timber
					multiply = var:trade_price_timber
				}
				change_variable = { 
					name = trade_pay_timber
					multiply = var:trade_price_timber
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_timber
					value = 0
				}
				set_variable = { 
					name = trade_out_timber
					value = 0
				}
				set_variable = { 
					name = trade_earn_timber
					value = 0
				}
				set_variable = { 
					name = trade_pay_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_metal
					var:trade_sply_metal > 0
				}
				change_variable = { 
					name = trade_has_metal
					add = var:trade_sply_metal
				}
			}
			change_variable = { 
				name = trade_sum_sply_metal
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_metal
				add = var:trade_sply_metal
			}
			if = { 
				limit = { 
					has_variable = trade_has_metal
					var:trade_has_metal > 0
				}
				set_variable = { 
					name = trade_sply_metal
					value = var:trade_has_metal
				}
				change_variable = { 
					name = trade_sply_metal
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_metal
					has_variable = trade_dmnd_metal
					var:trade_sply_metal > 0
					var:trade_dmnd_metal > 0
				}
				if = { 
					limit = { 
						var:trade_sply_metal = { 
							compare_value >= prev.var:trade_dmnd_metal
						}
					}
					set_variable = { 
						name = trade_in_metal
						value = var:trade_dmnd_metal
					}
					set_variable = { 
						name = trade_out_metal
						value = var:trade_dmnd_metal
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_metal
						value = var:trade_sply_metal
					}
					set_variable = { 
						name = trade_out_metal
						value = var:trade_sply_metal
					}
				}
				set_variable = { 
					name = trade_earn_metal
					value = var:trade_out_metal
				}
				set_variable = { 
					name = trade_pay_metal
					value = var:trade_in_metal
				}
				change_variable = { 
					name = trade_earn_metal
					multiply = var:trade_price_metal
				}
				change_variable = { 
					name = trade_pay_metal
					multiply = var:trade_price_metal
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_metal
					value = 0
				}
				set_variable = { 
					name = trade_out_metal
					value = 0
				}
				set_variable = { 
					name = trade_earn_metal
					value = 0
				}
				set_variable = { 
					name = trade_pay_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_w
					var:trade_sply_exotics_w > 0
				}
				change_variable = { 
					name = trade_has_exotics_w
					add = var:trade_sply_exotics_w
				}
			}
			change_variable = { 
				name = trade_sum_sply_exotics_w
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_exotics_w
				add = var:trade_sply_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_w
					var:trade_has_exotics_w > 0
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_sply_exotics_w
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_w
					has_variable = trade_dmnd_exotics_w
					var:trade_sply_exotics_w > 0
					var:trade_dmnd_exotics_w > 0
				}
				if = { 
					limit = { 
						var:trade_sply_exotics_w = { 
							compare_value >= prev.var:trade_dmnd_exotics_w
						}
					}
					set_variable = { 
						name = trade_in_exotics_w
						value = var:trade_dmnd_exotics_w
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = var:trade_dmnd_exotics_w
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_exotics_w
						value = var:trade_sply_exotics_w
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = var:trade_sply_exotics_w
					}
				}
				set_variable = { 
					name = trade_earn_exotics_w
					value = var:trade_out_exotics_w
				}
				set_variable = { 
					name = trade_pay_exotics_w
					value = var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_earn_exotics_w
					multiply = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_pay_exotics_w
					multiply = var:trade_price_exotics_w
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_w
					value = 0
				}
				set_variable = { 
					name = trade_out_exotics_w
					value = 0
				}
				set_variable = { 
					name = trade_earn_exotics_w
					value = 0
				}
				set_variable = { 
					name = trade_pay_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_e
					var:trade_sply_exotics_e > 0
				}
				change_variable = { 
					name = trade_has_exotics_e
					add = var:trade_sply_exotics_e
				}
			}
			change_variable = { 
				name = trade_sum_sply_exotics_e
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_exotics_e
				add = var:trade_sply_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_e
					var:trade_has_exotics_e > 0
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_sply_exotics_e
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_e
					has_variable = trade_dmnd_exotics_e
					var:trade_sply_exotics_e > 0
					var:trade_dmnd_exotics_e > 0
				}
				if = { 
					limit = { 
						var:trade_sply_exotics_e = { 
							compare_value >= prev.var:trade_dmnd_exotics_e
						}
					}
					set_variable = { 
						name = trade_in_exotics_e
						value = var:trade_dmnd_exotics_e
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = var:trade_dmnd_exotics_e
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_exotics_e
						value = var:trade_sply_exotics_e
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = var:trade_sply_exotics_e
					}
				}
				set_variable = { 
					name = trade_earn_exotics_e
					value = var:trade_out_exotics_e
				}
				set_variable = { 
					name = trade_pay_exotics_e
					value = var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_earn_exotics_e
					multiply = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_pay_exotics_e
					multiply = var:trade_price_exotics_e
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_e
					value = 0
				}
				set_variable = { 
					name = trade_out_exotics_e
					value = 0
				}
				set_variable = { 
					name = trade_earn_exotics_e
					value = 0
				}
				set_variable = { 
					name = trade_pay_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_g
					var:trade_sply_exotics_g > 0
				}
				change_variable = { 
					name = trade_has_exotics_g
					add = var:trade_sply_exotics_g
				}
			}
			change_variable = { 
				name = trade_sum_sply_exotics_g
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_exotics_g
				add = var:trade_sply_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_g
					var:trade_has_exotics_g > 0
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_sply_exotics_g
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_exotics_g
					has_variable = trade_dmnd_exotics_g
					var:trade_sply_exotics_g > 0
					var:trade_dmnd_exotics_g > 0
				}
				if = { 
					limit = { 
						var:trade_sply_exotics_g = { 
							compare_value >= prev.var:trade_dmnd_exotics_g
						}
					}
					set_variable = { 
						name = trade_in_exotics_g
						value = var:trade_dmnd_exotics_g
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = var:trade_dmnd_exotics_g
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_exotics_g
						value = var:trade_sply_exotics_g
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = var:trade_sply_exotics_g
					}
				}
				set_variable = { 
					name = trade_earn_exotics_g
					value = var:trade_out_exotics_g
				}
				set_variable = { 
					name = trade_pay_exotics_g
					value = var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_earn_exotics_g
					multiply = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_pay_exotics_g
					multiply = var:trade_price_exotics_g
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_g
					value = 0
				}
				set_variable = { 
					name = trade_out_exotics_g
					value = 0
				}
				set_variable = { 
					name = trade_earn_exotics_g
					value = 0
				}
				set_variable = { 
					name = trade_pay_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_textile
					var:trade_sply_textile > 0
				}
				change_variable = { 
					name = trade_has_textile
					add = var:trade_sply_textile
				}
			}
			change_variable = { 
				name = trade_sum_sply_textile
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_textile
				add = var:trade_sply_textile
			}
			if = { 
				limit = { 
					has_variable = trade_has_textile
					var:trade_has_textile > 0
				}
				set_variable = { 
					name = trade_sply_textile
					value = var:trade_has_textile
				}
				change_variable = { 
					name = trade_sply_textile
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_textile
					has_variable = trade_dmnd_textile
					var:trade_sply_textile > 0
					var:trade_dmnd_textile > 0
				}
				if = { 
					limit = { 
						var:trade_sply_textile = { 
							compare_value >= prev.var:trade_dmnd_textile
						}
					}
					set_variable = { 
						name = trade_in_textile
						value = var:trade_dmnd_textile
					}
					set_variable = { 
						name = trade_out_textile
						value = var:trade_dmnd_textile
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_textile
						value = var:trade_sply_textile
					}
					set_variable = { 
						name = trade_out_textile
						value = var:trade_sply_textile
					}
				}
				set_variable = { 
					name = trade_earn_textile
					value = var:trade_out_textile
				}
				set_variable = { 
					name = trade_pay_textile
					value = var:trade_in_textile
				}
				change_variable = { 
					name = trade_earn_textile
					multiply = var:trade_price_textile
				}
				change_variable = { 
					name = trade_pay_textile
					multiply = var:trade_price_textile
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_textile
					value = 0
				}
				set_variable = { 
					name = trade_out_textile
					value = 0
				}
				set_variable = { 
					name = trade_earn_textile
					value = 0
				}
				set_variable = { 
					name = trade_pay_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_pottery
					var:trade_sply_pottery > 0
				}
				change_variable = { 
					name = trade_has_pottery
					add = var:trade_sply_pottery
				}
			}
			change_variable = { 
				name = trade_sum_sply_pottery
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_pottery
				add = var:trade_sply_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_has_pottery
					var:trade_has_pottery > 0
				}
				set_variable = { 
					name = trade_sply_pottery
					value = var:trade_has_pottery
				}
				change_variable = { 
					name = trade_sply_pottery
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_pottery
					has_variable = trade_dmnd_pottery
					var:trade_sply_pottery > 0
					var:trade_dmnd_pottery > 0
				}
				if = { 
					limit = { 
						var:trade_sply_pottery = { 
							compare_value >= prev.var:trade_dmnd_pottery
						}
					}
					set_variable = { 
						name = trade_in_pottery
						value = var:trade_dmnd_pottery
					}
					set_variable = { 
						name = trade_out_pottery
						value = var:trade_dmnd_pottery
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_pottery
						value = var:trade_sply_pottery
					}
					set_variable = { 
						name = trade_out_pottery
						value = var:trade_sply_pottery
					}
				}
				set_variable = { 
					name = trade_earn_pottery
					value = var:trade_out_pottery
				}
				set_variable = { 
					name = trade_pay_pottery
					value = var:trade_in_pottery
				}
				change_variable = { 
					name = trade_earn_pottery
					multiply = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_pay_pottery
					multiply = var:trade_price_pottery
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_pottery
					value = 0
				}
				set_variable = { 
					name = trade_out_pottery
					value = 0
				}
				set_variable = { 
					name = trade_earn_pottery
					value = 0
				}
				set_variable = { 
					name = trade_pay_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_tools
					var:trade_sply_tools > 0
				}
				change_variable = { 
					name = trade_has_tools
					add = var:trade_sply_tools
				}
			}
			change_variable = { 
				name = trade_sum_sply_tools
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_tools
				add = var:trade_sply_tools
			}
			if = { 
				limit = { 
					has_variable = trade_has_tools
					var:trade_has_tools > 0
				}
				set_variable = { 
					name = trade_sply_tools
					value = var:trade_has_tools
				}
				change_variable = { 
					name = trade_sply_tools
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_tools
					has_variable = trade_dmnd_tools
					var:trade_sply_tools > 0
					var:trade_dmnd_tools > 0
				}
				if = { 
					limit = { 
						var:trade_sply_tools = { 
							compare_value >= prev.var:trade_dmnd_tools
						}
					}
					set_variable = { 
						name = trade_in_tools
						value = var:trade_dmnd_tools
					}
					set_variable = { 
						name = trade_out_tools
						value = var:trade_dmnd_tools
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_tools
						value = var:trade_sply_tools
					}
					set_variable = { 
						name = trade_out_tools
						value = var:trade_sply_tools
					}
				}
				set_variable = { 
					name = trade_earn_tools
					value = var:trade_out_tools
				}
				set_variable = { 
					name = trade_pay_tools
					value = var:trade_in_tools
				}
				change_variable = { 
					name = trade_earn_tools
					multiply = var:trade_price_tools
				}
				change_variable = { 
					name = trade_pay_tools
					multiply = var:trade_price_tools
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_tools
					value = 0
				}
				set_variable = { 
					name = trade_out_tools
					value = 0
				}
				set_variable = { 
					name = trade_earn_tools
					value = 0
				}
				set_variable = { 
					name = trade_pay_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_armaments
					var:trade_sply_armaments > 0
				}
				change_variable = { 
					name = trade_has_armaments
					add = var:trade_sply_armaments
				}
			}
			change_variable = { 
				name = trade_sum_sply_armaments
				multiply = 0.75
			}
			change_variable = { 
				name = trade_sum_sply_armaments
				add = var:trade_sply_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_has_armaments
					var:trade_has_armaments > 0
				}
				set_variable = { 
					name = trade_sply_armaments
					value = var:trade_has_armaments
				}
				change_variable = { 
					name = trade_sply_armaments
					divide = 2
				}
			}
			else = { 
				set_variable = { 
					name = trade_sply_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					has_variable = trade_sply_armaments
					has_variable = trade_dmnd_armaments
					var:trade_sply_armaments > 0
					var:trade_dmnd_armaments > 0
				}
				if = { 
					limit = { 
						var:trade_sply_armaments = { 
							compare_value >= prev.var:trade_dmnd_armaments
						}
					}
					set_variable = { 
						name = trade_in_armaments
						value = var:trade_dmnd_armaments
					}
					set_variable = { 
						name = trade_out_armaments
						value = var:trade_dmnd_armaments
					}
				}
				else = { 
					set_variable = { 
						name = trade_in_armaments
						value = var:trade_sply_armaments
					}
					set_variable = { 
						name = trade_out_armaments
						value = var:trade_sply_armaments
					}
				}
				set_variable = { 
					name = trade_earn_armaments
					value = var:trade_out_armaments
				}
				set_variable = { 
					name = trade_pay_armaments
					value = var:trade_in_armaments
				}
				change_variable = { 
					name = trade_earn_armaments
					multiply = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_pay_armaments
					multiply = var:trade_price_armaments
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_armaments
					value = 0
				}
				set_variable = { 
					name = trade_out_armaments
					value = 0
				}
				set_variable = { 
					name = trade_earn_armaments
					value = 0
				}
				set_variable = { 
					name = trade_pay_armaments
					value = 0
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			clear_variable_list = trade_dat_food
			clear_variable_list = array_trade_dat_food
			set_variable = { 
				name = trade_in_food
				value = 0
			}
			set_variable = { 
				name = trade_out_food
				value = 0
			}
			set_variable = { 
				name = trade_earn_food
				value = 0
			}
			set_variable = { 
				name = trade_pay_food
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_food
					}
				}
				set_variable = { 
					name = trade_sply_food
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_food
					}
				}
				set_variable = { 
					name = trade_dmnd_food
					value = 0
				}
			}
			clear_variable_list = trade_dat_cereal
			clear_variable_list = array_trade_dat_cereal
			set_variable = { 
				name = trade_in_cereal
				value = 0
			}
			set_variable = { 
				name = trade_out_cereal
				value = 0
			}
			set_variable = { 
				name = trade_earn_cereal
				value = 0
			}
			set_variable = { 
				name = trade_pay_cereal
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_cereal
					}
				}
				set_variable = { 
					name = trade_sply_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_cereal
					}
				}
				set_variable = { 
					name = trade_dmnd_cereal
					value = 0
				}
			}
			clear_variable_list = trade_dat_salted
			clear_variable_list = array_trade_dat_salted
			set_variable = { 
				name = trade_in_salted
				value = 0
			}
			set_variable = { 
				name = trade_out_salted
				value = 0
			}
			set_variable = { 
				name = trade_earn_salted
				value = 0
			}
			set_variable = { 
				name = trade_pay_salted
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salted
					}
				}
				set_variable = { 
					name = trade_sply_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salted
					}
				}
				set_variable = { 
					name = trade_dmnd_salted
					value = 0
				}
			}
			clear_variable_list = trade_dat_salt
			clear_variable_list = array_trade_dat_salt
			set_variable = { 
				name = trade_in_salt
				value = 0
			}
			set_variable = { 
				name = trade_out_salt
				value = 0
			}
			set_variable = { 
				name = trade_earn_salt
				value = 0
			}
			set_variable = { 
				name = trade_pay_salt
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_salt
					}
				}
				set_variable = { 
					name = trade_sply_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_salt
					}
				}
				set_variable = { 
					name = trade_dmnd_salt
					value = 0
				}
			}
			clear_variable_list = trade_dat_mud
			clear_variable_list = array_trade_dat_mud
			set_variable = { 
				name = trade_in_mud
				value = 0
			}
			set_variable = { 
				name = trade_out_mud
				value = 0
			}
			set_variable = { 
				name = trade_earn_mud
				value = 0
			}
			set_variable = { 
				name = trade_pay_mud
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_mud
					}
				}
				set_variable = { 
					name = trade_sply_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_mud
					}
				}
				set_variable = { 
					name = trade_dmnd_mud
					value = 0
				}
			}
			clear_variable_list = trade_dat_fuel
			clear_variable_list = array_trade_dat_fuel
			set_variable = { 
				name = trade_in_fuel
				value = 0
			}
			set_variable = { 
				name = trade_out_fuel
				value = 0
			}
			set_variable = { 
				name = trade_earn_fuel
				value = 0
			}
			set_variable = { 
				name = trade_pay_fuel
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fuel
					}
				}
				set_variable = { 
					name = trade_sply_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fuel
					}
				}
				set_variable = { 
					name = trade_dmnd_fuel
					value = 0
				}
			}
			clear_variable_list = trade_dat_fiber
			clear_variable_list = array_trade_dat_fiber
			set_variable = { 
				name = trade_in_fiber
				value = 0
			}
			set_variable = { 
				name = trade_out_fiber
				value = 0
			}
			set_variable = { 
				name = trade_earn_fiber
				value = 0
			}
			set_variable = { 
				name = trade_pay_fiber
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_fiber
					}
				}
				set_variable = { 
					name = trade_sply_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_fiber
					}
				}
				set_variable = { 
					name = trade_dmnd_fiber
					value = 0
				}
			}
			clear_variable_list = trade_dat_timber
			clear_variable_list = array_trade_dat_timber
			set_variable = { 
				name = trade_in_timber
				value = 0
			}
			set_variable = { 
				name = trade_out_timber
				value = 0
			}
			set_variable = { 
				name = trade_earn_timber
				value = 0
			}
			set_variable = { 
				name = trade_pay_timber
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_timber
					}
				}
				set_variable = { 
					name = trade_sply_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_timber
					}
				}
				set_variable = { 
					name = trade_dmnd_timber
					value = 0
				}
			}
			clear_variable_list = trade_dat_metal
			clear_variable_list = array_trade_dat_metal
			set_variable = { 
				name = trade_in_metal
				value = 0
			}
			set_variable = { 
				name = trade_out_metal
				value = 0
			}
			set_variable = { 
				name = trade_earn_metal
				value = 0
			}
			set_variable = { 
				name = trade_pay_metal
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_metal
					}
				}
				set_variable = { 
					name = trade_sply_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_metal
					}
				}
				set_variable = { 
					name = trade_dmnd_metal
					value = 0
				}
			}
			clear_variable_list = trade_dat_exotics_w
			clear_variable_list = array_trade_dat_exotics_w
			set_variable = { 
				name = trade_in_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_w
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_w
					}
				}
				set_variable = { 
					name = trade_sply_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_w
					value = 0
				}
			}
			clear_variable_list = trade_dat_exotics_e
			clear_variable_list = array_trade_dat_exotics_e
			set_variable = { 
				name = trade_in_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_e
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_e
					}
				}
				set_variable = { 
					name = trade_sply_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_e
					value = 0
				}
			}
			clear_variable_list = trade_dat_exotics_g
			clear_variable_list = array_trade_dat_exotics_g
			set_variable = { 
				name = trade_in_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_g
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_exotics_g
					}
				}
				set_variable = { 
					name = trade_sply_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = trade_dmnd_exotics_g
					value = 0
				}
			}
			clear_variable_list = trade_dat_textile
			clear_variable_list = array_trade_dat_textile
			set_variable = { 
				name = trade_in_textile
				value = 0
			}
			set_variable = { 
				name = trade_out_textile
				value = 0
			}
			set_variable = { 
				name = trade_earn_textile
				value = 0
			}
			set_variable = { 
				name = trade_pay_textile
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_textile
					}
				}
				set_variable = { 
					name = trade_sply_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_textile
					}
				}
				set_variable = { 
					name = trade_dmnd_textile
					value = 0
				}
			}
			clear_variable_list = trade_dat_pottery
			clear_variable_list = array_trade_dat_pottery
			set_variable = { 
				name = trade_in_pottery
				value = 0
			}
			set_variable = { 
				name = trade_out_pottery
				value = 0
			}
			set_variable = { 
				name = trade_earn_pottery
				value = 0
			}
			set_variable = { 
				name = trade_pay_pottery
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_pottery
					}
				}
				set_variable = { 
					name = trade_sply_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_pottery
					}
				}
				set_variable = { 
					name = trade_dmnd_pottery
					value = 0
				}
			}
			clear_variable_list = trade_dat_tools
			clear_variable_list = array_trade_dat_tools
			set_variable = { 
				name = trade_in_tools
				value = 0
			}
			set_variable = { 
				name = trade_out_tools
				value = 0
			}
			set_variable = { 
				name = trade_earn_tools
				value = 0
			}
			set_variable = { 
				name = trade_pay_tools
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_tools
					}
				}
				set_variable = { 
					name = trade_sply_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_tools
					}
				}
				set_variable = { 
					name = trade_dmnd_tools
					value = 0
				}
			}
			clear_variable_list = trade_dat_armaments
			clear_variable_list = array_trade_dat_armaments
			set_variable = { 
				name = trade_in_armaments
				value = 0
			}
			set_variable = { 
				name = trade_out_armaments
				value = 0
			}
			set_variable = { 
				name = trade_earn_armaments
				value = 0
			}
			set_variable = { 
				name = trade_pay_armaments
				value = 0
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_sply_armaments
					}
				}
				set_variable = { 
					name = trade_sply_armaments
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_dmnd_armaments
					}
				}
				set_variable = { 
					name = trade_dmnd_armaments
					value = 0
				}
			}
			capital_county = { 
				set_variable = { 
					name = trade_do_trade_capital
					value = prev
				}
			}
		}
		every_in_global_list = { 
			variable = trade_merchants
			set_variable = { 
				name = trade_luxury_pay
				value = var:trade_luxury
			}
			change_variable = { 
				name = trade_luxury_pay
				multiply = var:trade_wealth
			}
			change_variable = { 
				name = trade_luxury_pay
				divide = 100
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			set_variable = { 
				name = trade_luxury_food
				value = trade_luxury_food
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_food
					var:trade_luxury_food > 0
				}
				change_variable = { 
					name = trade_luxury_food
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_food
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_luxury_food
					multiply = var:trade_luxury_food
				}
				change_variable = { 
					name = trade_luxury_food
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_food
				}
			}
			else = { 
				remove_variable = trade_luxury_food
			}
			set_variable = { 
				name = trade_luxury_cereal
				value = trade_luxury_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_cereal
					var:trade_luxury_cereal > 0
				}
				change_variable = { 
					name = trade_luxury_cereal
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_cereal
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_luxury_cereal
					multiply = var:trade_luxury_cereal
				}
				change_variable = { 
					name = trade_luxury_cereal
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_cereal
				}
			}
			else = { 
				remove_variable = trade_luxury_cereal
			}
			set_variable = { 
				name = trade_luxury_salted
				value = trade_luxury_salted
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salted
					var:trade_luxury_salted > 0
				}
				change_variable = { 
					name = trade_luxury_salted
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_salted
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_luxury_salted
					multiply = var:trade_luxury_salted
				}
				change_variable = { 
					name = trade_luxury_salted
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_salted
				}
			}
			else = { 
				remove_variable = trade_luxury_salted
			}
			set_variable = { 
				name = trade_luxury_salt
				value = trade_luxury_salt
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salt
					var:trade_luxury_salt > 0
				}
				change_variable = { 
					name = trade_luxury_salt
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_salt
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_luxury_salt
					multiply = var:trade_luxury_salt
				}
				change_variable = { 
					name = trade_luxury_salt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_salt
				}
			}
			else = { 
				remove_variable = trade_luxury_salt
			}
			set_variable = { 
				name = trade_luxury_mud
				value = trade_luxury_mud
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_mud
					var:trade_luxury_mud > 0
				}
				change_variable = { 
					name = trade_luxury_mud
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_mud
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_luxury_mud
					multiply = var:trade_luxury_mud
				}
				change_variable = { 
					name = trade_luxury_mud
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_mud
				}
			}
			else = { 
				remove_variable = trade_luxury_mud
			}
			set_variable = { 
				name = trade_luxury_fuel
				value = trade_luxury_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fuel
					var:trade_luxury_fuel > 0
				}
				change_variable = { 
					name = trade_luxury_fuel
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_fuel
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_luxury_fuel
					multiply = var:trade_luxury_fuel
				}
				change_variable = { 
					name = trade_luxury_fuel
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_fuel
				}
			}
			else = { 
				remove_variable = trade_luxury_fuel
			}
			set_variable = { 
				name = trade_luxury_fiber
				value = trade_luxury_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fiber
					var:trade_luxury_fiber > 0
				}
				change_variable = { 
					name = trade_luxury_fiber
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_fiber
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_luxury_fiber
					multiply = var:trade_luxury_fiber
				}
				change_variable = { 
					name = trade_luxury_fiber
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_fiber
				}
			}
			else = { 
				remove_variable = trade_luxury_fiber
			}
			set_variable = { 
				name = trade_luxury_timber
				value = trade_luxury_timber
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_timber
					var:trade_luxury_timber > 0
				}
				change_variable = { 
					name = trade_luxury_timber
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_timber
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_luxury_timber
					multiply = var:trade_luxury_timber
				}
				change_variable = { 
					name = trade_luxury_timber
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_timber
				}
			}
			else = { 
				remove_variable = trade_luxury_timber
			}
			set_variable = { 
				name = trade_luxury_metal
				value = trade_luxury_metal
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_metal
					var:trade_luxury_metal > 0
				}
				change_variable = { 
					name = trade_luxury_metal
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_metal
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_luxury_metal
					multiply = var:trade_luxury_metal
				}
				change_variable = { 
					name = trade_luxury_metal
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_metal
				}
			}
			else = { 
				remove_variable = trade_luxury_metal
			}
			set_variable = { 
				name = trade_luxury_exotics_w
				value = trade_luxury_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_w
					var:trade_luxury_exotics_w > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					multiply = var:trade_luxury_exotics_w
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_w
				}
			}
			else = { 
				remove_variable = trade_luxury_exotics_w
			}
			set_variable = { 
				name = trade_luxury_exotics_e
				value = trade_luxury_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_e
					var:trade_luxury_exotics_e > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					multiply = var:trade_luxury_exotics_e
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_e
				}
			}
			else = { 
				remove_variable = trade_luxury_exotics_e
			}
			set_variable = { 
				name = trade_luxury_exotics_g
				value = trade_luxury_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_g
					var:trade_luxury_exotics_g > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					multiply = var:trade_luxury_exotics_g
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_g
				}
			}
			else = { 
				remove_variable = trade_luxury_exotics_g
			}
			set_variable = { 
				name = trade_luxury_textile
				value = trade_luxury_textile
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_textile
					var:trade_luxury_textile > 0
				}
				change_variable = { 
					name = trade_luxury_textile
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_textile
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_luxury_textile
					multiply = var:trade_luxury_textile
				}
				change_variable = { 
					name = trade_luxury_textile
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_textile
				}
			}
			else = { 
				remove_variable = trade_luxury_textile
			}
			set_variable = { 
				name = trade_luxury_pottery
				value = trade_luxury_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_pottery
					var:trade_luxury_pottery > 0
				}
				change_variable = { 
					name = trade_luxury_pottery
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_pottery
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_luxury_pottery
					multiply = var:trade_luxury_pottery
				}
				change_variable = { 
					name = trade_luxury_pottery
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_pottery
				}
			}
			else = { 
				remove_variable = trade_luxury_pottery
			}
			set_variable = { 
				name = trade_luxury_tools
				value = trade_luxury_tools
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_tools
					var:trade_luxury_tools > 0
				}
				change_variable = { 
					name = trade_luxury_tools
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_tools
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_luxury_tools
					multiply = var:trade_luxury_tools
				}
				change_variable = { 
					name = trade_luxury_tools
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_tools
				}
			}
			else = { 
				remove_variable = trade_luxury_tools
			}
			set_variable = { 
				name = trade_luxury_armaments
				value = trade_luxury_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_armaments
					var:trade_luxury_armaments > 0
				}
				change_variable = { 
					name = trade_luxury_armaments
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_armaments
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_luxury_armaments
					multiply = var:trade_luxury_armaments
				}
				change_variable = { 
					name = trade_luxury_armaments
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_armaments
				}
			}
			else = { 
				remove_variable = trade_luxury_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_food
					var:trade_luxury_food > 0
				}
				change_variable = { 
					name = trade_luxury_food
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_food
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_cereal
					var:trade_luxury_cereal > 0
				}
				change_variable = { 
					name = trade_luxury_cereal
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_cereal
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salted
					var:trade_luxury_salted > 0
				}
				change_variable = { 
					name = trade_luxury_salted
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_salted
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salt
					var:trade_luxury_salt > 0
				}
				change_variable = { 
					name = trade_luxury_salt
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_salt
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_mud
					var:trade_luxury_mud > 0
				}
				change_variable = { 
					name = trade_luxury_mud
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_mud
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fuel
					var:trade_luxury_fuel > 0
				}
				change_variable = { 
					name = trade_luxury_fuel
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_fuel
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fiber
					var:trade_luxury_fiber > 0
				}
				change_variable = { 
					name = trade_luxury_fiber
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_fiber
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_timber
					var:trade_luxury_timber > 0
				}
				change_variable = { 
					name = trade_luxury_timber
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_timber
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_metal
					var:trade_luxury_metal > 0
				}
				change_variable = { 
					name = trade_luxury_metal
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_metal
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_w
					var:trade_luxury_exotics_w > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_e
					var:trade_luxury_exotics_e > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_g
					var:trade_luxury_exotics_g > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_textile
					var:trade_luxury_textile > 0
				}
				change_variable = { 
					name = trade_luxury_textile
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_textile
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_pottery
					var:trade_luxury_pottery > 0
				}
				change_variable = { 
					name = trade_luxury_pottery
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_pottery
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_tools
					var:trade_luxury_tools > 0
				}
				change_variable = { 
					name = trade_luxury_tools
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_tools
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_armaments
					var:trade_luxury_armaments > 0
				}
				change_variable = { 
					name = trade_luxury_armaments
					multiply = 100
				}
				change_variable = { 
					name = trade_luxury_armaments
					divide = var:trade_do_trade_t
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_food
					var:trade_luxury_food > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_cereal
					var:trade_luxury_cereal > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salted
					var:trade_luxury_salted > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salt
					var:trade_luxury_salt > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_mud
					var:trade_luxury_mud > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fuel
					var:trade_luxury_fuel > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fiber
					var:trade_luxury_fiber > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_timber
					var:trade_luxury_timber > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_metal
					var:trade_luxury_metal > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_w
					var:trade_luxury_exotics_w > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_e
					var:trade_luxury_exotics_e > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_g
					var:trade_luxury_exotics_g > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_textile
					var:trade_luxury_textile > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_pottery
					var:trade_luxury_pottery > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_tools
					var:trade_luxury_tools > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_armaments
					var:trade_luxury_armaments > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_luxury_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = var:trade_luxury_pay
			}
			change_variable = { 
				name = trade_do_trade_tt
				divide = var:trade_do_trade_t
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_food
					var:trade_luxury_food > 0
				}
				change_variable = { 
					name = trade_luxury_food
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_food
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_cereal
					var:trade_luxury_cereal > 0
				}
				change_variable = { 
					name = trade_luxury_cereal
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_cereal
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salted
					var:trade_luxury_salted > 0
				}
				change_variable = { 
					name = trade_luxury_salted
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_salted
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salt
					var:trade_luxury_salt > 0
				}
				change_variable = { 
					name = trade_luxury_salt
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_salt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_mud
					var:trade_luxury_mud > 0
				}
				change_variable = { 
					name = trade_luxury_mud
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_mud
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fuel
					var:trade_luxury_fuel > 0
				}
				change_variable = { 
					name = trade_luxury_fuel
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_fuel
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fiber
					var:trade_luxury_fiber > 0
				}
				change_variable = { 
					name = trade_luxury_fiber
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_fiber
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_timber
					var:trade_luxury_timber > 0
				}
				change_variable = { 
					name = trade_luxury_timber
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_timber
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_metal
					var:trade_luxury_metal > 0
				}
				change_variable = { 
					name = trade_luxury_metal
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_metal
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_w
					var:trade_luxury_exotics_w > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_exotics_w
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_e
					var:trade_luxury_exotics_e > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_exotics_e
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_g
					var:trade_luxury_exotics_g > 0
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_exotics_g
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_textile
					var:trade_luxury_textile > 0
				}
				change_variable = { 
					name = trade_luxury_textile
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_textile
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_pottery
					var:trade_luxury_pottery > 0
				}
				change_variable = { 
					name = trade_luxury_pottery
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_pottery
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_tools
					var:trade_luxury_tools > 0
				}
				change_variable = { 
					name = trade_luxury_tools
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_tools
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_armaments
					var:trade_luxury_armaments > 0
				}
				change_variable = { 
					name = trade_luxury_armaments
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_luxury_armaments
					divide = 100
				}
			}
			set_variable = { 
				name = trade_invest_pay
				value = var:trade_invest
			}
			change_variable = { 
				name = trade_invest_pay
				multiply = var:trade_wealth
			}
			change_variable = { 
				name = trade_invest_pay
				divide = 100
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			set_variable = { 
				name = trade_invest_food
				value = trade_invest_food
			}
			if = { 
				limit = { 
					has_variable = trade_invest_food
					var:trade_invest_food > 0
				}
				change_variable = { 
					name = trade_invest_food
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_food
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_invest_food
					multiply = var:trade_invest_food
				}
				change_variable = { 
					name = trade_invest_food
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_food
				}
			}
			else = { 
				remove_variable = trade_invest_food
			}
			set_variable = { 
				name = trade_invest_cereal
				value = trade_invest_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_invest_cereal
					var:trade_invest_cereal > 0
				}
				change_variable = { 
					name = trade_invest_cereal
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_cereal
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_invest_cereal
					multiply = var:trade_invest_cereal
				}
				change_variable = { 
					name = trade_invest_cereal
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_cereal
				}
			}
			else = { 
				remove_variable = trade_invest_cereal
			}
			set_variable = { 
				name = trade_invest_salted
				value = trade_invest_salted
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salted
					var:trade_invest_salted > 0
				}
				change_variable = { 
					name = trade_invest_salted
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_salted
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_invest_salted
					multiply = var:trade_invest_salted
				}
				change_variable = { 
					name = trade_invest_salted
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_salted
				}
			}
			else = { 
				remove_variable = trade_invest_salted
			}
			set_variable = { 
				name = trade_invest_salt
				value = trade_invest_salt
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salt
					var:trade_invest_salt > 0
				}
				change_variable = { 
					name = trade_invest_salt
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_salt
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_invest_salt
					multiply = var:trade_invest_salt
				}
				change_variable = { 
					name = trade_invest_salt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_salt
				}
			}
			else = { 
				remove_variable = trade_invest_salt
			}
			set_variable = { 
				name = trade_invest_mud
				value = trade_invest_mud
			}
			if = { 
				limit = { 
					has_variable = trade_invest_mud
					var:trade_invest_mud > 0
				}
				change_variable = { 
					name = trade_invest_mud
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_mud
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_invest_mud
					multiply = var:trade_invest_mud
				}
				change_variable = { 
					name = trade_invest_mud
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_mud
				}
			}
			else = { 
				remove_variable = trade_invest_mud
			}
			set_variable = { 
				name = trade_invest_fuel
				value = trade_invest_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fuel
					var:trade_invest_fuel > 0
				}
				change_variable = { 
					name = trade_invest_fuel
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_fuel
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_invest_fuel
					multiply = var:trade_invest_fuel
				}
				change_variable = { 
					name = trade_invest_fuel
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_fuel
				}
			}
			else = { 
				remove_variable = trade_invest_fuel
			}
			set_variable = { 
				name = trade_invest_fiber
				value = trade_invest_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fiber
					var:trade_invest_fiber > 0
				}
				change_variable = { 
					name = trade_invest_fiber
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_fiber
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_invest_fiber
					multiply = var:trade_invest_fiber
				}
				change_variable = { 
					name = trade_invest_fiber
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_fiber
				}
			}
			else = { 
				remove_variable = trade_invest_fiber
			}
			set_variable = { 
				name = trade_invest_timber
				value = trade_invest_timber
			}
			if = { 
				limit = { 
					has_variable = trade_invest_timber
					var:trade_invest_timber > 0
				}
				change_variable = { 
					name = trade_invest_timber
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_timber
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_invest_timber
					multiply = var:trade_invest_timber
				}
				change_variable = { 
					name = trade_invest_timber
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_timber
				}
			}
			else = { 
				remove_variable = trade_invest_timber
			}
			set_variable = { 
				name = trade_invest_metal
				value = trade_invest_metal
			}
			if = { 
				limit = { 
					has_variable = trade_invest_metal
					var:trade_invest_metal > 0
				}
				change_variable = { 
					name = trade_invest_metal
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_metal
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_invest_metal
					multiply = var:trade_invest_metal
				}
				change_variable = { 
					name = trade_invest_metal
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_metal
				}
			}
			else = { 
				remove_variable = trade_invest_metal
			}
			set_variable = { 
				name = trade_invest_exotics_w
				value = trade_invest_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_w
					var:trade_invest_exotics_w > 0
				}
				change_variable = { 
					name = trade_invest_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_w
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_invest_exotics_w
					multiply = var:trade_invest_exotics_w
				}
				change_variable = { 
					name = trade_invest_exotics_w
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_w
				}
			}
			else = { 
				remove_variable = trade_invest_exotics_w
			}
			set_variable = { 
				name = trade_invest_exotics_e
				value = trade_invest_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_e
					var:trade_invest_exotics_e > 0
				}
				change_variable = { 
					name = trade_invest_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_e
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_invest_exotics_e
					multiply = var:trade_invest_exotics_e
				}
				change_variable = { 
					name = trade_invest_exotics_e
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_e
				}
			}
			else = { 
				remove_variable = trade_invest_exotics_e
			}
			set_variable = { 
				name = trade_invest_exotics_g
				value = trade_invest_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_g
					var:trade_invest_exotics_g > 0
				}
				change_variable = { 
					name = trade_invest_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_g
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_invest_exotics_g
					multiply = var:trade_invest_exotics_g
				}
				change_variable = { 
					name = trade_invest_exotics_g
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_g
				}
			}
			else = { 
				remove_variable = trade_invest_exotics_g
			}
			set_variable = { 
				name = trade_invest_textile
				value = trade_invest_textile
			}
			if = { 
				limit = { 
					has_variable = trade_invest_textile
					var:trade_invest_textile > 0
				}
				change_variable = { 
					name = trade_invest_textile
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_textile
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_invest_textile
					multiply = var:trade_invest_textile
				}
				change_variable = { 
					name = trade_invest_textile
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_textile
				}
			}
			else = { 
				remove_variable = trade_invest_textile
			}
			set_variable = { 
				name = trade_invest_pottery
				value = trade_invest_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_invest_pottery
					var:trade_invest_pottery > 0
				}
				change_variable = { 
					name = trade_invest_pottery
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_pottery
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_invest_pottery
					multiply = var:trade_invest_pottery
				}
				change_variable = { 
					name = trade_invest_pottery
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_pottery
				}
			}
			else = { 
				remove_variable = trade_invest_pottery
			}
			set_variable = { 
				name = trade_invest_tools
				value = trade_invest_tools
			}
			if = { 
				limit = { 
					has_variable = trade_invest_tools
					var:trade_invest_tools > 0
				}
				change_variable = { 
					name = trade_invest_tools
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_tools
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_invest_tools
					multiply = var:trade_invest_tools
				}
				change_variable = { 
					name = trade_invest_tools
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_tools
				}
			}
			else = { 
				remove_variable = trade_invest_tools
			}
			set_variable = { 
				name = trade_invest_armaments
				value = trade_invest_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_invest_armaments
					var:trade_invest_armaments > 0
				}
				change_variable = { 
					name = trade_invest_armaments
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_armaments
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_invest_armaments
					multiply = var:trade_invest_armaments
				}
				change_variable = { 
					name = trade_invest_armaments
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_armaments
				}
			}
			else = { 
				remove_variable = trade_invest_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_invest_food
					var:trade_invest_food > 0
				}
				change_variable = { 
					name = trade_invest_food
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_food
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_cereal
					var:trade_invest_cereal > 0
				}
				change_variable = { 
					name = trade_invest_cereal
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_cereal
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salted
					var:trade_invest_salted > 0
				}
				change_variable = { 
					name = trade_invest_salted
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_salted
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salt
					var:trade_invest_salt > 0
				}
				change_variable = { 
					name = trade_invest_salt
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_salt
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_mud
					var:trade_invest_mud > 0
				}
				change_variable = { 
					name = trade_invest_mud
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_mud
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fuel
					var:trade_invest_fuel > 0
				}
				change_variable = { 
					name = trade_invest_fuel
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_fuel
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fiber
					var:trade_invest_fiber > 0
				}
				change_variable = { 
					name = trade_invest_fiber
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_fiber
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_timber
					var:trade_invest_timber > 0
				}
				change_variable = { 
					name = trade_invest_timber
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_timber
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_metal
					var:trade_invest_metal > 0
				}
				change_variable = { 
					name = trade_invest_metal
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_metal
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_w
					var:trade_invest_exotics_w > 0
				}
				change_variable = { 
					name = trade_invest_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_w
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_e
					var:trade_invest_exotics_e > 0
				}
				change_variable = { 
					name = trade_invest_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_e
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_g
					var:trade_invest_exotics_g > 0
				}
				change_variable = { 
					name = trade_invest_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_exotics_g
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_textile
					var:trade_invest_textile > 0
				}
				change_variable = { 
					name = trade_invest_textile
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_textile
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_pottery
					var:trade_invest_pottery > 0
				}
				change_variable = { 
					name = trade_invest_pottery
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_pottery
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_tools
					var:trade_invest_tools > 0
				}
				change_variable = { 
					name = trade_invest_tools
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_tools
					divide = var:trade_do_trade_t
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_armaments
					var:trade_invest_armaments > 0
				}
				change_variable = { 
					name = trade_invest_armaments
					multiply = 100
				}
				change_variable = { 
					name = trade_invest_armaments
					divide = var:trade_do_trade_t
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_invest_food
					var:trade_invest_food > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_cereal
					var:trade_invest_cereal > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salted
					var:trade_invest_salted > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salt
					var:trade_invest_salt > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_mud
					var:trade_invest_mud > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fuel
					var:trade_invest_fuel > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fiber
					var:trade_invest_fiber > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_timber
					var:trade_invest_timber > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_metal
					var:trade_invest_metal > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_w
					var:trade_invest_exotics_w > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_e
					var:trade_invest_exotics_e > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_g
					var:trade_invest_exotics_g > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_textile
					var:trade_invest_textile > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_pottery
					var:trade_invest_pottery > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_tools
					var:trade_invest_tools > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_armaments
					var:trade_invest_armaments > 0
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_invest_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_do_trade_tt
				}
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = var:trade_invest_pay
			}
			change_variable = { 
				name = trade_do_trade_tt
				divide = var:trade_do_trade_t
			}
			if = { 
				limit = { 
					has_variable = trade_invest_food
					var:trade_invest_food > 0
				}
				change_variable = { 
					name = trade_invest_food
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_food
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_cereal
					var:trade_invest_cereal > 0
				}
				change_variable = { 
					name = trade_invest_cereal
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_cereal
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salted
					var:trade_invest_salted > 0
				}
				change_variable = { 
					name = trade_invest_salted
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_salted
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salt
					var:trade_invest_salt > 0
				}
				change_variable = { 
					name = trade_invest_salt
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_salt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_mud
					var:trade_invest_mud > 0
				}
				change_variable = { 
					name = trade_invest_mud
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_mud
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fuel
					var:trade_invest_fuel > 0
				}
				change_variable = { 
					name = trade_invest_fuel
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_fuel
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fiber
					var:trade_invest_fiber > 0
				}
				change_variable = { 
					name = trade_invest_fiber
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_fiber
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_timber
					var:trade_invest_timber > 0
				}
				change_variable = { 
					name = trade_invest_timber
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_timber
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_metal
					var:trade_invest_metal > 0
				}
				change_variable = { 
					name = trade_invest_metal
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_metal
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_w
					var:trade_invest_exotics_w > 0
				}
				change_variable = { 
					name = trade_invest_exotics_w
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_exotics_w
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_e
					var:trade_invest_exotics_e > 0
				}
				change_variable = { 
					name = trade_invest_exotics_e
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_exotics_e
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_g
					var:trade_invest_exotics_g > 0
				}
				change_variable = { 
					name = trade_invest_exotics_g
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_exotics_g
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_textile
					var:trade_invest_textile > 0
				}
				change_variable = { 
					name = trade_invest_textile
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_textile
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_pottery
					var:trade_invest_pottery > 0
				}
				change_variable = { 
					name = trade_invest_pottery
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_pottery
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_tools
					var:trade_invest_tools > 0
				}
				change_variable = { 
					name = trade_invest_tools
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_tools
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_armaments
					var:trade_invest_armaments > 0
				}
				change_variable = { 
					name = trade_invest_armaments
					multiply = var:trade_do_trade_tt
				}
				change_variable = { 
					name = trade_invest_armaments
					divide = 100
				}
			}
			set_variable = { 
				name = trade_luxury_pay
				value = 0
			}
			set_variable = { 
				name = trade_invest_pay
				value = 0
			}
			change_variable = { 
				name = trade_power
				multiply = 0.933
			}
			clear_variable_list = trade_dat_food
			clear_variable_list = array_trade_dat_food
			set_variable = { 
				name = trade_in_food
				value = 0
			}
			set_variable = { 
				name = trade_out_food
				value = 0
			}
			set_variable = { 
				name = trade_earn_food
				value = 0
			}
			set_variable = { 
				name = trade_pay_food
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_food
				value = var:trade_want_food
			}
			change_variable = { 
				name = trade_dmnd_food
				subtract = var:trade_has_food
			}
			change_variable = { 
				name = trade_dmnd_food
				divide = 2
			}
			set_variable = { 
				name = trade_sply_food
				value = var:trade_has_food
			}
			change_variable = { 
				name = trade_sply_food
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_food
					var:trade_luxury_food > 0
				}
				change_variable = { 
					name = trade_dmnd_food
					add = var:trade_luxury_food
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_food
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_food
					var:trade_invest_food > 0
				}
				change_variable = { 
					name = trade_dmnd_food
					add = var:trade_invest_food
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_food
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_food
							}
							var:trade_sply_food = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_food
						value = var:trade_sply_food
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_food
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_food
							var:trade_luxury_food > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_food
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_food
							var:trade_invest_food > 0
						}
						set_variable = { 
							name = trade_invest_pay_food
							value = var:trade_invest_food
						}
						change_variable = { 
							name = trade_invest_pay_food
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_food
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_food
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_food
							multiply = var:trade_price_food
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_food
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_food
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_food
							var:trade_luxury_food > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_food
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_food
							var:trade_invest_food > 0
						}
						set_variable = { 
							name = trade_invest_pay_food
							value = var:trade_invest_food
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_food
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_food
							multiply = var:trade_price_food
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_food
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_food
			}
			clear_variable_list = trade_dat_cereal
			clear_variable_list = array_trade_dat_cereal
			set_variable = { 
				name = trade_in_cereal
				value = 0
			}
			set_variable = { 
				name = trade_out_cereal
				value = 0
			}
			set_variable = { 
				name = trade_earn_cereal
				value = 0
			}
			set_variable = { 
				name = trade_pay_cereal
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_cereal
				value = var:trade_want_cereal
			}
			change_variable = { 
				name = trade_dmnd_cereal
				subtract = var:trade_has_cereal
			}
			change_variable = { 
				name = trade_dmnd_cereal
				divide = 2
			}
			set_variable = { 
				name = trade_sply_cereal
				value = var:trade_has_cereal
			}
			change_variable = { 
				name = trade_sply_cereal
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_cereal
					var:trade_luxury_cereal > 0
				}
				change_variable = { 
					name = trade_dmnd_cereal
					add = var:trade_luxury_cereal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_cereal
					var:trade_invest_cereal > 0
				}
				change_variable = { 
					name = trade_dmnd_cereal
					add = var:trade_invest_cereal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_cereal
							}
							var:trade_sply_cereal = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_cereal
						value = var:trade_sply_cereal
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_cereal
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_cereal
							var:trade_luxury_cereal > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_cereal
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_cereal
							var:trade_invest_cereal > 0
						}
						set_variable = { 
							name = trade_invest_pay_cereal
							value = var:trade_invest_cereal
						}
						change_variable = { 
							name = trade_invest_pay_cereal
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_cereal
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_cereal
							multiply = var:trade_price_cereal
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_cereal
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_cereal
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_cereal
							var:trade_luxury_cereal > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_cereal
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_cereal
							var:trade_invest_cereal > 0
						}
						set_variable = { 
							name = trade_invest_pay_cereal
							value = var:trade_invest_cereal
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_cereal
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_cereal
							multiply = var:trade_price_cereal
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_cereal
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_cereal
			}
			clear_variable_list = trade_dat_salted
			clear_variable_list = array_trade_dat_salted
			set_variable = { 
				name = trade_in_salted
				value = 0
			}
			set_variable = { 
				name = trade_out_salted
				value = 0
			}
			set_variable = { 
				name = trade_earn_salted
				value = 0
			}
			set_variable = { 
				name = trade_pay_salted
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_salted
				value = var:trade_want_salted
			}
			change_variable = { 
				name = trade_dmnd_salted
				subtract = var:trade_has_salted
			}
			change_variable = { 
				name = trade_dmnd_salted
				divide = 2
			}
			set_variable = { 
				name = trade_sply_salted
				value = var:trade_has_salted
			}
			change_variable = { 
				name = trade_sply_salted
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salted
					var:trade_luxury_salted > 0
				}
				change_variable = { 
					name = trade_dmnd_salted
					add = var:trade_luxury_salted
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_salted
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salted
					var:trade_invest_salted > 0
				}
				change_variable = { 
					name = trade_dmnd_salted
					add = var:trade_invest_salted
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_salted
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_salted
							}
							var:trade_sply_salted = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_salted
						value = var:trade_sply_salted
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_salted
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_salted
							var:trade_luxury_salted > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_salted
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_salted
							var:trade_invest_salted > 0
						}
						set_variable = { 
							name = trade_invest_pay_salted
							value = var:trade_invest_salted
						}
						change_variable = { 
							name = trade_invest_pay_salted
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_salted
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_salted
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_salted
							multiply = var:trade_price_salted
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_salted
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_salted
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_salted
							var:trade_luxury_salted > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_salted
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_salted
							var:trade_invest_salted > 0
						}
						set_variable = { 
							name = trade_invest_pay_salted
							value = var:trade_invest_salted
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_salted
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_salted
							multiply = var:trade_price_salted
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_salted
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_salted
			}
			clear_variable_list = trade_dat_salt
			clear_variable_list = array_trade_dat_salt
			set_variable = { 
				name = trade_in_salt
				value = 0
			}
			set_variable = { 
				name = trade_out_salt
				value = 0
			}
			set_variable = { 
				name = trade_earn_salt
				value = 0
			}
			set_variable = { 
				name = trade_pay_salt
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_salt
				value = var:trade_want_salt
			}
			change_variable = { 
				name = trade_dmnd_salt
				subtract = var:trade_has_salt
			}
			change_variable = { 
				name = trade_dmnd_salt
				divide = 2
			}
			set_variable = { 
				name = trade_sply_salt
				value = var:trade_has_salt
			}
			change_variable = { 
				name = trade_sply_salt
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_salt
					var:trade_luxury_salt > 0
				}
				change_variable = { 
					name = trade_dmnd_salt
					add = var:trade_luxury_salt
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_salt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_salt
					var:trade_invest_salt > 0
				}
				change_variable = { 
					name = trade_dmnd_salt
					add = var:trade_invest_salt
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_salt
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_salt
							}
							var:trade_sply_salt = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_salt
						value = var:trade_sply_salt
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_salt
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_salt
							var:trade_luxury_salt > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_salt
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_salt
							var:trade_invest_salt > 0
						}
						set_variable = { 
							name = trade_invest_pay_salt
							value = var:trade_invest_salt
						}
						change_variable = { 
							name = trade_invest_pay_salt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_salt
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_salt
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_salt
							multiply = var:trade_price_salt
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_salt
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_salt
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_salt
							var:trade_luxury_salt > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_salt
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_salt
							var:trade_invest_salt > 0
						}
						set_variable = { 
							name = trade_invest_pay_salt
							value = var:trade_invest_salt
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_salt
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_salt
							multiply = var:trade_price_salt
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_salt
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_salt
			}
			clear_variable_list = trade_dat_mud
			clear_variable_list = array_trade_dat_mud
			set_variable = { 
				name = trade_in_mud
				value = 0
			}
			set_variable = { 
				name = trade_out_mud
				value = 0
			}
			set_variable = { 
				name = trade_earn_mud
				value = 0
			}
			set_variable = { 
				name = trade_pay_mud
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_mud
				value = var:trade_want_mud
			}
			change_variable = { 
				name = trade_dmnd_mud
				subtract = var:trade_has_mud
			}
			change_variable = { 
				name = trade_dmnd_mud
				divide = 2
			}
			set_variable = { 
				name = trade_sply_mud
				value = var:trade_has_mud
			}
			change_variable = { 
				name = trade_sply_mud
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_mud
					var:trade_luxury_mud > 0
				}
				change_variable = { 
					name = trade_dmnd_mud
					add = var:trade_luxury_mud
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_mud
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_mud
					var:trade_invest_mud > 0
				}
				change_variable = { 
					name = trade_dmnd_mud
					add = var:trade_invest_mud
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_mud
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_mud
							}
							var:trade_sply_mud = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_mud
						value = var:trade_sply_mud
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_mud
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_mud
							var:trade_luxury_mud > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_mud
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_mud
							var:trade_invest_mud > 0
						}
						set_variable = { 
							name = trade_invest_pay_mud
							value = var:trade_invest_mud
						}
						change_variable = { 
							name = trade_invest_pay_mud
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_mud
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_mud
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_mud
							multiply = var:trade_price_mud
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_mud
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_mud
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_mud
							var:trade_luxury_mud > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_mud
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_mud
							var:trade_invest_mud > 0
						}
						set_variable = { 
							name = trade_invest_pay_mud
							value = var:trade_invest_mud
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_mud
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_mud
							multiply = var:trade_price_mud
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_mud
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_mud
			}
			clear_variable_list = trade_dat_fuel
			clear_variable_list = array_trade_dat_fuel
			set_variable = { 
				name = trade_in_fuel
				value = 0
			}
			set_variable = { 
				name = trade_out_fuel
				value = 0
			}
			set_variable = { 
				name = trade_earn_fuel
				value = 0
			}
			set_variable = { 
				name = trade_pay_fuel
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_fuel
				value = var:trade_want_fuel
			}
			change_variable = { 
				name = trade_dmnd_fuel
				subtract = var:trade_has_fuel
			}
			change_variable = { 
				name = trade_dmnd_fuel
				divide = 2
			}
			set_variable = { 
				name = trade_sply_fuel
				value = var:trade_has_fuel
			}
			change_variable = { 
				name = trade_sply_fuel
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fuel
					var:trade_luxury_fuel > 0
				}
				change_variable = { 
					name = trade_dmnd_fuel
					add = var:trade_luxury_fuel
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fuel
					var:trade_invest_fuel > 0
				}
				change_variable = { 
					name = trade_dmnd_fuel
					add = var:trade_invest_fuel
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_fuel
							}
							var:trade_sply_fuel = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_fuel
						value = var:trade_sply_fuel
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_fuel
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_fuel
							var:trade_luxury_fuel > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_fuel
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_fuel
							var:trade_invest_fuel > 0
						}
						set_variable = { 
							name = trade_invest_pay_fuel
							value = var:trade_invest_fuel
						}
						change_variable = { 
							name = trade_invest_pay_fuel
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_fuel
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_fuel
							multiply = var:trade_price_fuel
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_fuel
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_fuel
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_fuel
							var:trade_luxury_fuel > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_fuel
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_fuel
							var:trade_invest_fuel > 0
						}
						set_variable = { 
							name = trade_invest_pay_fuel
							value = var:trade_invest_fuel
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_fuel
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_fuel
							multiply = var:trade_price_fuel
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_fuel
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_fuel
			}
			clear_variable_list = trade_dat_fiber
			clear_variable_list = array_trade_dat_fiber
			set_variable = { 
				name = trade_in_fiber
				value = 0
			}
			set_variable = { 
				name = trade_out_fiber
				value = 0
			}
			set_variable = { 
				name = trade_earn_fiber
				value = 0
			}
			set_variable = { 
				name = trade_pay_fiber
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_fiber
				value = var:trade_want_fiber
			}
			change_variable = { 
				name = trade_dmnd_fiber
				subtract = var:trade_has_fiber
			}
			change_variable = { 
				name = trade_dmnd_fiber
				divide = 2
			}
			set_variable = { 
				name = trade_sply_fiber
				value = var:trade_has_fiber
			}
			change_variable = { 
				name = trade_sply_fiber
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_fiber
					var:trade_luxury_fiber > 0
				}
				change_variable = { 
					name = trade_dmnd_fiber
					add = var:trade_luxury_fiber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_fiber
					var:trade_invest_fiber > 0
				}
				change_variable = { 
					name = trade_dmnd_fiber
					add = var:trade_invest_fiber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_fiber
							}
							var:trade_sply_fiber = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_fiber
						value = var:trade_sply_fiber
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_fiber
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_fiber
							var:trade_luxury_fiber > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_fiber
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_fiber
							var:trade_invest_fiber > 0
						}
						set_variable = { 
							name = trade_invest_pay_fiber
							value = var:trade_invest_fiber
						}
						change_variable = { 
							name = trade_invest_pay_fiber
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_fiber
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_fiber
							multiply = var:trade_price_fiber
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_fiber
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_fiber
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_fiber
							var:trade_luxury_fiber > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_fiber
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_fiber
							var:trade_invest_fiber > 0
						}
						set_variable = { 
							name = trade_invest_pay_fiber
							value = var:trade_invest_fiber
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_fiber
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_fiber
							multiply = var:trade_price_fiber
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_fiber
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_fiber
			}
			clear_variable_list = trade_dat_timber
			clear_variable_list = array_trade_dat_timber
			set_variable = { 
				name = trade_in_timber
				value = 0
			}
			set_variable = { 
				name = trade_out_timber
				value = 0
			}
			set_variable = { 
				name = trade_earn_timber
				value = 0
			}
			set_variable = { 
				name = trade_pay_timber
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_timber
				value = var:trade_want_timber
			}
			change_variable = { 
				name = trade_dmnd_timber
				subtract = var:trade_has_timber
			}
			change_variable = { 
				name = trade_dmnd_timber
				divide = 2
			}
			set_variable = { 
				name = trade_sply_timber
				value = var:trade_has_timber
			}
			change_variable = { 
				name = trade_sply_timber
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_timber
					var:trade_luxury_timber > 0
				}
				change_variable = { 
					name = trade_dmnd_timber
					add = var:trade_luxury_timber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_timber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_timber
					var:trade_invest_timber > 0
				}
				change_variable = { 
					name = trade_dmnd_timber
					add = var:trade_invest_timber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_timber
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_timber
							}
							var:trade_sply_timber = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_timber
						value = var:trade_sply_timber
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_timber
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_timber
							var:trade_luxury_timber > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_timber
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_timber
							var:trade_invest_timber > 0
						}
						set_variable = { 
							name = trade_invest_pay_timber
							value = var:trade_invest_timber
						}
						change_variable = { 
							name = trade_invest_pay_timber
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_timber
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_timber
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_timber
							multiply = var:trade_price_timber
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_timber
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_timber
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_timber
							var:trade_luxury_timber > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_timber
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_timber
							var:trade_invest_timber > 0
						}
						set_variable = { 
							name = trade_invest_pay_timber
							value = var:trade_invest_timber
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_timber
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_timber
							multiply = var:trade_price_timber
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_timber
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_timber
			}
			clear_variable_list = trade_dat_metal
			clear_variable_list = array_trade_dat_metal
			set_variable = { 
				name = trade_in_metal
				value = 0
			}
			set_variable = { 
				name = trade_out_metal
				value = 0
			}
			set_variable = { 
				name = trade_earn_metal
				value = 0
			}
			set_variable = { 
				name = trade_pay_metal
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_metal
				value = var:trade_want_metal
			}
			change_variable = { 
				name = trade_dmnd_metal
				subtract = var:trade_has_metal
			}
			change_variable = { 
				name = trade_dmnd_metal
				divide = 2
			}
			set_variable = { 
				name = trade_sply_metal
				value = var:trade_has_metal
			}
			change_variable = { 
				name = trade_sply_metal
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_metal
					var:trade_luxury_metal > 0
				}
				change_variable = { 
					name = trade_dmnd_metal
					add = var:trade_luxury_metal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_metal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_metal
					var:trade_invest_metal > 0
				}
				change_variable = { 
					name = trade_dmnd_metal
					add = var:trade_invest_metal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_metal
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_metal
							}
							var:trade_sply_metal = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_metal
						value = var:trade_sply_metal
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_metal
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_metal
							var:trade_luxury_metal > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_metal
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_metal
							var:trade_invest_metal > 0
						}
						set_variable = { 
							name = trade_invest_pay_metal
							value = var:trade_invest_metal
						}
						change_variable = { 
							name = trade_invest_pay_metal
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_metal
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_metal
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_metal
							multiply = var:trade_price_metal
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_metal
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_metal
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_metal
							var:trade_luxury_metal > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_metal
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_metal
							var:trade_invest_metal > 0
						}
						set_variable = { 
							name = trade_invest_pay_metal
							value = var:trade_invest_metal
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_metal
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_metal
							multiply = var:trade_price_metal
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_metal
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_metal
			}
			clear_variable_list = trade_dat_exotics_w
			clear_variable_list = array_trade_dat_exotics_w
			set_variable = { 
				name = trade_in_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_w
				value = var:trade_want_exotics_w
			}
			change_variable = { 
				name = trade_dmnd_exotics_w
				subtract = var:trade_has_exotics_w
			}
			change_variable = { 
				name = trade_dmnd_exotics_w
				divide = 2
			}
			set_variable = { 
				name = trade_sply_exotics_w
				value = var:trade_has_exotics_w
			}
			change_variable = { 
				name = trade_sply_exotics_w
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_w
					var:trade_luxury_exotics_w > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					add = var:trade_luxury_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_w
					var:trade_invest_exotics_w > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_w
					add = var:trade_invest_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_exotics_w
							}
							var:trade_sply_exotics_w = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = var:trade_sply_exotics_w
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_exotics_w
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_w
							var:trade_luxury_exotics_w > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_w
							var:trade_invest_exotics_w > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_w
							value = var:trade_invest_exotics_w
						}
						change_variable = { 
							name = trade_invest_pay_exotics_w
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_w
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_w
							multiply = var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_w
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_exotics_w
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_w
							var:trade_luxury_exotics_w > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_w
							var:trade_invest_exotics_w > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_w
							value = var:trade_invest_exotics_w
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_w
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_w
							multiply = var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_w
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_exotics_w
			}
			clear_variable_list = trade_dat_exotics_e
			clear_variable_list = array_trade_dat_exotics_e
			set_variable = { 
				name = trade_in_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_e
				value = var:trade_want_exotics_e
			}
			change_variable = { 
				name = trade_dmnd_exotics_e
				subtract = var:trade_has_exotics_e
			}
			change_variable = { 
				name = trade_dmnd_exotics_e
				divide = 2
			}
			set_variable = { 
				name = trade_sply_exotics_e
				value = var:trade_has_exotics_e
			}
			change_variable = { 
				name = trade_sply_exotics_e
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_e
					var:trade_luxury_exotics_e > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					add = var:trade_luxury_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_e
					var:trade_invest_exotics_e > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_e
					add = var:trade_invest_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_exotics_e
							}
							var:trade_sply_exotics_e = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = var:trade_sply_exotics_e
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_exotics_e
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_e
							var:trade_luxury_exotics_e > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_e
							var:trade_invest_exotics_e > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_e
							value = var:trade_invest_exotics_e
						}
						change_variable = { 
							name = trade_invest_pay_exotics_e
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_e
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_e
							multiply = var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_e
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_exotics_e
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_e
							var:trade_luxury_exotics_e > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_e
							var:trade_invest_exotics_e > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_e
							value = var:trade_invest_exotics_e
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_e
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_e
							multiply = var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_e
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_exotics_e
			}
			clear_variable_list = trade_dat_exotics_g
			clear_variable_list = array_trade_dat_exotics_g
			set_variable = { 
				name = trade_in_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_exotics_g
				value = var:trade_want_exotics_g
			}
			change_variable = { 
				name = trade_dmnd_exotics_g
				subtract = var:trade_has_exotics_g
			}
			change_variable = { 
				name = trade_dmnd_exotics_g
				divide = 2
			}
			set_variable = { 
				name = trade_sply_exotics_g
				value = var:trade_has_exotics_g
			}
			change_variable = { 
				name = trade_sply_exotics_g
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_exotics_g
					var:trade_luxury_exotics_g > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					add = var:trade_luxury_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_exotics_g
					var:trade_invest_exotics_g > 0
				}
				change_variable = { 
					name = trade_dmnd_exotics_g
					add = var:trade_invest_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_exotics_g
							}
							var:trade_sply_exotics_g = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = var:trade_sply_exotics_g
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_exotics_g
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_g
							var:trade_luxury_exotics_g > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_g
							var:trade_invest_exotics_g > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_g
							value = var:trade_invest_exotics_g
						}
						change_variable = { 
							name = trade_invest_pay_exotics_g
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_g
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_g
							multiply = var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_g
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_exotics_g
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_exotics_g
							var:trade_luxury_exotics_g > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_exotics_g
							var:trade_invest_exotics_g > 0
						}
						set_variable = { 
							name = trade_invest_pay_exotics_g
							value = var:trade_invest_exotics_g
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_exotics_g
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_exotics_g
							multiply = var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_exotics_g
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_exotics_g
			}
			clear_variable_list = trade_dat_textile
			clear_variable_list = array_trade_dat_textile
			set_variable = { 
				name = trade_in_textile
				value = 0
			}
			set_variable = { 
				name = trade_out_textile
				value = 0
			}
			set_variable = { 
				name = trade_earn_textile
				value = 0
			}
			set_variable = { 
				name = trade_pay_textile
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_textile
				value = var:trade_want_textile
			}
			change_variable = { 
				name = trade_dmnd_textile
				subtract = var:trade_has_textile
			}
			change_variable = { 
				name = trade_dmnd_textile
				divide = 2
			}
			set_variable = { 
				name = trade_sply_textile
				value = var:trade_has_textile
			}
			change_variable = { 
				name = trade_sply_textile
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_textile
					var:trade_luxury_textile > 0
				}
				change_variable = { 
					name = trade_dmnd_textile
					add = var:trade_luxury_textile
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_textile
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_textile
					var:trade_invest_textile > 0
				}
				change_variable = { 
					name = trade_dmnd_textile
					add = var:trade_invest_textile
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_textile
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_textile
							}
							var:trade_sply_textile = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_textile
						value = var:trade_sply_textile
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_textile
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_textile
							var:trade_luxury_textile > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_textile
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_textile
							var:trade_invest_textile > 0
						}
						set_variable = { 
							name = trade_invest_pay_textile
							value = var:trade_invest_textile
						}
						change_variable = { 
							name = trade_invest_pay_textile
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_textile
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_textile
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_textile
							multiply = var:trade_price_textile
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_textile
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_textile
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_textile
							var:trade_luxury_textile > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_textile
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_textile
							var:trade_invest_textile > 0
						}
						set_variable = { 
							name = trade_invest_pay_textile
							value = var:trade_invest_textile
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_textile
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_textile
							multiply = var:trade_price_textile
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_textile
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_textile
			}
			clear_variable_list = trade_dat_pottery
			clear_variable_list = array_trade_dat_pottery
			set_variable = { 
				name = trade_in_pottery
				value = 0
			}
			set_variable = { 
				name = trade_out_pottery
				value = 0
			}
			set_variable = { 
				name = trade_earn_pottery
				value = 0
			}
			set_variable = { 
				name = trade_pay_pottery
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_pottery
				value = var:trade_want_pottery
			}
			change_variable = { 
				name = trade_dmnd_pottery
				subtract = var:trade_has_pottery
			}
			change_variable = { 
				name = trade_dmnd_pottery
				divide = 2
			}
			set_variable = { 
				name = trade_sply_pottery
				value = var:trade_has_pottery
			}
			change_variable = { 
				name = trade_sply_pottery
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_pottery
					var:trade_luxury_pottery > 0
				}
				change_variable = { 
					name = trade_dmnd_pottery
					add = var:trade_luxury_pottery
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_pottery
					var:trade_invest_pottery > 0
				}
				change_variable = { 
					name = trade_dmnd_pottery
					add = var:trade_invest_pottery
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_pottery
							}
							var:trade_sply_pottery = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_pottery
						value = var:trade_sply_pottery
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_pottery
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_pottery
							var:trade_luxury_pottery > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_pottery
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_pottery
							var:trade_invest_pottery > 0
						}
						set_variable = { 
							name = trade_invest_pay_pottery
							value = var:trade_invest_pottery
						}
						change_variable = { 
							name = trade_invest_pay_pottery
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_pottery
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_pottery
							multiply = var:trade_price_pottery
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_pottery
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_pottery
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_pottery
							var:trade_luxury_pottery > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_pottery
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_pottery
							var:trade_invest_pottery > 0
						}
						set_variable = { 
							name = trade_invest_pay_pottery
							value = var:trade_invest_pottery
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_pottery
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_pottery
							multiply = var:trade_price_pottery
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_pottery
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_pottery
			}
			clear_variable_list = trade_dat_tools
			clear_variable_list = array_trade_dat_tools
			set_variable = { 
				name = trade_in_tools
				value = 0
			}
			set_variable = { 
				name = trade_out_tools
				value = 0
			}
			set_variable = { 
				name = trade_earn_tools
				value = 0
			}
			set_variable = { 
				name = trade_pay_tools
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_tools
				value = var:trade_want_tools
			}
			change_variable = { 
				name = trade_dmnd_tools
				subtract = var:trade_has_tools
			}
			change_variable = { 
				name = trade_dmnd_tools
				divide = 2
			}
			set_variable = { 
				name = trade_sply_tools
				value = var:trade_has_tools
			}
			change_variable = { 
				name = trade_sply_tools
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_tools
					var:trade_luxury_tools > 0
				}
				change_variable = { 
					name = trade_dmnd_tools
					add = var:trade_luxury_tools
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_tools
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_tools
					var:trade_invest_tools > 0
				}
				change_variable = { 
					name = trade_dmnd_tools
					add = var:trade_invest_tools
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_tools
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_tools
							}
							var:trade_sply_tools = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_tools
						value = var:trade_sply_tools
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_tools
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_tools
							var:trade_luxury_tools > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_tools
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_tools
							var:trade_invest_tools > 0
						}
						set_variable = { 
							name = trade_invest_pay_tools
							value = var:trade_invest_tools
						}
						change_variable = { 
							name = trade_invest_pay_tools
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_tools
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_tools
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_tools
							multiply = var:trade_price_tools
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_tools
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_tools
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_tools
							var:trade_luxury_tools > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_tools
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_tools
							var:trade_invest_tools > 0
						}
						set_variable = { 
							name = trade_invest_pay_tools
							value = var:trade_invest_tools
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_tools
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_tools
							multiply = var:trade_price_tools
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_tools
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_tools
			}
			clear_variable_list = trade_dat_armaments
			clear_variable_list = array_trade_dat_armaments
			set_variable = { 
				name = trade_in_armaments
				value = 0
			}
			set_variable = { 
				name = trade_out_armaments
				value = 0
			}
			set_variable = { 
				name = trade_earn_armaments
				value = 0
			}
			set_variable = { 
				name = trade_pay_armaments
				value = 0
			}
			set_variable = { 
				name = trade_dmnd_armaments
				value = var:trade_want_armaments
			}
			change_variable = { 
				name = trade_dmnd_armaments
				subtract = var:trade_has_armaments
			}
			change_variable = { 
				name = trade_dmnd_armaments
				divide = 2
			}
			set_variable = { 
				name = trade_sply_armaments
				value = var:trade_has_armaments
			}
			change_variable = { 
				name = trade_sply_armaments
				divide = 2
			}
			set_variable = { 
				name = trade_do_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_luxury_armaments
					var:trade_luxury_armaments > 0
				}
				change_variable = { 
					name = trade_dmnd_armaments
					add = var:trade_luxury_armaments
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_luxury_armaments
				}
			}
			if = { 
				limit = { 
					has_variable = trade_invest_armaments
					var:trade_invest_armaments > 0
				}
				change_variable = { 
					name = trade_dmnd_armaments
					add = var:trade_invest_armaments
				}
				change_variable = { 
					name = trade_do_trade_t
					add = var:trade_invest_armaments
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					var:trade_do_trade_t > 0
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_sply_armaments
							}
							var:trade_sply_armaments = { 
								compare_value < prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_out_armaments
						value = var:trade_sply_armaments
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sply_armaments
					}
					change_variable = { 
						name = trade_do_trade_tt
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_tt
						divide = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_armaments
							var:trade_luxury_armaments > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_armaments
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_armaments
							var:trade_invest_armaments > 0
						}
						set_variable = { 
							name = trade_invest_pay_armaments
							value = var:trade_invest_armaments
						}
						change_variable = { 
							name = trade_invest_pay_armaments
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_invest_pay_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_armaments
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_armaments
							multiply = var:trade_price_armaments
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_armaments
						}
					}
				}
				else = { 
					change_variable = { 
						name = trade_out_armaments
						add = var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_luxury_armaments
							var:trade_luxury_armaments > 0
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_luxury_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_price_armaments
						}
						change_variable = { 
							name = trade_luxury_pay
							add = var:trade_do_trade_t
						}
					}
					if = { 
						limit = { 
							has_variable = trade_invest_armaments
							var:trade_invest_armaments > 0
						}
						set_variable = { 
							name = trade_invest_pay_armaments
							value = var:trade_invest_armaments
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_invest_pay_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = trade_invest_armaments
						}
						change_variable = { 
							name = trade_power
							add = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_invest_pay_armaments
							multiply = var:trade_price_armaments
						}
						change_variable = { 
							name = trade_invest_pay
							add = var:trade_invest_pay_armaments
						}
					}
				}
			}
			else = { 
				remove_variable = trade_invest_pay_armaments
			}
			set_variable = { 
				name = trade_power_t
				value = var:trade_power
			}
			change_variable = { 
				name = trade_power_t
				multiply = 5
			}
		}
		set_global_variable = { 
			name = trade_do_trade_loop
		}
		while = { 
			limit = { 
				has_global_variable = trade_do_trade_loop
			}
			count = 100000
			remove_global_variable = trade_do_trade_loop
			ordered_in_global_list = { 
				limit = { 
					has_variable = trade_power_t
				}
				variable = trade_merchants
				order_by = trade_do_trade_order_value_0
				position = 0
				set_global_variable = { 
					name = trade_do_trade_loop
				}
				set_global_variable = { 
					name = trade_do_trade_select
					value = this
				}
				set_global_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_list = { 
					variable = trade_core
					add_to_global_variable_list = { 
						name = trade_do_trade_list
						target = this
					}
					prev = { 
						set_global_variable = { 
							name = array_get_t
							value = global_var:trade_do_trade_t
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_global_variable = array_get_t
									}
									global_var:array_get_t = 0
								}
							}
							ordered_in_list = { 
								variable = array_trade_core
								position = 0
								prev = { 
									set_variable = { 
										name = trade_do_trade_t
										value = prev
									}
								}
							}
						}
						else = { 
							ordered_in_list = { 
								variable = array_trade_core
								position = global_var:array_get_t.compare_value
								prev = { 
									set_variable = { 
										name = trade_do_trade_t
										value = prev
									}
								}
							}
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 10
						}
						remove_global_variable = array_get_t
					}
					set_variable = { 
						name = trade_do_trade_dist
						value = prev.var:trade_do_trade_t
					}
					if = { 
						limit = { 
							has_variable = trade_do_trade_capital
						}
						var:trade_do_trade_capital = { 
							add_to_global_variable_list = { 
								name = trade_do_trade_list
								target = this
							}
							set_variable = { 
								name = trade_do_trade_dist
								value = prev.var:trade_do_trade_dist
							}
						}
					}
					change_global_variable = { 
						name = trade_do_trade_t
						add = 1
					}
				}
				set_global_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_list = { 
					variable = trade_periph
					if = { 
						limit = { 
							NOT = { 
								is_target_in_global_variable_list = { 
									name = trade_do_trade_list
									target = this
								}
							}
						}
						add_to_global_variable_list = { 
							name = trade_do_trade_list
							target = this
						}
						prev = { 
							set_global_variable = { 
								name = array_get_t
								value = global_var:trade_do_trade_t
							}
							if = { 
								limit = { 
									OR = { 
										NOT = { 
											has_global_variable = array_get_t
										}
										global_var:array_get_t = 0
									}
								}
								ordered_in_list = { 
									variable = array_trade_periph
									position = 0
									prev = { 
										set_variable = { 
											name = trade_do_trade_t
											value = prev
										}
									}
								}
							}
							else = { 
								ordered_in_list = { 
									variable = array_trade_periph
									position = global_var:array_get_t.compare_value
									prev = { 
										set_variable = { 
											name = trade_do_trade_t
											value = prev
										}
									}
								}
							}
							change_variable = { 
								name = trade_do_trade_t
								divide = 10
							}
							remove_global_variable = array_get_t
						}
						set_variable = { 
							name = trade_do_trade_dist
							value = prev.var:trade_do_trade_t
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_capital
							}
							var:trade_do_trade_capital = { 
								add_to_global_variable_list = { 
									name = trade_do_trade_list
									target = this
								}
								set_variable = { 
									name = trade_do_trade_dist
									value = prev.var:trade_do_trade_dist
								}
							}
						}
					}
					change_global_variable = { 
						name = trade_do_trade_t
						add = 1
					}
				}
				set_global_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_list = { 
					variable = trade_link
					if = { 
						limit = { 
							has_variable = trade_merchant
						}
						prev = { 
							set_global_variable = { 
								name = array_get_t
								value = global_var:trade_do_trade_t
							}
							if = { 
								limit = { 
									OR = { 
										NOT = { 
											has_global_variable = array_get_t
										}
										global_var:array_get_t = 0
									}
								}
								ordered_in_list = { 
									variable = array_trade_link
									position = 0
									prev = { 
										set_variable = { 
											name = trade_do_trade_t
											value = prev
										}
									}
								}
							}
							else = { 
								ordered_in_list = { 
									variable = array_trade_link
									position = global_var:array_get_t.compare_value
									prev = { 
										set_variable = { 
											name = trade_do_trade_t
											value = prev
										}
									}
								}
							}
							change_variable = { 
								name = trade_do_trade_t
								divide = 10
							}
							remove_global_variable = array_get_t
						}
						var:trade_merchant = { 
							add_to_global_variable_list = { 
								name = trade_do_trade_list
								target = this
							}
							set_variable = { 
								name = trade_do_trade_dist
								value = global_var:trade_do_trade_select.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_dist
								divide = 3
							}
							change_variable = { 
								name = trade_do_trade_dist
								add = 266.667
							}
						}
					}
					change_global_variable = { 
						name = trade_do_trade_t
						add = 1
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_cost
						value = var:trade_do_trade_dist
					}
					change_variable = { 
						name = trade_cost
						divide = 40
					}
					change_variable = { 
						name = trade_cost
						add = 1
					}
					change_variable = { 
						name = trade_cost
						divide = 20
					}
				}
				set_variable = { 
					name = trade_sum_buy_food
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_food
					value = 0
				}
				set_variable = { 
					name = trade_buy_food
					value = var:trade_dmnd_food
				}
				change_variable = { 
					name = trade_buy_food
					subtract = var:trade_in_food
				}
				set_variable = { 
					name = trade_sell_food
					value = var:trade_sply_food
				}
				change_variable = { 
					name = trade_sell_food
					subtract = var:trade_out_food
				}
				if = { 
					limit = { 
						var:trade_buy_food < 0
					}
					set_variable = { 
						name = trade_buy_food
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_food < 0
					}
					set_variable = { 
						name = trade_sell_food
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_cereal
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_cereal
					value = 0
				}
				set_variable = { 
					name = trade_buy_cereal
					value = var:trade_dmnd_cereal
				}
				change_variable = { 
					name = trade_buy_cereal
					subtract = var:trade_in_cereal
				}
				set_variable = { 
					name = trade_sell_cereal
					value = var:trade_sply_cereal
				}
				change_variable = { 
					name = trade_sell_cereal
					subtract = var:trade_out_cereal
				}
				if = { 
					limit = { 
						var:trade_buy_cereal < 0
					}
					set_variable = { 
						name = trade_buy_cereal
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_cereal < 0
					}
					set_variable = { 
						name = trade_sell_cereal
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_salted
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_salted
					value = 0
				}
				set_variable = { 
					name = trade_buy_salted
					value = var:trade_dmnd_salted
				}
				change_variable = { 
					name = trade_buy_salted
					subtract = var:trade_in_salted
				}
				set_variable = { 
					name = trade_sell_salted
					value = var:trade_sply_salted
				}
				change_variable = { 
					name = trade_sell_salted
					subtract = var:trade_out_salted
				}
				if = { 
					limit = { 
						var:trade_buy_salted < 0
					}
					set_variable = { 
						name = trade_buy_salted
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_salted < 0
					}
					set_variable = { 
						name = trade_sell_salted
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_salt
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_salt
					value = 0
				}
				set_variable = { 
					name = trade_buy_salt
					value = var:trade_dmnd_salt
				}
				change_variable = { 
					name = trade_buy_salt
					subtract = var:trade_in_salt
				}
				set_variable = { 
					name = trade_sell_salt
					value = var:trade_sply_salt
				}
				change_variable = { 
					name = trade_sell_salt
					subtract = var:trade_out_salt
				}
				if = { 
					limit = { 
						var:trade_buy_salt < 0
					}
					set_variable = { 
						name = trade_buy_salt
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_salt < 0
					}
					set_variable = { 
						name = trade_sell_salt
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_mud
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_mud
					value = 0
				}
				set_variable = { 
					name = trade_buy_mud
					value = var:trade_dmnd_mud
				}
				change_variable = { 
					name = trade_buy_mud
					subtract = var:trade_in_mud
				}
				set_variable = { 
					name = trade_sell_mud
					value = var:trade_sply_mud
				}
				change_variable = { 
					name = trade_sell_mud
					subtract = var:trade_out_mud
				}
				if = { 
					limit = { 
						var:trade_buy_mud < 0
					}
					set_variable = { 
						name = trade_buy_mud
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_mud < 0
					}
					set_variable = { 
						name = trade_sell_mud
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_fuel
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_fuel
					value = 0
				}
				set_variable = { 
					name = trade_buy_fuel
					value = var:trade_dmnd_fuel
				}
				change_variable = { 
					name = trade_buy_fuel
					subtract = var:trade_in_fuel
				}
				set_variable = { 
					name = trade_sell_fuel
					value = var:trade_sply_fuel
				}
				change_variable = { 
					name = trade_sell_fuel
					subtract = var:trade_out_fuel
				}
				if = { 
					limit = { 
						var:trade_buy_fuel < 0
					}
					set_variable = { 
						name = trade_buy_fuel
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_fuel < 0
					}
					set_variable = { 
						name = trade_sell_fuel
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_fiber
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_fiber
					value = 0
				}
				set_variable = { 
					name = trade_buy_fiber
					value = var:trade_dmnd_fiber
				}
				change_variable = { 
					name = trade_buy_fiber
					subtract = var:trade_in_fiber
				}
				set_variable = { 
					name = trade_sell_fiber
					value = var:trade_sply_fiber
				}
				change_variable = { 
					name = trade_sell_fiber
					subtract = var:trade_out_fiber
				}
				if = { 
					limit = { 
						var:trade_buy_fiber < 0
					}
					set_variable = { 
						name = trade_buy_fiber
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_fiber < 0
					}
					set_variable = { 
						name = trade_sell_fiber
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_timber
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_timber
					value = 0
				}
				set_variable = { 
					name = trade_buy_timber
					value = var:trade_dmnd_timber
				}
				change_variable = { 
					name = trade_buy_timber
					subtract = var:trade_in_timber
				}
				set_variable = { 
					name = trade_sell_timber
					value = var:trade_sply_timber
				}
				change_variable = { 
					name = trade_sell_timber
					subtract = var:trade_out_timber
				}
				if = { 
					limit = { 
						var:trade_buy_timber < 0
					}
					set_variable = { 
						name = trade_buy_timber
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_timber < 0
					}
					set_variable = { 
						name = trade_sell_timber
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_metal
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_metal
					value = 0
				}
				set_variable = { 
					name = trade_buy_metal
					value = var:trade_dmnd_metal
				}
				change_variable = { 
					name = trade_buy_metal
					subtract = var:trade_in_metal
				}
				set_variable = { 
					name = trade_sell_metal
					value = var:trade_sply_metal
				}
				change_variable = { 
					name = trade_sell_metal
					subtract = var:trade_out_metal
				}
				if = { 
					limit = { 
						var:trade_buy_metal < 0
					}
					set_variable = { 
						name = trade_buy_metal
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_metal < 0
					}
					set_variable = { 
						name = trade_sell_metal
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_w
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_exotics_w
					value = 0
				}
				set_variable = { 
					name = trade_buy_exotics_w
					value = var:trade_dmnd_exotics_w
				}
				change_variable = { 
					name = trade_buy_exotics_w
					subtract = var:trade_in_exotics_w
				}
				set_variable = { 
					name = trade_sell_exotics_w
					value = var:trade_sply_exotics_w
				}
				change_variable = { 
					name = trade_sell_exotics_w
					subtract = var:trade_out_exotics_w
				}
				if = { 
					limit = { 
						var:trade_buy_exotics_w < 0
					}
					set_variable = { 
						name = trade_buy_exotics_w
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_exotics_w < 0
					}
					set_variable = { 
						name = trade_sell_exotics_w
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_e
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_exotics_e
					value = 0
				}
				set_variable = { 
					name = trade_buy_exotics_e
					value = var:trade_dmnd_exotics_e
				}
				change_variable = { 
					name = trade_buy_exotics_e
					subtract = var:trade_in_exotics_e
				}
				set_variable = { 
					name = trade_sell_exotics_e
					value = var:trade_sply_exotics_e
				}
				change_variable = { 
					name = trade_sell_exotics_e
					subtract = var:trade_out_exotics_e
				}
				if = { 
					limit = { 
						var:trade_buy_exotics_e < 0
					}
					set_variable = { 
						name = trade_buy_exotics_e
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_exotics_e < 0
					}
					set_variable = { 
						name = trade_sell_exotics_e
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_g
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_exotics_g
					value = 0
				}
				set_variable = { 
					name = trade_buy_exotics_g
					value = var:trade_dmnd_exotics_g
				}
				change_variable = { 
					name = trade_buy_exotics_g
					subtract = var:trade_in_exotics_g
				}
				set_variable = { 
					name = trade_sell_exotics_g
					value = var:trade_sply_exotics_g
				}
				change_variable = { 
					name = trade_sell_exotics_g
					subtract = var:trade_out_exotics_g
				}
				if = { 
					limit = { 
						var:trade_buy_exotics_g < 0
					}
					set_variable = { 
						name = trade_buy_exotics_g
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_exotics_g < 0
					}
					set_variable = { 
						name = trade_sell_exotics_g
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_textile
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_textile
					value = 0
				}
				set_variable = { 
					name = trade_buy_textile
					value = var:trade_dmnd_textile
				}
				change_variable = { 
					name = trade_buy_textile
					subtract = var:trade_in_textile
				}
				set_variable = { 
					name = trade_sell_textile
					value = var:trade_sply_textile
				}
				change_variable = { 
					name = trade_sell_textile
					subtract = var:trade_out_textile
				}
				if = { 
					limit = { 
						var:trade_buy_textile < 0
					}
					set_variable = { 
						name = trade_buy_textile
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_textile < 0
					}
					set_variable = { 
						name = trade_sell_textile
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_pottery
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_pottery
					value = 0
				}
				set_variable = { 
					name = trade_buy_pottery
					value = var:trade_dmnd_pottery
				}
				change_variable = { 
					name = trade_buy_pottery
					subtract = var:trade_in_pottery
				}
				set_variable = { 
					name = trade_sell_pottery
					value = var:trade_sply_pottery
				}
				change_variable = { 
					name = trade_sell_pottery
					subtract = var:trade_out_pottery
				}
				if = { 
					limit = { 
						var:trade_buy_pottery < 0
					}
					set_variable = { 
						name = trade_buy_pottery
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_pottery < 0
					}
					set_variable = { 
						name = trade_sell_pottery
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_tools
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_tools
					value = 0
				}
				set_variable = { 
					name = trade_buy_tools
					value = var:trade_dmnd_tools
				}
				change_variable = { 
					name = trade_buy_tools
					subtract = var:trade_in_tools
				}
				set_variable = { 
					name = trade_sell_tools
					value = var:trade_sply_tools
				}
				change_variable = { 
					name = trade_sell_tools
					subtract = var:trade_out_tools
				}
				if = { 
					limit = { 
						var:trade_buy_tools < 0
					}
					set_variable = { 
						name = trade_buy_tools
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_tools < 0
					}
					set_variable = { 
						name = trade_sell_tools
						value = 0
					}
				}
				set_variable = { 
					name = trade_sum_buy_armaments
					value = 0
				}
				set_variable = { 
					name = trade_sum_sell_armaments
					value = 0
				}
				set_variable = { 
					name = trade_buy_armaments
					value = var:trade_dmnd_armaments
				}
				change_variable = { 
					name = trade_buy_armaments
					subtract = var:trade_in_armaments
				}
				set_variable = { 
					name = trade_sell_armaments
					value = var:trade_sply_armaments
				}
				change_variable = { 
					name = trade_sell_armaments
					subtract = var:trade_out_armaments
				}
				if = { 
					limit = { 
						var:trade_buy_armaments < 0
					}
					set_variable = { 
						name = trade_buy_armaments
						value = 0
					}
				}
				if = { 
					limit = { 
						var:trade_sell_armaments < 0
					}
					set_variable = { 
						name = trade_sell_armaments
						value = 0
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					remove_variable = trade_sell_food
					remove_variable = trade_buy_food
					remove_variable = trade_point_food
					if = { 
						limit = { 
							var:trade_price_food = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_food
								var:trade_dmnd_food = { 
									compare_value > prev.var:trade_in_food
								}
							}
							set_variable = { 
								name = trade_buy_food
								value = var:trade_dmnd_food
							}
							change_variable = { 
								name = trade_buy_food
								subtract = var:trade_in_food
							}
							if = { 
								limit = { 
									var:trade_buy_food >= 0.1
								}
								set_variable = { 
									name = trade_point_food
									value = var:trade_price_food
								}
								change_variable = { 
									name = trade_point_food
									subtract = prev.var:trade_price_food
								}
							}
							else = { 
								remove_variable = trade_buy_food
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_food = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_food
								var:trade_sply_food = { 
									compare_value > prev.var:trade_out_food
								}
							}
							set_variable = { 
								name = trade_sell_food
								value = var:trade_sply_food
							}
							change_variable = { 
								name = trade_sell_food
								subtract = var:trade_out_food
							}
							if = { 
								limit = { 
									var:trade_sell_food >= 0.1
								}
								set_variable = { 
									name = trade_point_food
									value = prev.var:trade_price_food
								}
								change_variable = { 
									name = trade_point_food
									subtract = var:trade_price_food
								}
							}
							else = { 
								remove_variable = trade_sell_food
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_food
						}
						change_variable = { 
							name = trade_point_food
							multiply = 100
						}
						change_variable = { 
							name = trade_point_food
							add = 1
						}
						change_variable = { 
							name = trade_point_food
							divide = trade_power_cost_food
						}
						change_variable = { 
							name = trade_point_food
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_food
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_food
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_food = 0
							}
							remove_variable = trade_point_food
							remove_variable = trade_buy_food
							remove_variable = trade_sell_food
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_food
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_food
										add = prev.var:trade_buy_food
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_food
										add = prev.var:trade_sell_food
									}
								}
							}
						}
					}
					remove_variable = trade_sell_cereal
					remove_variable = trade_buy_cereal
					remove_variable = trade_point_cereal
					if = { 
						limit = { 
							var:trade_price_cereal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_cereal
								var:trade_dmnd_cereal = { 
									compare_value > prev.var:trade_in_cereal
								}
							}
							set_variable = { 
								name = trade_buy_cereal
								value = var:trade_dmnd_cereal
							}
							change_variable = { 
								name = trade_buy_cereal
								subtract = var:trade_in_cereal
							}
							if = { 
								limit = { 
									var:trade_buy_cereal >= 0.1
								}
								set_variable = { 
									name = trade_point_cereal
									value = var:trade_price_cereal
								}
								change_variable = { 
									name = trade_point_cereal
									subtract = prev.var:trade_price_cereal
								}
							}
							else = { 
								remove_variable = trade_buy_cereal
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_cereal = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_cereal
								var:trade_sply_cereal = { 
									compare_value > prev.var:trade_out_cereal
								}
							}
							set_variable = { 
								name = trade_sell_cereal
								value = var:trade_sply_cereal
							}
							change_variable = { 
								name = trade_sell_cereal
								subtract = var:trade_out_cereal
							}
							if = { 
								limit = { 
									var:trade_sell_cereal >= 0.1
								}
								set_variable = { 
									name = trade_point_cereal
									value = prev.var:trade_price_cereal
								}
								change_variable = { 
									name = trade_point_cereal
									subtract = var:trade_price_cereal
								}
							}
							else = { 
								remove_variable = trade_sell_cereal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
						}
						change_variable = { 
							name = trade_point_cereal
							multiply = 100
						}
						change_variable = { 
							name = trade_point_cereal
							add = 1
						}
						change_variable = { 
							name = trade_point_cereal
							divide = trade_power_cost_cereal
						}
						change_variable = { 
							name = trade_point_cereal
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_cereal
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_cereal
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_cereal = 0
							}
							remove_variable = trade_point_cereal
							remove_variable = trade_buy_cereal
							remove_variable = trade_sell_cereal
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_cereal
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_cereal
										add = prev.var:trade_buy_cereal
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_cereal
										add = prev.var:trade_sell_cereal
									}
								}
							}
						}
					}
					remove_variable = trade_sell_salted
					remove_variable = trade_buy_salted
					remove_variable = trade_point_salted
					if = { 
						limit = { 
							var:trade_price_salted = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_salted
								var:trade_dmnd_salted = { 
									compare_value > prev.var:trade_in_salted
								}
							}
							set_variable = { 
								name = trade_buy_salted
								value = var:trade_dmnd_salted
							}
							change_variable = { 
								name = trade_buy_salted
								subtract = var:trade_in_salted
							}
							if = { 
								limit = { 
									var:trade_buy_salted >= 0.1
								}
								set_variable = { 
									name = trade_point_salted
									value = var:trade_price_salted
								}
								change_variable = { 
									name = trade_point_salted
									subtract = prev.var:trade_price_salted
								}
							}
							else = { 
								remove_variable = trade_buy_salted
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_salted = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_salted
								var:trade_sply_salted = { 
									compare_value > prev.var:trade_out_salted
								}
							}
							set_variable = { 
								name = trade_sell_salted
								value = var:trade_sply_salted
							}
							change_variable = { 
								name = trade_sell_salted
								subtract = var:trade_out_salted
							}
							if = { 
								limit = { 
									var:trade_sell_salted >= 0.1
								}
								set_variable = { 
									name = trade_point_salted
									value = prev.var:trade_price_salted
								}
								change_variable = { 
									name = trade_point_salted
									subtract = var:trade_price_salted
								}
							}
							else = { 
								remove_variable = trade_sell_salted
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
						}
						change_variable = { 
							name = trade_point_salted
							multiply = 100
						}
						change_variable = { 
							name = trade_point_salted
							add = 1
						}
						change_variable = { 
							name = trade_point_salted
							divide = trade_power_cost_salted
						}
						change_variable = { 
							name = trade_point_salted
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_salted
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_salted
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_salted = 0
							}
							remove_variable = trade_point_salted
							remove_variable = trade_buy_salted
							remove_variable = trade_sell_salted
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_salted
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_salted
										add = prev.var:trade_buy_salted
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_salted
										add = prev.var:trade_sell_salted
									}
								}
							}
						}
					}
					remove_variable = trade_sell_salt
					remove_variable = trade_buy_salt
					remove_variable = trade_point_salt
					if = { 
						limit = { 
							var:trade_price_salt = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_salt
								var:trade_dmnd_salt = { 
									compare_value > prev.var:trade_in_salt
								}
							}
							set_variable = { 
								name = trade_buy_salt
								value = var:trade_dmnd_salt
							}
							change_variable = { 
								name = trade_buy_salt
								subtract = var:trade_in_salt
							}
							if = { 
								limit = { 
									var:trade_buy_salt >= 0.1
								}
								set_variable = { 
									name = trade_point_salt
									value = var:trade_price_salt
								}
								change_variable = { 
									name = trade_point_salt
									subtract = prev.var:trade_price_salt
								}
							}
							else = { 
								remove_variable = trade_buy_salt
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_salt = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_salt
								var:trade_sply_salt = { 
									compare_value > prev.var:trade_out_salt
								}
							}
							set_variable = { 
								name = trade_sell_salt
								value = var:trade_sply_salt
							}
							change_variable = { 
								name = trade_sell_salt
								subtract = var:trade_out_salt
							}
							if = { 
								limit = { 
									var:trade_sell_salt >= 0.1
								}
								set_variable = { 
									name = trade_point_salt
									value = prev.var:trade_price_salt
								}
								change_variable = { 
									name = trade_point_salt
									subtract = var:trade_price_salt
								}
							}
							else = { 
								remove_variable = trade_sell_salt
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
						}
						change_variable = { 
							name = trade_point_salt
							multiply = 100
						}
						change_variable = { 
							name = trade_point_salt
							add = 1
						}
						change_variable = { 
							name = trade_point_salt
							divide = trade_power_cost_salt
						}
						change_variable = { 
							name = trade_point_salt
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_salt
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_salt
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_salt = 0
							}
							remove_variable = trade_point_salt
							remove_variable = trade_buy_salt
							remove_variable = trade_sell_salt
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_salt
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_salt
										add = prev.var:trade_buy_salt
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_salt
										add = prev.var:trade_sell_salt
									}
								}
							}
						}
					}
					remove_variable = trade_sell_mud
					remove_variable = trade_buy_mud
					remove_variable = trade_point_mud
					if = { 
						limit = { 
							var:trade_price_mud = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_mud
								var:trade_dmnd_mud = { 
									compare_value > prev.var:trade_in_mud
								}
							}
							set_variable = { 
								name = trade_buy_mud
								value = var:trade_dmnd_mud
							}
							change_variable = { 
								name = trade_buy_mud
								subtract = var:trade_in_mud
							}
							if = { 
								limit = { 
									var:trade_buy_mud >= 0.1
								}
								set_variable = { 
									name = trade_point_mud
									value = var:trade_price_mud
								}
								change_variable = { 
									name = trade_point_mud
									subtract = prev.var:trade_price_mud
								}
							}
							else = { 
								remove_variable = trade_buy_mud
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_mud = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_mud
								var:trade_sply_mud = { 
									compare_value > prev.var:trade_out_mud
								}
							}
							set_variable = { 
								name = trade_sell_mud
								value = var:trade_sply_mud
							}
							change_variable = { 
								name = trade_sell_mud
								subtract = var:trade_out_mud
							}
							if = { 
								limit = { 
									var:trade_sell_mud >= 0.1
								}
								set_variable = { 
									name = trade_point_mud
									value = prev.var:trade_price_mud
								}
								change_variable = { 
									name = trade_point_mud
									subtract = var:trade_price_mud
								}
							}
							else = { 
								remove_variable = trade_sell_mud
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
						}
						change_variable = { 
							name = trade_point_mud
							multiply = 100
						}
						change_variable = { 
							name = trade_point_mud
							add = 1
						}
						change_variable = { 
							name = trade_point_mud
							divide = trade_power_cost_mud
						}
						change_variable = { 
							name = trade_point_mud
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_mud
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_mud
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_mud = 0
							}
							remove_variable = trade_point_mud
							remove_variable = trade_buy_mud
							remove_variable = trade_sell_mud
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_mud
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_mud
										add = prev.var:trade_buy_mud
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_mud
										add = prev.var:trade_sell_mud
									}
								}
							}
						}
					}
					remove_variable = trade_sell_fuel
					remove_variable = trade_buy_fuel
					remove_variable = trade_point_fuel
					if = { 
						limit = { 
							var:trade_price_fuel = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_fuel
								var:trade_dmnd_fuel = { 
									compare_value > prev.var:trade_in_fuel
								}
							}
							set_variable = { 
								name = trade_buy_fuel
								value = var:trade_dmnd_fuel
							}
							change_variable = { 
								name = trade_buy_fuel
								subtract = var:trade_in_fuel
							}
							if = { 
								limit = { 
									var:trade_buy_fuel >= 0.1
								}
								set_variable = { 
									name = trade_point_fuel
									value = var:trade_price_fuel
								}
								change_variable = { 
									name = trade_point_fuel
									subtract = prev.var:trade_price_fuel
								}
							}
							else = { 
								remove_variable = trade_buy_fuel
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_fuel = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_fuel
								var:trade_sply_fuel = { 
									compare_value > prev.var:trade_out_fuel
								}
							}
							set_variable = { 
								name = trade_sell_fuel
								value = var:trade_sply_fuel
							}
							change_variable = { 
								name = trade_sell_fuel
								subtract = var:trade_out_fuel
							}
							if = { 
								limit = { 
									var:trade_sell_fuel >= 0.1
								}
								set_variable = { 
									name = trade_point_fuel
									value = prev.var:trade_price_fuel
								}
								change_variable = { 
									name = trade_point_fuel
									subtract = var:trade_price_fuel
								}
							}
							else = { 
								remove_variable = trade_sell_fuel
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
						}
						change_variable = { 
							name = trade_point_fuel
							multiply = 100
						}
						change_variable = { 
							name = trade_point_fuel
							add = 1
						}
						change_variable = { 
							name = trade_point_fuel
							divide = trade_power_cost_fuel
						}
						change_variable = { 
							name = trade_point_fuel
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_fuel
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_fuel
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_fuel = 0
							}
							remove_variable = trade_point_fuel
							remove_variable = trade_buy_fuel
							remove_variable = trade_sell_fuel
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_fuel
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_fuel
										add = prev.var:trade_buy_fuel
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_fuel
										add = prev.var:trade_sell_fuel
									}
								}
							}
						}
					}
					remove_variable = trade_sell_fiber
					remove_variable = trade_buy_fiber
					remove_variable = trade_point_fiber
					if = { 
						limit = { 
							var:trade_price_fiber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_fiber
								var:trade_dmnd_fiber = { 
									compare_value > prev.var:trade_in_fiber
								}
							}
							set_variable = { 
								name = trade_buy_fiber
								value = var:trade_dmnd_fiber
							}
							change_variable = { 
								name = trade_buy_fiber
								subtract = var:trade_in_fiber
							}
							if = { 
								limit = { 
									var:trade_buy_fiber >= 0.1
								}
								set_variable = { 
									name = trade_point_fiber
									value = var:trade_price_fiber
								}
								change_variable = { 
									name = trade_point_fiber
									subtract = prev.var:trade_price_fiber
								}
							}
							else = { 
								remove_variable = trade_buy_fiber
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_fiber = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_fiber
								var:trade_sply_fiber = { 
									compare_value > prev.var:trade_out_fiber
								}
							}
							set_variable = { 
								name = trade_sell_fiber
								value = var:trade_sply_fiber
							}
							change_variable = { 
								name = trade_sell_fiber
								subtract = var:trade_out_fiber
							}
							if = { 
								limit = { 
									var:trade_sell_fiber >= 0.1
								}
								set_variable = { 
									name = trade_point_fiber
									value = prev.var:trade_price_fiber
								}
								change_variable = { 
									name = trade_point_fiber
									subtract = var:trade_price_fiber
								}
							}
							else = { 
								remove_variable = trade_sell_fiber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
						}
						change_variable = { 
							name = trade_point_fiber
							multiply = 100
						}
						change_variable = { 
							name = trade_point_fiber
							add = 1
						}
						change_variable = { 
							name = trade_point_fiber
							divide = trade_power_cost_fiber
						}
						change_variable = { 
							name = trade_point_fiber
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_fiber
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_fiber
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_fiber = 0
							}
							remove_variable = trade_point_fiber
							remove_variable = trade_buy_fiber
							remove_variable = trade_sell_fiber
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_fiber
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_fiber
										add = prev.var:trade_buy_fiber
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_fiber
										add = prev.var:trade_sell_fiber
									}
								}
							}
						}
					}
					remove_variable = trade_sell_timber
					remove_variable = trade_buy_timber
					remove_variable = trade_point_timber
					if = { 
						limit = { 
							var:trade_price_timber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_timber
								var:trade_dmnd_timber = { 
									compare_value > prev.var:trade_in_timber
								}
							}
							set_variable = { 
								name = trade_buy_timber
								value = var:trade_dmnd_timber
							}
							change_variable = { 
								name = trade_buy_timber
								subtract = var:trade_in_timber
							}
							if = { 
								limit = { 
									var:trade_buy_timber >= 0.1
								}
								set_variable = { 
									name = trade_point_timber
									value = var:trade_price_timber
								}
								change_variable = { 
									name = trade_point_timber
									subtract = prev.var:trade_price_timber
								}
							}
							else = { 
								remove_variable = trade_buy_timber
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_timber = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_timber
								var:trade_sply_timber = { 
									compare_value > prev.var:trade_out_timber
								}
							}
							set_variable = { 
								name = trade_sell_timber
								value = var:trade_sply_timber
							}
							change_variable = { 
								name = trade_sell_timber
								subtract = var:trade_out_timber
							}
							if = { 
								limit = { 
									var:trade_sell_timber >= 0.1
								}
								set_variable = { 
									name = trade_point_timber
									value = prev.var:trade_price_timber
								}
								change_variable = { 
									name = trade_point_timber
									subtract = var:trade_price_timber
								}
							}
							else = { 
								remove_variable = trade_sell_timber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
						}
						change_variable = { 
							name = trade_point_timber
							multiply = 100
						}
						change_variable = { 
							name = trade_point_timber
							add = 1
						}
						change_variable = { 
							name = trade_point_timber
							divide = trade_power_cost_timber
						}
						change_variable = { 
							name = trade_point_timber
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_timber
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_timber
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_timber = 0
							}
							remove_variable = trade_point_timber
							remove_variable = trade_buy_timber
							remove_variable = trade_sell_timber
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_timber
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_timber
										add = prev.var:trade_buy_timber
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_timber
										add = prev.var:trade_sell_timber
									}
								}
							}
						}
					}
					remove_variable = trade_sell_metal
					remove_variable = trade_buy_metal
					remove_variable = trade_point_metal
					if = { 
						limit = { 
							var:trade_price_metal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_metal
								var:trade_dmnd_metal = { 
									compare_value > prev.var:trade_in_metal
								}
							}
							set_variable = { 
								name = trade_buy_metal
								value = var:trade_dmnd_metal
							}
							change_variable = { 
								name = trade_buy_metal
								subtract = var:trade_in_metal
							}
							if = { 
								limit = { 
									var:trade_buy_metal >= 0.1
								}
								set_variable = { 
									name = trade_point_metal
									value = var:trade_price_metal
								}
								change_variable = { 
									name = trade_point_metal
									subtract = prev.var:trade_price_metal
								}
							}
							else = { 
								remove_variable = trade_buy_metal
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_metal = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_metal
								var:trade_sply_metal = { 
									compare_value > prev.var:trade_out_metal
								}
							}
							set_variable = { 
								name = trade_sell_metal
								value = var:trade_sply_metal
							}
							change_variable = { 
								name = trade_sell_metal
								subtract = var:trade_out_metal
							}
							if = { 
								limit = { 
									var:trade_sell_metal >= 0.1
								}
								set_variable = { 
									name = trade_point_metal
									value = prev.var:trade_price_metal
								}
								change_variable = { 
									name = trade_point_metal
									subtract = var:trade_price_metal
								}
							}
							else = { 
								remove_variable = trade_sell_metal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
						}
						change_variable = { 
							name = trade_point_metal
							multiply = 100
						}
						change_variable = { 
							name = trade_point_metal
							add = 1
						}
						change_variable = { 
							name = trade_point_metal
							divide = trade_power_cost_metal
						}
						change_variable = { 
							name = trade_point_metal
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_metal
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_metal
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_metal = 0
							}
							remove_variable = trade_point_metal
							remove_variable = trade_buy_metal
							remove_variable = trade_sell_metal
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_metal
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_metal
										add = prev.var:trade_buy_metal
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_metal
										add = prev.var:trade_sell_metal
									}
								}
							}
						}
					}
					remove_variable = trade_sell_exotics_w
					remove_variable = trade_buy_exotics_w
					remove_variable = trade_point_exotics_w
					if = { 
						limit = { 
							var:trade_price_exotics_w = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_exotics_w
								var:trade_dmnd_exotics_w = { 
									compare_value > prev.var:trade_in_exotics_w
								}
							}
							set_variable = { 
								name = trade_buy_exotics_w
								value = var:trade_dmnd_exotics_w
							}
							change_variable = { 
								name = trade_buy_exotics_w
								subtract = var:trade_in_exotics_w
							}
							if = { 
								limit = { 
									var:trade_buy_exotics_w >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_w
									value = var:trade_price_exotics_w
								}
								change_variable = { 
									name = trade_point_exotics_w
									subtract = prev.var:trade_price_exotics_w
								}
							}
							else = { 
								remove_variable = trade_buy_exotics_w
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_exotics_w = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_exotics_w
								var:trade_sply_exotics_w = { 
									compare_value > prev.var:trade_out_exotics_w
								}
							}
							set_variable = { 
								name = trade_sell_exotics_w
								value = var:trade_sply_exotics_w
							}
							change_variable = { 
								name = trade_sell_exotics_w
								subtract = var:trade_out_exotics_w
							}
							if = { 
								limit = { 
									var:trade_sell_exotics_w >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_w
									value = prev.var:trade_price_exotics_w
								}
								change_variable = { 
									name = trade_point_exotics_w
									subtract = var:trade_price_exotics_w
								}
							}
							else = { 
								remove_variable = trade_sell_exotics_w
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
						}
						change_variable = { 
							name = trade_point_exotics_w
							multiply = 100
						}
						change_variable = { 
							name = trade_point_exotics_w
							add = 1
						}
						change_variable = { 
							name = trade_point_exotics_w
							divide = trade_power_cost_exotics_w
						}
						change_variable = { 
							name = trade_point_exotics_w
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_exotics_w
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_exotics_w
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_exotics_w = 0
							}
							remove_variable = trade_point_exotics_w
							remove_variable = trade_buy_exotics_w
							remove_variable = trade_sell_exotics_w
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_w
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_exotics_w
										add = prev.var:trade_buy_exotics_w
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_exotics_w
										add = prev.var:trade_sell_exotics_w
									}
								}
							}
						}
					}
					remove_variable = trade_sell_exotics_e
					remove_variable = trade_buy_exotics_e
					remove_variable = trade_point_exotics_e
					if = { 
						limit = { 
							var:trade_price_exotics_e = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_exotics_e
								var:trade_dmnd_exotics_e = { 
									compare_value > prev.var:trade_in_exotics_e
								}
							}
							set_variable = { 
								name = trade_buy_exotics_e
								value = var:trade_dmnd_exotics_e
							}
							change_variable = { 
								name = trade_buy_exotics_e
								subtract = var:trade_in_exotics_e
							}
							if = { 
								limit = { 
									var:trade_buy_exotics_e >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_e
									value = var:trade_price_exotics_e
								}
								change_variable = { 
									name = trade_point_exotics_e
									subtract = prev.var:trade_price_exotics_e
								}
							}
							else = { 
								remove_variable = trade_buy_exotics_e
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_exotics_e = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_exotics_e
								var:trade_sply_exotics_e = { 
									compare_value > prev.var:trade_out_exotics_e
								}
							}
							set_variable = { 
								name = trade_sell_exotics_e
								value = var:trade_sply_exotics_e
							}
							change_variable = { 
								name = trade_sell_exotics_e
								subtract = var:trade_out_exotics_e
							}
							if = { 
								limit = { 
									var:trade_sell_exotics_e >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_e
									value = prev.var:trade_price_exotics_e
								}
								change_variable = { 
									name = trade_point_exotics_e
									subtract = var:trade_price_exotics_e
								}
							}
							else = { 
								remove_variable = trade_sell_exotics_e
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
						}
						change_variable = { 
							name = trade_point_exotics_e
							multiply = 100
						}
						change_variable = { 
							name = trade_point_exotics_e
							add = 1
						}
						change_variable = { 
							name = trade_point_exotics_e
							divide = trade_power_cost_exotics_e
						}
						change_variable = { 
							name = trade_point_exotics_e
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_exotics_e
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_exotics_e
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_exotics_e = 0
							}
							remove_variable = trade_point_exotics_e
							remove_variable = trade_buy_exotics_e
							remove_variable = trade_sell_exotics_e
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_e
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_exotics_e
										add = prev.var:trade_buy_exotics_e
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_exotics_e
										add = prev.var:trade_sell_exotics_e
									}
								}
							}
						}
					}
					remove_variable = trade_sell_exotics_g
					remove_variable = trade_buy_exotics_g
					remove_variable = trade_point_exotics_g
					if = { 
						limit = { 
							var:trade_price_exotics_g = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_exotics_g
								var:trade_dmnd_exotics_g = { 
									compare_value > prev.var:trade_in_exotics_g
								}
							}
							set_variable = { 
								name = trade_buy_exotics_g
								value = var:trade_dmnd_exotics_g
							}
							change_variable = { 
								name = trade_buy_exotics_g
								subtract = var:trade_in_exotics_g
							}
							if = { 
								limit = { 
									var:trade_buy_exotics_g >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_g
									value = var:trade_price_exotics_g
								}
								change_variable = { 
									name = trade_point_exotics_g
									subtract = prev.var:trade_price_exotics_g
								}
							}
							else = { 
								remove_variable = trade_buy_exotics_g
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_exotics_g = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_exotics_g
								var:trade_sply_exotics_g = { 
									compare_value > prev.var:trade_out_exotics_g
								}
							}
							set_variable = { 
								name = trade_sell_exotics_g
								value = var:trade_sply_exotics_g
							}
							change_variable = { 
								name = trade_sell_exotics_g
								subtract = var:trade_out_exotics_g
							}
							if = { 
								limit = { 
									var:trade_sell_exotics_g >= 0.1
								}
								set_variable = { 
									name = trade_point_exotics_g
									value = prev.var:trade_price_exotics_g
								}
								change_variable = { 
									name = trade_point_exotics_g
									subtract = var:trade_price_exotics_g
								}
							}
							else = { 
								remove_variable = trade_sell_exotics_g
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
						}
						change_variable = { 
							name = trade_point_exotics_g
							multiply = 100
						}
						change_variable = { 
							name = trade_point_exotics_g
							add = 1
						}
						change_variable = { 
							name = trade_point_exotics_g
							divide = trade_power_cost_exotics_g
						}
						change_variable = { 
							name = trade_point_exotics_g
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_exotics_g
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_exotics_g
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_exotics_g = 0
							}
							remove_variable = trade_point_exotics_g
							remove_variable = trade_buy_exotics_g
							remove_variable = trade_sell_exotics_g
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_g
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_exotics_g
										add = prev.var:trade_buy_exotics_g
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_exotics_g
										add = prev.var:trade_sell_exotics_g
									}
								}
							}
						}
					}
					remove_variable = trade_sell_textile
					remove_variable = trade_buy_textile
					remove_variable = trade_point_textile
					if = { 
						limit = { 
							var:trade_price_textile = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_textile
								var:trade_dmnd_textile = { 
									compare_value > prev.var:trade_in_textile
								}
							}
							set_variable = { 
								name = trade_buy_textile
								value = var:trade_dmnd_textile
							}
							change_variable = { 
								name = trade_buy_textile
								subtract = var:trade_in_textile
							}
							if = { 
								limit = { 
									var:trade_buy_textile >= 0.1
								}
								set_variable = { 
									name = trade_point_textile
									value = var:trade_price_textile
								}
								change_variable = { 
									name = trade_point_textile
									subtract = prev.var:trade_price_textile
								}
							}
							else = { 
								remove_variable = trade_buy_textile
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_textile = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_textile
								var:trade_sply_textile = { 
									compare_value > prev.var:trade_out_textile
								}
							}
							set_variable = { 
								name = trade_sell_textile
								value = var:trade_sply_textile
							}
							change_variable = { 
								name = trade_sell_textile
								subtract = var:trade_out_textile
							}
							if = { 
								limit = { 
									var:trade_sell_textile >= 0.1
								}
								set_variable = { 
									name = trade_point_textile
									value = prev.var:trade_price_textile
								}
								change_variable = { 
									name = trade_point_textile
									subtract = var:trade_price_textile
								}
							}
							else = { 
								remove_variable = trade_sell_textile
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
						}
						change_variable = { 
							name = trade_point_textile
							multiply = 100
						}
						change_variable = { 
							name = trade_point_textile
							add = 1
						}
						change_variable = { 
							name = trade_point_textile
							divide = trade_power_cost_textile
						}
						change_variable = { 
							name = trade_point_textile
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_textile
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_textile
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_textile = 0
							}
							remove_variable = trade_point_textile
							remove_variable = trade_buy_textile
							remove_variable = trade_sell_textile
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_textile
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_textile
										add = prev.var:trade_buy_textile
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_textile
										add = prev.var:trade_sell_textile
									}
								}
							}
						}
					}
					remove_variable = trade_sell_pottery
					remove_variable = trade_buy_pottery
					remove_variable = trade_point_pottery
					if = { 
						limit = { 
							var:trade_price_pottery = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_pottery
								var:trade_dmnd_pottery = { 
									compare_value > prev.var:trade_in_pottery
								}
							}
							set_variable = { 
								name = trade_buy_pottery
								value = var:trade_dmnd_pottery
							}
							change_variable = { 
								name = trade_buy_pottery
								subtract = var:trade_in_pottery
							}
							if = { 
								limit = { 
									var:trade_buy_pottery >= 0.1
								}
								set_variable = { 
									name = trade_point_pottery
									value = var:trade_price_pottery
								}
								change_variable = { 
									name = trade_point_pottery
									subtract = prev.var:trade_price_pottery
								}
							}
							else = { 
								remove_variable = trade_buy_pottery
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_pottery = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_pottery
								var:trade_sply_pottery = { 
									compare_value > prev.var:trade_out_pottery
								}
							}
							set_variable = { 
								name = trade_sell_pottery
								value = var:trade_sply_pottery
							}
							change_variable = { 
								name = trade_sell_pottery
								subtract = var:trade_out_pottery
							}
							if = { 
								limit = { 
									var:trade_sell_pottery >= 0.1
								}
								set_variable = { 
									name = trade_point_pottery
									value = prev.var:trade_price_pottery
								}
								change_variable = { 
									name = trade_point_pottery
									subtract = var:trade_price_pottery
								}
							}
							else = { 
								remove_variable = trade_sell_pottery
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
						}
						change_variable = { 
							name = trade_point_pottery
							multiply = 100
						}
						change_variable = { 
							name = trade_point_pottery
							add = 1
						}
						change_variable = { 
							name = trade_point_pottery
							divide = trade_power_cost_pottery
						}
						change_variable = { 
							name = trade_point_pottery
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_pottery
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_pottery
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_pottery = 0
							}
							remove_variable = trade_point_pottery
							remove_variable = trade_buy_pottery
							remove_variable = trade_sell_pottery
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_pottery
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_pottery
										add = prev.var:trade_buy_pottery
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_pottery
										add = prev.var:trade_sell_pottery
									}
								}
							}
						}
					}
					remove_variable = trade_sell_tools
					remove_variable = trade_buy_tools
					remove_variable = trade_point_tools
					if = { 
						limit = { 
							var:trade_price_tools = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_tools
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_tools
								var:trade_dmnd_tools = { 
									compare_value > prev.var:trade_in_tools
								}
							}
							set_variable = { 
								name = trade_buy_tools
								value = var:trade_dmnd_tools
							}
							change_variable = { 
								name = trade_buy_tools
								subtract = var:trade_in_tools
							}
							if = { 
								limit = { 
									var:trade_buy_tools >= 0.1
								}
								set_variable = { 
									name = trade_point_tools
									value = var:trade_price_tools
								}
								change_variable = { 
									name = trade_point_tools
									subtract = prev.var:trade_price_tools
								}
							}
							else = { 
								remove_variable = trade_buy_tools
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_tools = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_tools
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_tools
								var:trade_sply_tools = { 
									compare_value > prev.var:trade_out_tools
								}
							}
							set_variable = { 
								name = trade_sell_tools
								value = var:trade_sply_tools
							}
							change_variable = { 
								name = trade_sell_tools
								subtract = var:trade_out_tools
							}
							if = { 
								limit = { 
									var:trade_sell_tools >= 0.1
								}
								set_variable = { 
									name = trade_point_tools
									value = prev.var:trade_price_tools
								}
								change_variable = { 
									name = trade_point_tools
									subtract = var:trade_price_tools
								}
							}
							else = { 
								remove_variable = trade_sell_tools
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
						}
						change_variable = { 
							name = trade_point_tools
							multiply = 100
						}
						change_variable = { 
							name = trade_point_tools
							add = 1
						}
						change_variable = { 
							name = trade_point_tools
							divide = trade_power_cost_tools
						}
						change_variable = { 
							name = trade_point_tools
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_tools
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_tools
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_tools = 0
							}
							remove_variable = trade_point_tools
							remove_variable = trade_buy_tools
							remove_variable = trade_sell_tools
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_tools
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_tools
										add = prev.var:trade_buy_tools
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_tools
										add = prev.var:trade_sell_tools
									}
								}
							}
						}
					}
					remove_variable = trade_sell_armaments
					remove_variable = trade_buy_armaments
					remove_variable = trade_point_armaments
					if = { 
						limit = { 
							var:trade_price_armaments = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_armaments
							}
						}
						if = { 
							limit = { 
								has_variable = trade_dmnd_armaments
								var:trade_dmnd_armaments = { 
									compare_value > prev.var:trade_in_armaments
								}
							}
							set_variable = { 
								name = trade_buy_armaments
								value = var:trade_dmnd_armaments
							}
							change_variable = { 
								name = trade_buy_armaments
								subtract = var:trade_in_armaments
							}
							if = { 
								limit = { 
									var:trade_buy_armaments >= 0.1
								}
								set_variable = { 
									name = trade_point_armaments
									value = var:trade_price_armaments
								}
								change_variable = { 
									name = trade_point_armaments
									subtract = prev.var:trade_price_armaments
								}
							}
							else = { 
								remove_variable = trade_buy_armaments
							}
						}
					}
					else_if = { 
						limit = { 
							var:trade_price_armaments = { 
								compare_value < global_var:trade_do_trade_select.var:trade_price_armaments
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sply_armaments
								var:trade_sply_armaments = { 
									compare_value > prev.var:trade_out_armaments
								}
							}
							set_variable = { 
								name = trade_sell_armaments
								value = var:trade_sply_armaments
							}
							change_variable = { 
								name = trade_sell_armaments
								subtract = var:trade_out_armaments
							}
							if = { 
								limit = { 
									var:trade_sell_armaments >= 0.1
								}
								set_variable = { 
									name = trade_point_armaments
									value = prev.var:trade_price_armaments
								}
								change_variable = { 
									name = trade_point_armaments
									subtract = var:trade_price_armaments
								}
							}
							else = { 
								remove_variable = trade_sell_armaments
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_armaments
						}
						change_variable = { 
							name = trade_point_armaments
							multiply = 100
						}
						change_variable = { 
							name = trade_point_armaments
							add = 1
						}
						change_variable = { 
							name = trade_point_armaments
							divide = trade_power_cost_armaments
						}
						change_variable = { 
							name = trade_point_armaments
							divide = var:trade_cost
						}
						if = { 
							limit = { 
								has_variable = task_manage_stockpile
							}
							change_variable = { 
								name = trade_point_armaments
								multiply = var:task_manage_stockpile.var:task_time_in
							}
							change_variable = { 
								name = trade_point_armaments
								divide = 100
							}
						}
						if = { 
							limit = { 
								var:trade_point_armaments = 0
							}
							remove_variable = trade_point_armaments
							remove_variable = trade_buy_armaments
							remove_variable = trade_sell_armaments
						}
						else = { 
							if = { 
								limit = { 
									has_variable = trade_buy_armaments
								}
								prev = { 
									change_variable = { 
										name = trade_sum_buy_armaments
										add = prev.var:trade_buy_armaments
									}
								}
							}
							else = { 
								prev = { 
									change_variable = { 
										name = trade_sum_sell_armaments
										add = prev.var:trade_sell_armaments
									}
								}
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_food = 0
								NOT = { 
									var:trade_sum_buy_food = 0
								}
							}
							var:trade_sell_food = { 
								compare_value < prev.var:trade_sum_buy_food
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_food
							has_variable = trade_buy_food
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_food = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_food
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_food
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_food
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_food
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_food
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_food
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_food
							has_variable = trade_buy_food
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_food
							remove_variable = trade_buy_food
						}
						else = { 
							set_variable = { 
								name = trade_buy_food
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_food
									add = prev.var:trade_buy_food
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_cereal = 0
								NOT = { 
									var:trade_sum_buy_cereal = 0
								}
							}
							var:trade_sell_cereal = { 
								compare_value < prev.var:trade_sum_buy_cereal
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_cereal
							has_variable = trade_buy_cereal
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_cereal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_cereal
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_cereal
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_cereal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_cereal
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_cereal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_cereal
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_cereal
							has_variable = trade_buy_cereal
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_cereal
							remove_variable = trade_buy_cereal
						}
						else = { 
							set_variable = { 
								name = trade_buy_cereal
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_cereal
									add = prev.var:trade_buy_cereal
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_salted = 0
								NOT = { 
									var:trade_sum_buy_salted = 0
								}
							}
							var:trade_sell_salted = { 
								compare_value < prev.var:trade_sum_buy_salted
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salted
							has_variable = trade_buy_salted
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_salted = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salted
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_salted
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_salted
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_salted
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_salted
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_salted
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salted
							has_variable = trade_buy_salted
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_salted
							remove_variable = trade_buy_salted
						}
						else = { 
							set_variable = { 
								name = trade_buy_salted
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_salted
									add = prev.var:trade_buy_salted
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_salt = 0
								NOT = { 
									var:trade_sum_buy_salt = 0
								}
							}
							var:trade_sell_salt = { 
								compare_value < prev.var:trade_sum_buy_salt
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salt
							has_variable = trade_buy_salt
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_salt = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salt
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_salt
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_salt
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_salt
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_salt
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_salt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salt
							has_variable = trade_buy_salt
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_salt
							remove_variable = trade_buy_salt
						}
						else = { 
							set_variable = { 
								name = trade_buy_salt
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_salt
									add = prev.var:trade_buy_salt
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_mud = 0
								NOT = { 
									var:trade_sum_buy_mud = 0
								}
							}
							var:trade_sell_mud = { 
								compare_value < prev.var:trade_sum_buy_mud
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_mud
							has_variable = trade_buy_mud
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_mud = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_mud
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_mud
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_mud
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_mud
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_mud
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_mud
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_mud
							has_variable = trade_buy_mud
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_mud
							remove_variable = trade_buy_mud
						}
						else = { 
							set_variable = { 
								name = trade_buy_mud
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_mud
									add = prev.var:trade_buy_mud
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_fuel = 0
								NOT = { 
									var:trade_sum_buy_fuel = 0
								}
							}
							var:trade_sell_fuel = { 
								compare_value < prev.var:trade_sum_buy_fuel
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fuel
							has_variable = trade_buy_fuel
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_fuel = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fuel
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_fuel
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_fuel
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_fuel
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_fuel
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_fuel
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fuel
							has_variable = trade_buy_fuel
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_fuel
							remove_variable = trade_buy_fuel
						}
						else = { 
							set_variable = { 
								name = trade_buy_fuel
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_fuel
									add = prev.var:trade_buy_fuel
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_fiber = 0
								NOT = { 
									var:trade_sum_buy_fiber = 0
								}
							}
							var:trade_sell_fiber = { 
								compare_value < prev.var:trade_sum_buy_fiber
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fiber
							has_variable = trade_buy_fiber
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_fiber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fiber
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_fiber
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_fiber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_fiber
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_fiber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_fiber
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fiber
							has_variable = trade_buy_fiber
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_fiber
							remove_variable = trade_buy_fiber
						}
						else = { 
							set_variable = { 
								name = trade_buy_fiber
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_fiber
									add = prev.var:trade_buy_fiber
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_timber = 0
								NOT = { 
									var:trade_sum_buy_timber = 0
								}
							}
							var:trade_sell_timber = { 
								compare_value < prev.var:trade_sum_buy_timber
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_timber
							has_variable = trade_buy_timber
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_timber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_timber
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_timber
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_timber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_timber
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_timber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_timber
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_timber
							has_variable = trade_buy_timber
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_timber
							remove_variable = trade_buy_timber
						}
						else = { 
							set_variable = { 
								name = trade_buy_timber
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_timber
									add = prev.var:trade_buy_timber
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_metal = 0
								NOT = { 
									var:trade_sum_buy_metal = 0
								}
							}
							var:trade_sell_metal = { 
								compare_value < prev.var:trade_sum_buy_metal
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_metal
							has_variable = trade_buy_metal
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_metal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_metal
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_metal
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_metal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_metal
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_metal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_metal
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_metal
							has_variable = trade_buy_metal
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_metal
							remove_variable = trade_buy_metal
						}
						else = { 
							set_variable = { 
								name = trade_buy_metal
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_metal
									add = prev.var:trade_buy_metal
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_exotics_w = 0
								NOT = { 
									var:trade_sum_buy_exotics_w = 0
								}
							}
							var:trade_sell_exotics_w = { 
								compare_value < prev.var:trade_sum_buy_exotics_w
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_w
							has_variable = trade_buy_exotics_w
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_w = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_w
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_exotics_w
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_exotics_w
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_exotics_w
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_exotics_w
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_exotics_w
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_w
							has_variable = trade_buy_exotics_w
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_w
							remove_variable = trade_buy_exotics_w
						}
						else = { 
							set_variable = { 
								name = trade_buy_exotics_w
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_exotics_w
									add = prev.var:trade_buy_exotics_w
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_exotics_e = 0
								NOT = { 
									var:trade_sum_buy_exotics_e = 0
								}
							}
							var:trade_sell_exotics_e = { 
								compare_value < prev.var:trade_sum_buy_exotics_e
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_e
							has_variable = trade_buy_exotics_e
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_e = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_e
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_exotics_e
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_exotics_e
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_exotics_e
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_exotics_e
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_exotics_e
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_e
							has_variable = trade_buy_exotics_e
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_e
							remove_variable = trade_buy_exotics_e
						}
						else = { 
							set_variable = { 
								name = trade_buy_exotics_e
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_exotics_e
									add = prev.var:trade_buy_exotics_e
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_exotics_g = 0
								NOT = { 
									var:trade_sum_buy_exotics_g = 0
								}
							}
							var:trade_sell_exotics_g = { 
								compare_value < prev.var:trade_sum_buy_exotics_g
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_g
							has_variable = trade_buy_exotics_g
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_g = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_g
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_exotics_g
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_exotics_g
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_exotics_g
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_exotics_g
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_exotics_g
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_g
							has_variable = trade_buy_exotics_g
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_g
							remove_variable = trade_buy_exotics_g
						}
						else = { 
							set_variable = { 
								name = trade_buy_exotics_g
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_exotics_g
									add = prev.var:trade_buy_exotics_g
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_textile = 0
								NOT = { 
									var:trade_sum_buy_textile = 0
								}
							}
							var:trade_sell_textile = { 
								compare_value < prev.var:trade_sum_buy_textile
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_textile
							has_variable = trade_buy_textile
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_textile = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_textile
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_textile
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_textile
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_textile
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_textile
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_textile
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_textile
							has_variable = trade_buy_textile
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_textile
							remove_variable = trade_buy_textile
						}
						else = { 
							set_variable = { 
								name = trade_buy_textile
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_textile
									add = prev.var:trade_buy_textile
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_pottery = 0
								NOT = { 
									var:trade_sum_buy_pottery = 0
								}
							}
							var:trade_sell_pottery = { 
								compare_value < prev.var:trade_sum_buy_pottery
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_pottery
							has_variable = trade_buy_pottery
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_pottery = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_pottery
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_pottery
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_pottery
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_pottery
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_pottery
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_pottery
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_pottery
							has_variable = trade_buy_pottery
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_pottery
							remove_variable = trade_buy_pottery
						}
						else = { 
							set_variable = { 
								name = trade_buy_pottery
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_pottery
									add = prev.var:trade_buy_pottery
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_tools = 0
								NOT = { 
									var:trade_sum_buy_tools = 0
								}
							}
							var:trade_sell_tools = { 
								compare_value < prev.var:trade_sum_buy_tools
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_tools
							has_variable = trade_buy_tools
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_tools = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_tools
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_tools
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_tools
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_tools
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_tools
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_tools
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_tools
							has_variable = trade_buy_tools
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_tools
							remove_variable = trade_buy_tools
						}
						else = { 
							set_variable = { 
								name = trade_buy_tools
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_tools
									add = prev.var:trade_buy_tools
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_sell_armaments = 0
								NOT = { 
									var:trade_sum_buy_armaments = 0
								}
							}
							var:trade_sell_armaments = { 
								compare_value < prev.var:trade_sum_buy_armaments
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_armaments
							has_variable = trade_buy_armaments
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_armaments = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_armaments
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_sell_armaments
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_buy_armaments
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_buy_armaments
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_buy_armaments
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_buy_armaments
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_armaments
							has_variable = trade_buy_armaments
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_armaments
							remove_variable = trade_buy_armaments
						}
						else = { 
							set_variable = { 
								name = trade_buy_armaments
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_buy_armaments
									add = prev.var:trade_buy_armaments
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_food = 0
								NOT = { 
									var:trade_sum_sell_food = 0
								}
							}
							var:trade_buy_food = { 
								compare_value < prev.var:trade_sum_sell_food
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_food
							has_variable = trade_sell_food
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_food = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_food
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_food
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_food
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_food
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_food
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_food
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_food
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_food
							has_variable = trade_sell_food
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_food
							remove_variable = trade_sell_food
						}
						else = { 
							set_variable = { 
								name = trade_sell_food
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_food
									add = prev.var:trade_sell_food
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_cereal = 0
								NOT = { 
									var:trade_sum_sell_cereal = 0
								}
							}
							var:trade_buy_cereal = { 
								compare_value < prev.var:trade_sum_sell_cereal
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_cereal
							has_variable = trade_sell_cereal
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_cereal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_cereal
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_cereal
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_cereal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_cereal
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_cereal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_cereal
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_cereal
							has_variable = trade_sell_cereal
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_cereal
							remove_variable = trade_sell_cereal
						}
						else = { 
							set_variable = { 
								name = trade_sell_cereal
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_cereal
									add = prev.var:trade_sell_cereal
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_salted = 0
								NOT = { 
									var:trade_sum_sell_salted = 0
								}
							}
							var:trade_buy_salted = { 
								compare_value < prev.var:trade_sum_sell_salted
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salted
							has_variable = trade_sell_salted
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_salted = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salted
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_salted
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_salted
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_salted
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_salted
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_salted
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salted
							has_variable = trade_sell_salted
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_salted
							remove_variable = trade_sell_salted
						}
						else = { 
							set_variable = { 
								name = trade_sell_salted
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_salted
									add = prev.var:trade_sell_salted
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_salt = 0
								NOT = { 
									var:trade_sum_sell_salt = 0
								}
							}
							var:trade_buy_salt = { 
								compare_value < prev.var:trade_sum_sell_salt
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salt
							has_variable = trade_sell_salt
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_salt = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salt
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_salt
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_salt
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_salt
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_salt
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_salt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_salt
							has_variable = trade_sell_salt
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_salt
							remove_variable = trade_sell_salt
						}
						else = { 
							set_variable = { 
								name = trade_sell_salt
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_salt
									add = prev.var:trade_sell_salt
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_mud = 0
								NOT = { 
									var:trade_sum_sell_mud = 0
								}
							}
							var:trade_buy_mud = { 
								compare_value < prev.var:trade_sum_sell_mud
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_mud
							has_variable = trade_sell_mud
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_mud = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_mud
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_mud
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_mud
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_mud
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_mud
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_mud
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_mud
							has_variable = trade_sell_mud
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_mud
							remove_variable = trade_sell_mud
						}
						else = { 
							set_variable = { 
								name = trade_sell_mud
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_mud
									add = prev.var:trade_sell_mud
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_fuel = 0
								NOT = { 
									var:trade_sum_sell_fuel = 0
								}
							}
							var:trade_buy_fuel = { 
								compare_value < prev.var:trade_sum_sell_fuel
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fuel
							has_variable = trade_sell_fuel
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_fuel = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fuel
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_fuel
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_fuel
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_fuel
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_fuel
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_fuel
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fuel
							has_variable = trade_sell_fuel
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_fuel
							remove_variable = trade_sell_fuel
						}
						else = { 
							set_variable = { 
								name = trade_sell_fuel
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_fuel
									add = prev.var:trade_sell_fuel
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_fiber = 0
								NOT = { 
									var:trade_sum_sell_fiber = 0
								}
							}
							var:trade_buy_fiber = { 
								compare_value < prev.var:trade_sum_sell_fiber
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fiber
							has_variable = trade_sell_fiber
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_fiber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fiber
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_fiber
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_fiber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_fiber
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_fiber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_fiber
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_fiber
							has_variable = trade_sell_fiber
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_fiber
							remove_variable = trade_sell_fiber
						}
						else = { 
							set_variable = { 
								name = trade_sell_fiber
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_fiber
									add = prev.var:trade_sell_fiber
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_timber = 0
								NOT = { 
									var:trade_sum_sell_timber = 0
								}
							}
							var:trade_buy_timber = { 
								compare_value < prev.var:trade_sum_sell_timber
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_timber
							has_variable = trade_sell_timber
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_timber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_timber
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_timber
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_timber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_timber
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_timber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_timber
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_timber
							has_variable = trade_sell_timber
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_timber
							remove_variable = trade_sell_timber
						}
						else = { 
							set_variable = { 
								name = trade_sell_timber
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_timber
									add = prev.var:trade_sell_timber
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_metal = 0
								NOT = { 
									var:trade_sum_sell_metal = 0
								}
							}
							var:trade_buy_metal = { 
								compare_value < prev.var:trade_sum_sell_metal
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_metal
							has_variable = trade_sell_metal
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_metal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_metal
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_metal
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_metal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_metal
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_metal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_metal
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_metal
							has_variable = trade_sell_metal
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_metal
							remove_variable = trade_sell_metal
						}
						else = { 
							set_variable = { 
								name = trade_sell_metal
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_metal
									add = prev.var:trade_sell_metal
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_exotics_w = 0
								NOT = { 
									var:trade_sum_sell_exotics_w = 0
								}
							}
							var:trade_buy_exotics_w = { 
								compare_value < prev.var:trade_sum_sell_exotics_w
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_w
							has_variable = trade_sell_exotics_w
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_w = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_w
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_exotics_w
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_exotics_w
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_exotics_w
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_exotics_w
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_exotics_w
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_w
							has_variable = trade_sell_exotics_w
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_w
							remove_variable = trade_sell_exotics_w
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_w
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_exotics_w
									add = prev.var:trade_sell_exotics_w
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_exotics_e = 0
								NOT = { 
									var:trade_sum_sell_exotics_e = 0
								}
							}
							var:trade_buy_exotics_e = { 
								compare_value < prev.var:trade_sum_sell_exotics_e
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_e
							has_variable = trade_sell_exotics_e
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_e = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_e
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_exotics_e
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_exotics_e
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_exotics_e
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_exotics_e
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_exotics_e
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_e
							has_variable = trade_sell_exotics_e
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_e
							remove_variable = trade_sell_exotics_e
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_e
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_exotics_e
									add = prev.var:trade_sell_exotics_e
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_exotics_g = 0
								NOT = { 
									var:trade_sum_sell_exotics_g = 0
								}
							}
							var:trade_buy_exotics_g = { 
								compare_value < prev.var:trade_sum_sell_exotics_g
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_g
							has_variable = trade_sell_exotics_g
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_exotics_g = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_g
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_exotics_g
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_exotics_g
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_exotics_g
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_exotics_g
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_exotics_g
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_exotics_g
							has_variable = trade_sell_exotics_g
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_exotics_g
							remove_variable = trade_sell_exotics_g
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_g
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_exotics_g
									add = prev.var:trade_sell_exotics_g
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_textile = 0
								NOT = { 
									var:trade_sum_sell_textile = 0
								}
							}
							var:trade_buy_textile = { 
								compare_value < prev.var:trade_sum_sell_textile
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_textile
							has_variable = trade_sell_textile
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_textile = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_textile
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_textile
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_textile
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_textile
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_textile
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_textile
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_textile
							has_variable = trade_sell_textile
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_textile
							remove_variable = trade_sell_textile
						}
						else = { 
							set_variable = { 
								name = trade_sell_textile
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_textile
									add = prev.var:trade_sell_textile
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_pottery = 0
								NOT = { 
									var:trade_sum_sell_pottery = 0
								}
							}
							var:trade_buy_pottery = { 
								compare_value < prev.var:trade_sum_sell_pottery
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_pottery
							has_variable = trade_sell_pottery
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_pottery = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_pottery
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_pottery
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_pottery
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_pottery
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_pottery
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_pottery
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_pottery
							has_variable = trade_sell_pottery
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_pottery
							remove_variable = trade_sell_pottery
						}
						else = { 
							set_variable = { 
								name = trade_sell_pottery
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_pottery
									add = prev.var:trade_sell_pottery
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_tools = 0
								NOT = { 
									var:trade_sum_sell_tools = 0
								}
							}
							var:trade_buy_tools = { 
								compare_value < prev.var:trade_sum_sell_tools
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_tools
							has_variable = trade_sell_tools
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_tools = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_tools
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_tools
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_tools
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_tools
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_tools
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_tools
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_tools
							has_variable = trade_sell_tools
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_tools
							remove_variable = trade_sell_tools
						}
						else = { 
							set_variable = { 
								name = trade_sell_tools
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_tools
									add = prev.var:trade_sell_tools
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								var:trade_buy_armaments = 0
								NOT = { 
									var:trade_sum_sell_armaments = 0
								}
							}
							var:trade_buy_armaments = { 
								compare_value < prev.var:trade_sum_sell_armaments
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_armaments
							has_variable = trade_sell_armaments
						}
						variable = trade_do_trade_list
						add_to_global_variable_list = { 
							name = trade_do_trade_t
							target = this
						}
						if = { 
							limit = { 
								var:trade_point_armaments = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_armaments
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_point_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = prev.var:trade_do_trade_t
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_buy_armaments
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								add = var:trade_do_trade_ttt
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt
									var:trade_do_trade_tt = { 
										compare_value >= prev.var:trade_sell_armaments
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt
									subtract = var:trade_do_trade_tt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_sell_armaments
								}
								set_variable = { 
									name = trade_do_trade_tt
									value = var:trade_sell_armaments
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t
									}
								}
								remove_list_global_variable = { 
									name = trade_do_trade_t
									target = this
								}
								set_variable = { 
									name = trade_do_trade_t
									value = 0
								}
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 0.2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					set_variable = { 
						name = trade_sum_sell_armaments
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_point_armaments
							has_variable = trade_sell_armaments
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_tt
									}
									var:trade_do_trade_tt = 0
								}
							}
							remove_variable = trade_point_armaments
							remove_variable = trade_sell_armaments
						}
						else = { 
							set_variable = { 
								name = trade_sell_armaments
								value = var:trade_do_trade_tt
							}
							prev = { 
								change_variable = { 
									name = trade_sum_sell_armaments
									add = prev.var:trade_sell_armaments
								}
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
				}
				set_variable = { 
					name = trade_cost
					value = 0
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					if = { 
						limit = { 
							has_variable = trade_point_food
						}
						if = { 
							limit = { 
								has_variable = trade_buy_food
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_food
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_food
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_food
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
						}
						if = { 
							limit = { 
								has_variable = trade_buy_cereal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_cereal
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_cereal
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
						}
						if = { 
							limit = { 
								has_variable = trade_buy_salted
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_salted
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_salted
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
						}
						if = { 
							limit = { 
								has_variable = trade_buy_salt
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_salt
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_salt
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
						}
						if = { 
							limit = { 
								has_variable = trade_buy_mud
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_mud
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_mud
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
						}
						if = { 
							limit = { 
								has_variable = trade_buy_fuel
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_fuel
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_fuel
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
						}
						if = { 
							limit = { 
								has_variable = trade_buy_fiber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_fiber
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_fiber
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
						}
						if = { 
							limit = { 
								has_variable = trade_buy_timber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_timber
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_timber
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
						}
						if = { 
							limit = { 
								has_variable = trade_buy_metal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_metal
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_metal
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_w
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_w
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_e
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_e
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_g
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_g
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
						}
						if = { 
							limit = { 
								has_variable = trade_buy_textile
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_textile
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_textile
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
						}
						if = { 
							limit = { 
								has_variable = trade_buy_pottery
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_pottery
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_pottery
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
						}
						if = { 
							limit = { 
								has_variable = trade_buy_tools
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_tools
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_tools
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_armaments
						}
						if = { 
							limit = { 
								has_variable = trade_buy_armaments
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_armaments
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_armaments
							}
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = trade_power_cost_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_tt
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_t
								}
								var:trade_do_trade_t < 0.1
							}
						}
						remove_list_global_variable = { 
							name = trade_do_trade_list
							target = this
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_t
							multiply = var:trade_cost
						}
						prev = { 
							change_variable = { 
								name = trade_cost
								add = prev.var:trade_do_trade_t
							}
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_cost
						var:trade_cost = { 
							compare_value > prev.var:trade_power_t
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0.001
					}
					every_in_global_list = { 
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_point_food
								var:trade_point_food = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_food
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_cereal
								var:trade_point_cereal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_cereal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salted
								var:trade_point_salted = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salted
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salt
								var:trade_point_salt = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_salt
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_mud
								var:trade_point_mud = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_mud
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fuel
								var:trade_point_fuel = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fuel
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fiber
								var:trade_point_fiber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_fiber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_timber
								var:trade_point_timber = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_timber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_metal
								var:trade_point_metal = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_metal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_w
								var:trade_point_exotics_w = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_w
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_e
								var:trade_point_exotics_e = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_e
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_g
								var:trade_point_exotics_g = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_exotics_g
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_textile
								var:trade_point_textile = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_textile
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_pottery
								var:trade_point_pottery = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_pottery
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_tools
								var:trade_point_tools = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_tools
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_armaments
								var:trade_point_armaments = { 
									compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
								}
							}
							prev = { 
								set_variable = { 
									name = trade_do_trade_t
									value = prev.var:trade_point_armaments
								}
							}
						}
					}
					every_in_global_list = { 
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_t
							value = 0
						}
						if = { 
							limit = { 
								has_variable = trade_point_food
							}
							set_variable = { 
								name = trade_do_trade_t_food
								value = var:trade_point_food
							}
							change_variable = { 
								name = trade_do_trade_t_food
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_food
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_food
							}
							set_variable = { 
								name = trade_do_trade_tt_food
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_food
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_food
								}
								set_variable = { 
									name = trade_do_trade_tttt_food
									value = var:trade_buy_food
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_food
									value = var:trade_sell_food
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_food
							remove_variable = trade_do_trade_ttt_food
							remove_variable = trade_do_trade_tttt_food
						}
						if = { 
							limit = { 
								has_variable = trade_point_cereal
							}
							set_variable = { 
								name = trade_do_trade_t_cereal
								value = var:trade_point_cereal
							}
							change_variable = { 
								name = trade_do_trade_t_cereal
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_cereal
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_cereal
							}
							set_variable = { 
								name = trade_do_trade_tt_cereal
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_cereal
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_cereal
								}
								set_variable = { 
									name = trade_do_trade_tttt_cereal
									value = var:trade_buy_cereal
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_cereal
									value = var:trade_sell_cereal
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_cereal
							remove_variable = trade_do_trade_ttt_cereal
							remove_variable = trade_do_trade_tttt_cereal
						}
						if = { 
							limit = { 
								has_variable = trade_point_salted
							}
							set_variable = { 
								name = trade_do_trade_t_salted
								value = var:trade_point_salted
							}
							change_variable = { 
								name = trade_do_trade_t_salted
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_salted
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_salted
							}
							set_variable = { 
								name = trade_do_trade_tt_salted
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_salted
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_salted
								}
								set_variable = { 
									name = trade_do_trade_tttt_salted
									value = var:trade_buy_salted
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_salted
									value = var:trade_sell_salted
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_salted
							remove_variable = trade_do_trade_ttt_salted
							remove_variable = trade_do_trade_tttt_salted
						}
						if = { 
							limit = { 
								has_variable = trade_point_salt
							}
							set_variable = { 
								name = trade_do_trade_t_salt
								value = var:trade_point_salt
							}
							change_variable = { 
								name = trade_do_trade_t_salt
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_salt
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_salt
							}
							set_variable = { 
								name = trade_do_trade_tt_salt
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_salt
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_salt
								}
								set_variable = { 
									name = trade_do_trade_tttt_salt
									value = var:trade_buy_salt
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_salt
									value = var:trade_sell_salt
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_salt
							remove_variable = trade_do_trade_ttt_salt
							remove_variable = trade_do_trade_tttt_salt
						}
						if = { 
							limit = { 
								has_variable = trade_point_mud
							}
							set_variable = { 
								name = trade_do_trade_t_mud
								value = var:trade_point_mud
							}
							change_variable = { 
								name = trade_do_trade_t_mud
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_mud
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_mud
							}
							set_variable = { 
								name = trade_do_trade_tt_mud
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_mud
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_mud
								}
								set_variable = { 
									name = trade_do_trade_tttt_mud
									value = var:trade_buy_mud
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_mud
									value = var:trade_sell_mud
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_mud
							remove_variable = trade_do_trade_ttt_mud
							remove_variable = trade_do_trade_tttt_mud
						}
						if = { 
							limit = { 
								has_variable = trade_point_fuel
							}
							set_variable = { 
								name = trade_do_trade_t_fuel
								value = var:trade_point_fuel
							}
							change_variable = { 
								name = trade_do_trade_t_fuel
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_fuel
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_fuel
							}
							set_variable = { 
								name = trade_do_trade_tt_fuel
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_fuel
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_fuel
								}
								set_variable = { 
									name = trade_do_trade_tttt_fuel
									value = var:trade_buy_fuel
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_fuel
									value = var:trade_sell_fuel
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_fuel
							remove_variable = trade_do_trade_ttt_fuel
							remove_variable = trade_do_trade_tttt_fuel
						}
						if = { 
							limit = { 
								has_variable = trade_point_fiber
							}
							set_variable = { 
								name = trade_do_trade_t_fiber
								value = var:trade_point_fiber
							}
							change_variable = { 
								name = trade_do_trade_t_fiber
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_fiber
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_fiber
							}
							set_variable = { 
								name = trade_do_trade_tt_fiber
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_fiber
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_fiber
								}
								set_variable = { 
									name = trade_do_trade_tttt_fiber
									value = var:trade_buy_fiber
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_fiber
									value = var:trade_sell_fiber
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_fiber
							remove_variable = trade_do_trade_ttt_fiber
							remove_variable = trade_do_trade_tttt_fiber
						}
						if = { 
							limit = { 
								has_variable = trade_point_timber
							}
							set_variable = { 
								name = trade_do_trade_t_timber
								value = var:trade_point_timber
							}
							change_variable = { 
								name = trade_do_trade_t_timber
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_timber
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_timber
							}
							set_variable = { 
								name = trade_do_trade_tt_timber
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_timber
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_timber
								}
								set_variable = { 
									name = trade_do_trade_tttt_timber
									value = var:trade_buy_timber
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_timber
									value = var:trade_sell_timber
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_timber
							remove_variable = trade_do_trade_ttt_timber
							remove_variable = trade_do_trade_tttt_timber
						}
						if = { 
							limit = { 
								has_variable = trade_point_metal
							}
							set_variable = { 
								name = trade_do_trade_t_metal
								value = var:trade_point_metal
							}
							change_variable = { 
								name = trade_do_trade_t_metal
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_metal
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_metal
							}
							set_variable = { 
								name = trade_do_trade_tt_metal
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_metal
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_metal
								}
								set_variable = { 
									name = trade_do_trade_tttt_metal
									value = var:trade_buy_metal
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_metal
									value = var:trade_sell_metal
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_metal
							remove_variable = trade_do_trade_ttt_metal
							remove_variable = trade_do_trade_tttt_metal
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_t_exotics_w
								value = var:trade_point_exotics_w
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_w
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_w
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_tt_exotics_w
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_w
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_w
								}
								set_variable = { 
									name = trade_do_trade_tttt_exotics_w
									value = var:trade_buy_exotics_w
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_exotics_w
									value = var:trade_sell_exotics_w
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_exotics_w
							remove_variable = trade_do_trade_ttt_exotics_w
							remove_variable = trade_do_trade_tttt_exotics_w
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_t_exotics_e
								value = var:trade_point_exotics_e
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_e
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_e
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_tt_exotics_e
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_e
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_e
								}
								set_variable = { 
									name = trade_do_trade_tttt_exotics_e
									value = var:trade_buy_exotics_e
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_exotics_e
									value = var:trade_sell_exotics_e
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_exotics_e
							remove_variable = trade_do_trade_ttt_exotics_e
							remove_variable = trade_do_trade_tttt_exotics_e
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_t_exotics_g
								value = var:trade_point_exotics_g
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_g
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_exotics_g
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_tt_exotics_g
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_g
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_exotics_g
								}
								set_variable = { 
									name = trade_do_trade_tttt_exotics_g
									value = var:trade_buy_exotics_g
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_exotics_g
									value = var:trade_sell_exotics_g
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_exotics_g
							remove_variable = trade_do_trade_ttt_exotics_g
							remove_variable = trade_do_trade_tttt_exotics_g
						}
						if = { 
							limit = { 
								has_variable = trade_point_textile
							}
							set_variable = { 
								name = trade_do_trade_t_textile
								value = var:trade_point_textile
							}
							change_variable = { 
								name = trade_do_trade_t_textile
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_textile
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_textile
							}
							set_variable = { 
								name = trade_do_trade_tt_textile
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_textile
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_textile
								}
								set_variable = { 
									name = trade_do_trade_tttt_textile
									value = var:trade_buy_textile
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_textile
									value = var:trade_sell_textile
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_textile
							remove_variable = trade_do_trade_ttt_textile
							remove_variable = trade_do_trade_tttt_textile
						}
						if = { 
							limit = { 
								has_variable = trade_point_pottery
							}
							set_variable = { 
								name = trade_do_trade_t_pottery
								value = var:trade_point_pottery
							}
							change_variable = { 
								name = trade_do_trade_t_pottery
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_pottery
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_pottery
							}
							set_variable = { 
								name = trade_do_trade_tt_pottery
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_pottery
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_pottery
								}
								set_variable = { 
									name = trade_do_trade_tttt_pottery
									value = var:trade_buy_pottery
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_pottery
									value = var:trade_sell_pottery
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_pottery
							remove_variable = trade_do_trade_ttt_pottery
							remove_variable = trade_do_trade_tttt_pottery
						}
						if = { 
							limit = { 
								has_variable = trade_point_tools
							}
							set_variable = { 
								name = trade_do_trade_t_tools
								value = var:trade_point_tools
							}
							change_variable = { 
								name = trade_do_trade_t_tools
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_tools
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_tools
							}
							set_variable = { 
								name = trade_do_trade_tt_tools
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_tools
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_tools
								}
								set_variable = { 
									name = trade_do_trade_tttt_tools
									value = var:trade_buy_tools
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_tools
									value = var:trade_sell_tools
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_tools
							remove_variable = trade_do_trade_ttt_tools
							remove_variable = trade_do_trade_tttt_tools
						}
						if = { 
							limit = { 
								has_variable = trade_point_armaments
							}
							set_variable = { 
								name = trade_do_trade_t_armaments
								value = var:trade_point_armaments
							}
							change_variable = { 
								name = trade_do_trade_t_armaments
								multiply = 10
							}
							change_variable = { 
								name = trade_do_trade_t_armaments
								divide = prev.var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_t
								add = var:trade_do_trade_t_armaments
							}
							set_variable = { 
								name = trade_do_trade_tt_armaments
								value = 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_armaments
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_buy_armaments
								}
								set_variable = { 
									name = trade_do_trade_tttt_armaments
									value = var:trade_buy_armaments
								}
							}
							else = { 
								set_variable = { 
									name = trade_do_trade_tttt_armaments
									value = var:trade_sell_armaments
								}
							}
						}
						else = { 
							remove_variable = trade_do_trade_t_armaments
							remove_variable = trade_do_trade_ttt_armaments
							remove_variable = trade_do_trade_tttt_armaments
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
								var:trade_do_trade_t > 0
							}
							add_to_global_variable_list = { 
								name = trade_do_trade_t
								target = this
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					every_in_global_list = { 
						variable = trade_do_trade_t
						prev = { 
							change_variable = { 
								name = trade_do_trade_t
								add = prev.var:trade_do_trade_t
							}
						}
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = var:trade_power_t
					}
					while = { 
						limit = { 
							has_variable = trade_do_trade_t
							has_variable = trade_do_trade_tt
							var:trade_do_trade_t > 0
							var:trade_do_trade_tt > 0
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = var:trade_do_trade_t
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_tt
								multiply = prev.var:trade_do_trade_ttt
							}
							change_variable = { 
								name = trade_do_trade_tt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt
								divide = var:trade_cost
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						every_in_global_list = { 
							variable = trade_do_trade_t
							set_variable = { 
								name = trade_do_trade_ttt
								value = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt
								divide = var:trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_food
									var:trade_do_trade_t_food > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_food
									value = var:trade_do_trade_t_food
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									divide = trade_power_cost_food
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_food
									add = var:trade_do_trade_ttt_food
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_cereal
									var:trade_do_trade_t_cereal > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_cereal
									value = var:trade_do_trade_t_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									divide = trade_power_cost_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_cereal
									add = var:trade_do_trade_ttt_cereal
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_salted
									var:trade_do_trade_t_salted > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_salted
									value = var:trade_do_trade_t_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									divide = trade_power_cost_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_salted
									add = var:trade_do_trade_ttt_salted
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_salt
									var:trade_do_trade_t_salt > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_salt
									value = var:trade_do_trade_t_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									divide = trade_power_cost_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_salt
									add = var:trade_do_trade_ttt_salt
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_mud
									var:trade_do_trade_t_mud > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_mud
									value = var:trade_do_trade_t_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									divide = trade_power_cost_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_mud
									add = var:trade_do_trade_ttt_mud
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_fuel
									var:trade_do_trade_t_fuel > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_fuel
									value = var:trade_do_trade_t_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									divide = trade_power_cost_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_fuel
									add = var:trade_do_trade_ttt_fuel
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_fiber
									var:trade_do_trade_t_fiber > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_fiber
									value = var:trade_do_trade_t_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									divide = trade_power_cost_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_fiber
									add = var:trade_do_trade_ttt_fiber
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_timber
									var:trade_do_trade_t_timber > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_timber
									value = var:trade_do_trade_t_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									divide = trade_power_cost_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_timber
									add = var:trade_do_trade_ttt_timber
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_metal
									var:trade_do_trade_t_metal > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_metal
									value = var:trade_do_trade_t_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									divide = trade_power_cost_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_metal
									add = var:trade_do_trade_ttt_metal
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_exotics_w
									var:trade_do_trade_t_exotics_w > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_exotics_w
									value = var:trade_do_trade_t_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									divide = trade_power_cost_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_w
									add = var:trade_do_trade_ttt_exotics_w
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_exotics_e
									var:trade_do_trade_t_exotics_e > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_exotics_e
									value = var:trade_do_trade_t_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									divide = trade_power_cost_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_e
									add = var:trade_do_trade_ttt_exotics_e
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_exotics_g
									var:trade_do_trade_t_exotics_g > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_exotics_g
									value = var:trade_do_trade_t_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									divide = trade_power_cost_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_g
									add = var:trade_do_trade_ttt_exotics_g
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_textile
									var:trade_do_trade_t_textile > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_textile
									value = var:trade_do_trade_t_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									divide = trade_power_cost_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_textile
									add = var:trade_do_trade_ttt_textile
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_pottery
									var:trade_do_trade_t_pottery > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_pottery
									value = var:trade_do_trade_t_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									divide = trade_power_cost_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_pottery
									add = var:trade_do_trade_ttt_pottery
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_tools
									var:trade_do_trade_t_tools > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_tools
									value = var:trade_do_trade_t_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									divide = trade_power_cost_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_tools
									add = var:trade_do_trade_ttt_tools
								}
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_t_armaments
									var:trade_do_trade_t_armaments > 0
								}
								set_variable = { 
									name = trade_do_trade_ttt_armaments
									value = var:trade_do_trade_t_armaments
								}
								change_variable = { 
									name = trade_do_trade_ttt_armaments
									multiply = var:trade_do_trade_ttt
								}
								change_variable = { 
									name = trade_do_trade_ttt_armaments
									divide = trade_power_cost_armaments
								}
								change_variable = { 
									name = trade_do_trade_ttt_armaments
									divide = 100
								}
								change_variable = { 
									name = trade_do_trade_tt_armaments
									add = var:trade_do_trade_ttt_armaments
								}
							}
							set_variable = { 
								name = trade_do_trade_ttt
								value = 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_food
									var:trade_do_trade_ttt_food > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_food = { 
											compare_value >= prev.var:trade_do_trade_tttt_food
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_food
										subtract = var:trade_do_trade_tt_food
									}
									change_variable = { 
										name = trade_do_trade_ttt_food
										add = var:trade_do_trade_tttt_food
									}
									set_variable = { 
										name = trade_do_trade_tt_food
										value = var:trade_do_trade_tttt_food
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_food
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_food
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_food
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									multiply = trade_power_cost_food
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_food
								}
								remove_variable = trade_do_trade_ttt_food
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_cereal
									var:trade_do_trade_ttt_cereal > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_cereal = { 
											compare_value >= prev.var:trade_do_trade_tttt_cereal
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_cereal
										subtract = var:trade_do_trade_tt_cereal
									}
									change_variable = { 
										name = trade_do_trade_ttt_cereal
										add = var:trade_do_trade_tttt_cereal
									}
									set_variable = { 
										name = trade_do_trade_tt_cereal
										value = var:trade_do_trade_tttt_cereal
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_cereal
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_cereal
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									multiply = trade_power_cost_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_cereal
								}
								remove_variable = trade_do_trade_ttt_cereal
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_salted
									var:trade_do_trade_ttt_salted > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_salted = { 
											compare_value >= prev.var:trade_do_trade_tttt_salted
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_salted
										subtract = var:trade_do_trade_tt_salted
									}
									change_variable = { 
										name = trade_do_trade_ttt_salted
										add = var:trade_do_trade_tttt_salted
									}
									set_variable = { 
										name = trade_do_trade_tt_salted
										value = var:trade_do_trade_tttt_salted
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_salted
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_salted
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									multiply = trade_power_cost_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_salted
								}
								remove_variable = trade_do_trade_ttt_salted
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_salt
									var:trade_do_trade_ttt_salt > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_salt = { 
											compare_value >= prev.var:trade_do_trade_tttt_salt
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_salt
										subtract = var:trade_do_trade_tt_salt
									}
									change_variable = { 
										name = trade_do_trade_ttt_salt
										add = var:trade_do_trade_tttt_salt
									}
									set_variable = { 
										name = trade_do_trade_tt_salt
										value = var:trade_do_trade_tttt_salt
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_salt
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_salt
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									multiply = trade_power_cost_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_salt
								}
								remove_variable = trade_do_trade_ttt_salt
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_mud
									var:trade_do_trade_ttt_mud > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_mud = { 
											compare_value >= prev.var:trade_do_trade_tttt_mud
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_mud
										subtract = var:trade_do_trade_tt_mud
									}
									change_variable = { 
										name = trade_do_trade_ttt_mud
										add = var:trade_do_trade_tttt_mud
									}
									set_variable = { 
										name = trade_do_trade_tt_mud
										value = var:trade_do_trade_tttt_mud
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_mud
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_mud
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									multiply = trade_power_cost_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_mud
								}
								remove_variable = trade_do_trade_ttt_mud
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_fuel
									var:trade_do_trade_ttt_fuel > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_fuel = { 
											compare_value >= prev.var:trade_do_trade_tttt_fuel
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_fuel
										subtract = var:trade_do_trade_tt_fuel
									}
									change_variable = { 
										name = trade_do_trade_ttt_fuel
										add = var:trade_do_trade_tttt_fuel
									}
									set_variable = { 
										name = trade_do_trade_tt_fuel
										value = var:trade_do_trade_tttt_fuel
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_fuel
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_fuel
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									multiply = trade_power_cost_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_fuel
								}
								remove_variable = trade_do_trade_ttt_fuel
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_fiber
									var:trade_do_trade_ttt_fiber > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_fiber = { 
											compare_value >= prev.var:trade_do_trade_tttt_fiber
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_fiber
										subtract = var:trade_do_trade_tt_fiber
									}
									change_variable = { 
										name = trade_do_trade_ttt_fiber
										add = var:trade_do_trade_tttt_fiber
									}
									set_variable = { 
										name = trade_do_trade_tt_fiber
										value = var:trade_do_trade_tttt_fiber
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_fiber
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_fiber
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									multiply = trade_power_cost_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_fiber
								}
								remove_variable = trade_do_trade_ttt_fiber
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_timber
									var:trade_do_trade_ttt_timber > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_timber = { 
											compare_value >= prev.var:trade_do_trade_tttt_timber
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_timber
										subtract = var:trade_do_trade_tt_timber
									}
									change_variable = { 
										name = trade_do_trade_ttt_timber
										add = var:trade_do_trade_tttt_timber
									}
									set_variable = { 
										name = trade_do_trade_tt_timber
										value = var:trade_do_trade_tttt_timber
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_timber
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_timber
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									multiply = trade_power_cost_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_timber
								}
								remove_variable = trade_do_trade_ttt_timber
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_metal
									var:trade_do_trade_ttt_metal > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_metal = { 
											compare_value >= prev.var:trade_do_trade_tttt_metal
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_metal
										subtract = var:trade_do_trade_tt_metal
									}
									change_variable = { 
										name = trade_do_trade_ttt_metal
										add = var:trade_do_trade_tttt_metal
									}
									set_variable = { 
										name = trade_do_trade_tt_metal
										value = var:trade_do_trade_tttt_metal
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_metal
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_metal
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									multiply = trade_power_cost_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_metal
								}
								remove_variable = trade_do_trade_ttt_metal
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_exotics_w
									var:trade_do_trade_ttt_exotics_w > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_exotics_w = { 
											compare_value >= prev.var:trade_do_trade_tttt_exotics_w
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_w
										subtract = var:trade_do_trade_tt_exotics_w
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_w
										add = var:trade_do_trade_tttt_exotics_w
									}
									set_variable = { 
										name = trade_do_trade_tt_exotics_w
										value = var:trade_do_trade_tttt_exotics_w
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_exotics_w
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_exotics_w
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									multiply = trade_power_cost_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_exotics_w
								}
								remove_variable = trade_do_trade_ttt_exotics_w
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_exotics_e
									var:trade_do_trade_ttt_exotics_e > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_exotics_e = { 
											compare_value >= prev.var:trade_do_trade_tttt_exotics_e
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_e
										subtract = var:trade_do_trade_tt_exotics_e
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_e
										add = var:trade_do_trade_tttt_exotics_e
									}
									set_variable = { 
										name = trade_do_trade_tt_exotics_e
										value = var:trade_do_trade_tttt_exotics_e
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_exotics_e
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_exotics_e
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									multiply = trade_power_cost_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_exotics_e
								}
								remove_variable = trade_do_trade_ttt_exotics_e
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_exotics_g
									var:trade_do_trade_ttt_exotics_g > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_exotics_g = { 
											compare_value >= prev.var:trade_do_trade_tttt_exotics_g
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_g
										subtract = var:trade_do_trade_tt_exotics_g
									}
									change_variable = { 
										name = trade_do_trade_ttt_exotics_g
										add = var:trade_do_trade_tttt_exotics_g
									}
									set_variable = { 
										name = trade_do_trade_tt_exotics_g
										value = var:trade_do_trade_tttt_exotics_g
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_exotics_g
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_exotics_g
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									multiply = trade_power_cost_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_exotics_g
								}
								remove_variable = trade_do_trade_ttt_exotics_g
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_textile
									var:trade_do_trade_ttt_textile > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_textile = { 
											compare_value >= prev.var:trade_do_trade_tttt_textile
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_textile
										subtract = var:trade_do_trade_tt_textile
									}
									change_variable = { 
										name = trade_do_trade_ttt_textile
										add = var:trade_do_trade_tttt_textile
									}
									set_variable = { 
										name = trade_do_trade_tt_textile
										value = var:trade_do_trade_tttt_textile
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_textile
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_textile
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									multiply = trade_power_cost_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_textile
								}
								remove_variable = trade_do_trade_ttt_textile
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_pottery
									var:trade_do_trade_ttt_pottery > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_pottery = { 
											compare_value >= prev.var:trade_do_trade_tttt_pottery
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_pottery
										subtract = var:trade_do_trade_tt_pottery
									}
									change_variable = { 
										name = trade_do_trade_ttt_pottery
										add = var:trade_do_trade_tttt_pottery
									}
									set_variable = { 
										name = trade_do_trade_tt_pottery
										value = var:trade_do_trade_tttt_pottery
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_pottery
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_pottery
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									multiply = trade_power_cost_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_pottery
								}
								remove_variable = trade_do_trade_ttt_pottery
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_tools
									var:trade_do_trade_ttt_tools > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_tools = { 
											compare_value >= prev.var:trade_do_trade_tttt_tools
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_tools
										subtract = var:trade_do_trade_tt_tools
									}
									change_variable = { 
										name = trade_do_trade_ttt_tools
										add = var:trade_do_trade_tttt_tools
									}
									set_variable = { 
										name = trade_do_trade_tt_tools
										value = var:trade_do_trade_tttt_tools
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_tools
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_tools
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									multiply = trade_power_cost_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_tools
								}
								remove_variable = trade_do_trade_ttt_tools
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_ttt_armaments
									var:trade_do_trade_ttt_armaments > 0
								}
								if = { 
									limit = { 
										var:trade_do_trade_tt_armaments = { 
											compare_value >= prev.var:trade_do_trade_tttt_armaments
										}
									}
									change_variable = { 
										name = trade_do_trade_ttt_armaments
										subtract = var:trade_do_trade_tt_armaments
									}
									change_variable = { 
										name = trade_do_trade_ttt_armaments
										add = var:trade_do_trade_tttt_armaments
									}
									set_variable = { 
										name = trade_do_trade_tt_armaments
										value = var:trade_do_trade_tttt_armaments
									}
									prev = { 
										change_variable = { 
											name = trade_do_trade_t
											subtract = prev.var:trade_do_trade_t_armaments
										}
									}
									change_variable = { 
										name = trade_do_trade_t
										subtract = var:trade_do_trade_t_armaments
									}
									if = { 
										limit = { 
											OR = { 
												NOT = { 
													has_variable = trade_do_trade_t
												}
												var:trade_do_trade_t = 0
											}
										}
										remove_list_global_variable = { 
											name = trade_do_trade_t
											target = this
										}
									}
									remove_variable = trade_do_trade_t_armaments
								}
								change_variable = { 
									name = trade_do_trade_ttt_armaments
									multiply = trade_power_cost_armaments
								}
								change_variable = { 
									name = trade_do_trade_ttt
									add = var:trade_do_trade_ttt_armaments
								}
								remove_variable = trade_do_trade_ttt_armaments
							}
							change_variable = { 
								name = trade_do_trade_ttt
								multiply = var:trade_cost
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_ttt
									add = prev.var:trade_do_trade_ttt
								}
							}
						}
						if = { 
							limit = { 
								OR = { 
									NOT = { 
										has_variable = trade_do_trade_ttt
									}
									var:trade_do_trade_ttt < 2
								}
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = 0
							}
						}
						else = { 
							change_variable = { 
								name = trade_do_trade_tt
								subtract = var:trade_do_trade_ttt
							}
						}
					}
					clear_global_variable_list = trade_do_trade_t
					every_in_global_list = { 
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_point_food
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_food
									var:trade_do_trade_tt_food >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_food
									}
									set_variable = { 
										name = trade_buy_food
										value = var:trade_do_trade_tt_food
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_food
										value = var:trade_do_trade_tt_food
									}
								}
							}
							else = { 
								remove_variable = trade_point_food
								remove_variable = trade_buy_food
								remove_variable = trade_sell_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_cereal
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_cereal
									var:trade_do_trade_tt_cereal >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_cereal
									}
									set_variable = { 
										name = trade_buy_cereal
										value = var:trade_do_trade_tt_cereal
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_cereal
										value = var:trade_do_trade_tt_cereal
									}
								}
							}
							else = { 
								remove_variable = trade_point_cereal
								remove_variable = trade_buy_cereal
								remove_variable = trade_sell_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salted
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_salted
									var:trade_do_trade_tt_salted >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_salted
									}
									set_variable = { 
										name = trade_buy_salted
										value = var:trade_do_trade_tt_salted
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_salted
										value = var:trade_do_trade_tt_salted
									}
								}
							}
							else = { 
								remove_variable = trade_point_salted
								remove_variable = trade_buy_salted
								remove_variable = trade_sell_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salt
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_salt
									var:trade_do_trade_tt_salt >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_salt
									}
									set_variable = { 
										name = trade_buy_salt
										value = var:trade_do_trade_tt_salt
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_salt
										value = var:trade_do_trade_tt_salt
									}
								}
							}
							else = { 
								remove_variable = trade_point_salt
								remove_variable = trade_buy_salt
								remove_variable = trade_sell_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_mud
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_mud
									var:trade_do_trade_tt_mud >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_mud
									}
									set_variable = { 
										name = trade_buy_mud
										value = var:trade_do_trade_tt_mud
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_mud
										value = var:trade_do_trade_tt_mud
									}
								}
							}
							else = { 
								remove_variable = trade_point_mud
								remove_variable = trade_buy_mud
								remove_variable = trade_sell_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fuel
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_fuel
									var:trade_do_trade_tt_fuel >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_fuel
									}
									set_variable = { 
										name = trade_buy_fuel
										value = var:trade_do_trade_tt_fuel
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_fuel
										value = var:trade_do_trade_tt_fuel
									}
								}
							}
							else = { 
								remove_variable = trade_point_fuel
								remove_variable = trade_buy_fuel
								remove_variable = trade_sell_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fiber
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_fiber
									var:trade_do_trade_tt_fiber >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_fiber
									}
									set_variable = { 
										name = trade_buy_fiber
										value = var:trade_do_trade_tt_fiber
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_fiber
										value = var:trade_do_trade_tt_fiber
									}
								}
							}
							else = { 
								remove_variable = trade_point_fiber
								remove_variable = trade_buy_fiber
								remove_variable = trade_sell_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_timber
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_timber
									var:trade_do_trade_tt_timber >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_timber
									}
									set_variable = { 
										name = trade_buy_timber
										value = var:trade_do_trade_tt_timber
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_timber
										value = var:trade_do_trade_tt_timber
									}
								}
							}
							else = { 
								remove_variable = trade_point_timber
								remove_variable = trade_buy_timber
								remove_variable = trade_sell_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_metal
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_metal
									var:trade_do_trade_tt_metal >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_metal
									}
									set_variable = { 
										name = trade_buy_metal
										value = var:trade_do_trade_tt_metal
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_metal
										value = var:trade_do_trade_tt_metal
									}
								}
							}
							else = { 
								remove_variable = trade_point_metal
								remove_variable = trade_buy_metal
								remove_variable = trade_sell_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_w
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_w
									var:trade_do_trade_tt_exotics_w >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_exotics_w
									}
									set_variable = { 
										name = trade_buy_exotics_w
										value = var:trade_do_trade_tt_exotics_w
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_exotics_w
										value = var:trade_do_trade_tt_exotics_w
									}
								}
							}
							else = { 
								remove_variable = trade_point_exotics_w
								remove_variable = trade_buy_exotics_w
								remove_variable = trade_sell_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_e
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_e
									var:trade_do_trade_tt_exotics_e >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_exotics_e
									}
									set_variable = { 
										name = trade_buy_exotics_e
										value = var:trade_do_trade_tt_exotics_e
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_exotics_e
										value = var:trade_do_trade_tt_exotics_e
									}
								}
							}
							else = { 
								remove_variable = trade_point_exotics_e
								remove_variable = trade_buy_exotics_e
								remove_variable = trade_sell_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_g
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_g
									var:trade_do_trade_tt_exotics_g >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_exotics_g
									}
									set_variable = { 
										name = trade_buy_exotics_g
										value = var:trade_do_trade_tt_exotics_g
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_exotics_g
										value = var:trade_do_trade_tt_exotics_g
									}
								}
							}
							else = { 
								remove_variable = trade_point_exotics_g
								remove_variable = trade_buy_exotics_g
								remove_variable = trade_sell_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_textile
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_textile
									var:trade_do_trade_tt_textile >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_textile
									}
									set_variable = { 
										name = trade_buy_textile
										value = var:trade_do_trade_tt_textile
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_textile
										value = var:trade_do_trade_tt_textile
									}
								}
							}
							else = { 
								remove_variable = trade_point_textile
								remove_variable = trade_buy_textile
								remove_variable = trade_sell_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_pottery
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_pottery
									var:trade_do_trade_tt_pottery >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_pottery
									}
									set_variable = { 
										name = trade_buy_pottery
										value = var:trade_do_trade_tt_pottery
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_pottery
										value = var:trade_do_trade_tt_pottery
									}
								}
							}
							else = { 
								remove_variable = trade_point_pottery
								remove_variable = trade_buy_pottery
								remove_variable = trade_sell_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_tools
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_tools
									var:trade_do_trade_tt_tools >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_tools
									}
									set_variable = { 
										name = trade_buy_tools
										value = var:trade_do_trade_tt_tools
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_tools
										value = var:trade_do_trade_tt_tools
									}
								}
							}
							else = { 
								remove_variable = trade_point_tools
								remove_variable = trade_buy_tools
								remove_variable = trade_sell_tools
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_armaments
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_armaments
									var:trade_do_trade_tt_armaments >= 0.05
								}
								if = { 
									limit = { 
										has_variable = trade_buy_armaments
									}
									set_variable = { 
										name = trade_buy_armaments
										value = var:trade_do_trade_tt_armaments
									}
								}
								else = { 
									set_variable = { 
										name = trade_sell_armaments
										value = var:trade_do_trade_tt_armaments
									}
								}
							}
							else = { 
								remove_variable = trade_point_armaments
								remove_variable = trade_buy_armaments
								remove_variable = trade_sell_armaments
							}
						}
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					save_temporary_scope_as = trade_do_trade_select
					if = { 
						limit = { 
							has_variable = trade_point_food
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_food
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_food
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_food
									is_target_in_variable_list = { 
										name = trade_dat_food
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_food
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_food
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_food
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_food
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_food
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_food
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_food
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_food
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_food
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_food
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_food
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_food
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_food
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_food
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_food
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_food
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_food
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_food
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_food
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_food
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_food
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_food
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_food
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_food
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_food
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_food
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_food
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_food
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_food
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_food
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_food
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_food
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_cereal
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_cereal
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_cereal
									is_target_in_variable_list = { 
										name = trade_dat_cereal
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_cereal
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_cereal
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_cereal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_cereal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_cereal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_cereal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_cereal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_cereal
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_cereal
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_cereal
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_cereal
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_cereal
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_cereal
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_cereal
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_cereal
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_cereal
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_cereal
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_cereal
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_cereal
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_cereal
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_cereal
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_cereal
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_cereal
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_cereal
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_cereal
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_cereal
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_cereal
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_cereal
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_cereal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_cereal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_cereal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_cereal
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_salted
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_salted
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_salted
									is_target_in_variable_list = { 
										name = trade_dat_salted
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_salted
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salted
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salted
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_salted
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salted
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salted
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salted
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_salted
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_salted
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_salted
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_salted
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_salted
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salted
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_salted
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salted
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salted
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_salted
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_salted
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salted
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_salted
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salted
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_salted
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_salted
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_salted
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_salted
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_salted
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_salted
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_salted
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salted
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salted
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salted
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_salted
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_salt
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_salt
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_salt
									is_target_in_variable_list = { 
										name = trade_dat_salt
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_salt
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_salt
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_salt
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_salt
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_salt
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_salt
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_salt
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_salt
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_salt
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_salt
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_salt
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_salt
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salt
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_salt
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salt
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_salt
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_salt
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_salt
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salt
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_salt
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_salt
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_salt
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_salt
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_salt
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_salt
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_salt
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_salt
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_salt
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_salt
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_salt
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_salt
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_salt
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_mud
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_mud
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_mud
									is_target_in_variable_list = { 
										name = trade_dat_mud
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_mud
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_mud
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_mud
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_mud
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_mud
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_mud
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_mud
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_mud
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_mud
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_mud
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_mud
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_mud
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_mud
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_mud
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_mud
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_mud
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_mud
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_mud
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_mud
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_mud
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_mud
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_mud
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_mud
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_mud
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_mud
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_mud
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_mud
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_mud
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_mud
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_mud
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_mud
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_mud
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_fuel
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_fuel
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_fuel
									is_target_in_variable_list = { 
										name = trade_dat_fuel
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_fuel
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fuel
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fuel
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_fuel
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fuel
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fuel
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fuel
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_fuel
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_fuel
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_fuel
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_fuel
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_fuel
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fuel
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_fuel
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fuel
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fuel
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_fuel
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_fuel
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fuel
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_fuel
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fuel
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_fuel
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_fuel
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_fuel
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_fuel
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_fuel
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_fuel
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_fuel
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fuel
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fuel
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fuel
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_fuel
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_fiber
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_fiber
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_fiber
									is_target_in_variable_list = { 
										name = trade_dat_fiber
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_fiber
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_fiber
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_fiber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_fiber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_fiber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_fiber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_fiber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_fiber
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_fiber
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_fiber
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_fiber
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_fiber
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fiber
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_fiber
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fiber
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_fiber
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_fiber
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_fiber
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fiber
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_fiber
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_fiber
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_fiber
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_fiber
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_fiber
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_fiber
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_fiber
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_fiber
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_fiber
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_fiber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_fiber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_fiber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_fiber
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_timber
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_timber
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_timber
									is_target_in_variable_list = { 
										name = trade_dat_timber
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_timber
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_timber
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_timber
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_timber
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_timber
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_timber
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_timber
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_timber
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_timber
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_timber
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_timber
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_timber
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_timber
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_timber
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_timber
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_timber
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_timber
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_timber
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_timber
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_timber
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_timber
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_timber
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_timber
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_timber
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_timber
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_timber
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_timber
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_timber
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_timber
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_timber
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_timber
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_timber
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_metal
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_metal
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_metal
									is_target_in_variable_list = { 
										name = trade_dat_metal
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_metal
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_metal
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_metal
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_metal
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_metal
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_metal
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_metal
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_metal
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_metal
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_metal
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_metal
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_metal
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_metal
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_metal
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_metal
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_metal
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_metal
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_metal
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_metal
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_metal
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_metal
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_metal
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_metal
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_metal
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_metal
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_metal
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_metal
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_metal
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_metal
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_metal
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_metal
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_metal
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_exotics_w
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_exotics_w
									is_target_in_variable_list = { 
										name = trade_dat_exotics_w
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_exotics_w
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_w
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_w
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_w
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_w
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_w
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_w
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_exotics_w
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_exotics_w
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_exotics_w
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_w
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_w
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_w
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_w
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_w
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_w
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_w
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_w
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_w
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_w
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_w
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_exotics_w
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_exotics_w
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_w
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_exotics_w
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_w
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_exotics_w
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_exotics_w
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_w
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_w
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_w
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_exotics_w
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_exotics_e
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_exotics_e
									is_target_in_variable_list = { 
										name = trade_dat_exotics_e
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_exotics_e
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_e
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_e
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_e
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_e
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_e
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_e
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_exotics_e
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_exotics_e
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_exotics_e
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_e
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_e
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_e
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_e
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_e
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_e
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_e
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_e
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_e
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_e
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_e
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_exotics_e
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_exotics_e
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_e
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_exotics_e
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_e
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_exotics_e
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_exotics_e
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_e
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_e
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_e
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_exotics_e
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_exotics_g
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_exotics_g
									is_target_in_variable_list = { 
										name = trade_dat_exotics_g
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_exotics_g
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_exotics_g
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_exotics_g
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_exotics_g
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_exotics_g
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_exotics_g
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_exotics_g
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_exotics_g
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_exotics_g
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_exotics_g
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_g
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_g
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_g
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_g
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_g
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_exotics_g
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_exotics_g
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_exotics_g
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_g
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_exotics_g
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_exotics_g
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_exotics_g
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_exotics_g
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_g
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_exotics_g
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_g
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_exotics_g
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_exotics_g
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_exotics_g
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_exotics_g
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_exotics_g
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_exotics_g
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_textile
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_textile
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_textile
									is_target_in_variable_list = { 
										name = trade_dat_textile
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_textile
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_textile
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_textile
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_textile
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_textile
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_textile
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_textile
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_textile
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_textile
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_textile
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_textile
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_textile
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_textile
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_textile
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_textile
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_textile
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_textile
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_textile
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_textile
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_textile
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_textile
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_textile
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_textile
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_textile
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_textile
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_textile
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_textile
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_textile
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_textile
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_textile
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_textile
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_textile
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_pottery
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_pottery
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_pottery
									is_target_in_variable_list = { 
										name = trade_dat_pottery
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_pottery
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_pottery
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_pottery
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_pottery
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_pottery
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_pottery
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_pottery
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_pottery
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_pottery
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_pottery
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_pottery
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_pottery
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_pottery
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_pottery
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_pottery
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_pottery
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_pottery
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_pottery
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_pottery
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_pottery
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_pottery
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_pottery
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_pottery
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_pottery
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_pottery
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_pottery
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_pottery
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_pottery
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_pottery
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_pottery
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_pottery
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_pottery
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_tools
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_tools
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_tools
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_tools
									is_target_in_variable_list = { 
										name = trade_dat_tools
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_tools
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_tools
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_tools
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_tools
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_tools
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_tools
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_tools
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_tools
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_tools
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_tools
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_tools
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_tools
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_tools
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_tools
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_tools
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_tools
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_tools
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_tools
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_tools
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_tools
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_tools
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_tools
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_tools
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_tools
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_tools
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_tools
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_tools
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_tools
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_tools
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_tools
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_tools
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_tools
									target = prev.var:trade_location
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_armaments
						}
						remove_variable = trade_do_trade_t
						if = { 
							limit = { 
								has_variable = trade_buy_armaments
							}
							set_variable = { 
								name = trade_do_trade_t
								value = var:trade_buy_armaments
							}
						}
						else = { 
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
							change_variable = { 
								name = trade_do_trade_t
								subtract = var:trade_sell_armaments
							}
						}
						if = { 
							limit = { 
								has_variable = trade_do_trade_t
							}
							if = { 
								limit = { 
									has_variable_list = trade_dat_armaments
									is_target_in_variable_list = { 
										name = trade_dat_armaments
										target = prev.var:trade_location
									}
								}
								set_global_variable = { 
									name = trade_do_trade_t
									value = 0
								}
								set_global_variable = { 
									name = trade_do_trade_tt
								}
								every_in_list = { 
									limit = { 
										has_global_variable = trade_do_trade_tt
									}
									variable = trade_dat_armaments
									if = { 
										limit = { 
											has_variable = trade_merchant
											var:trade_merchant = global_var:trade_do_trade_select
										}
										remove_global_variable = trade_do_trade_tt
										prev = { 
											remove_list_variable = { 
												name = trade_dat_armaments
												target = prev
											}
											set_global_variable = { 
												name = array_change_t
												value = global_var:trade_do_trade_t
											}
											if = { 
												limit = { 
													OR = { 
														NOT = { 
															has_global_variable = array_change_t
														}
														global_var:array_change_t = 0
													}
												}
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = 0
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											else = { 
												ordered_in_list = { 
													variable = array_trade_dat_armaments
													position = global_var:array_change_t.compare_value
													prev = { 
														set_variable = { 
															name = array_change_t
															value = prev
														}
														change_variable = { 
															name = array_change_t
															divide = 10
														}
														change_variable = { 
															name = array_change_t
															subtract = var:trade_do_trade_t
														}
														remove_list_variable = { 
															name = array_trade_dat_armaments
															target = prev
														}
														set_variable = { 
															name = array_add_t
															value = var:array_change_t
														}
														change_variable = { 
															name = array_add_t
															multiply = 10
														}
														if = { 
															limit = { 
																NOT = { 
																	has_variable_list = array_trade_dat_armaments
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														else = { 
															while = { 
																limit = { 
																	is_target_in_variable_list = { 
																		name = array_trade_dat_armaments
																		target = var:array_add_t
																	}
																}
																count = 10
																change_variable = { 
																	name = array_add_t
																	add = 0.001
																}
															}
															add_to_variable_list = { 
																name = array_trade_dat_armaments
																target = var:array_add_t
															}
														}
														remove_variable = array_add_t
													}
												}
											}
											remove_global_variable = array_change_t
											remove_variable = array_change_t
											add_to_variable_list = { 
												name = trade_dat_armaments
												target = prev
											}
										}
									}
									else = { 
										change_global_variable = { 
											name = trade_do_trade_t
											add = 1
										}
									}
								}
								prev = { 
									set_global_variable = { 
										name = trade_do_trade_t
										value = 0
									}
									set_global_variable = { 
										name = trade_do_trade_tt
									}
									every_in_list = { 
										limit = { 
											has_global_variable = trade_do_trade_tt
										}
										variable = trade_dat_armaments
										if = { 
											limit = { 
												has_variable = trade_merchant
												var:trade_merchant = scope:trade_do_trade_select
											}
											remove_global_variable = trade_do_trade_tt
											prev = { 
												remove_list_variable = { 
													name = trade_dat_armaments
													target = prev
												}
												set_global_variable = { 
													name = array_change_t
													value = global_var:trade_do_trade_t
												}
												if = { 
													limit = { 
														OR = { 
															NOT = { 
																has_global_variable = array_change_t
															}
															global_var:array_change_t = 0
														}
													}
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = 0
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_armaments
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_armaments
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_armaments
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_armaments
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_armaments
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												else = { 
													ordered_in_list = { 
														variable = array_trade_dat_armaments
														position = global_var:array_change_t.compare_value
														prev = { 
															set_variable = { 
																name = array_change_t
																value = prev
															}
															change_variable = { 
																name = array_change_t
																divide = 10
															}
															change_variable = { 
																name = array_change_t
																add = scope:trade_do_trade_select.var:trade_do_trade_t
															}
															remove_list_variable = { 
																name = array_trade_dat_armaments
																target = prev
															}
															set_variable = { 
																name = array_add_t
																value = var:array_change_t
															}
															change_variable = { 
																name = array_add_t
																multiply = 10
															}
															if = { 
																limit = { 
																	NOT = { 
																		has_variable_list = array_trade_dat_armaments
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_armaments
																	target = var:array_add_t
																}
															}
															else = { 
																while = { 
																	limit = { 
																		is_target_in_variable_list = { 
																			name = array_trade_dat_armaments
																			target = var:array_add_t
																		}
																	}
																	count = 10
																	change_variable = { 
																		name = array_add_t
																		add = 0.001
																	}
																}
																add_to_variable_list = { 
																	name = array_trade_dat_armaments
																	target = var:array_add_t
																}
															}
															remove_variable = array_add_t
														}
													}
												}
												remove_global_variable = array_change_t
												remove_variable = array_change_t
												add_to_variable_list = { 
													name = trade_dat_armaments
													target = prev
												}
											}
										}
										else = { 
											change_global_variable = { 
												name = trade_do_trade_t
												add = 1
											}
										}
									}
								}
							}
							else = { 
								prev = { 
									set_variable = { 
										name = array_add_t
										value = scope:trade_do_trade_select.var:trade_do_trade_t
									}
									change_variable = { 
										name = array_add_t
										multiply = 10
									}
									if = { 
										limit = { 
											NOT = { 
												has_variable_list = array_trade_dat_armaments
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_armaments
											target = var:array_add_t
										}
									}
									else = { 
										while = { 
											limit = { 
												is_target_in_variable_list = { 
													name = array_trade_dat_armaments
													target = var:array_add_t
												}
											}
											count = 10
											change_variable = { 
												name = array_add_t
												add = 0.001
											}
										}
										add_to_variable_list = { 
											name = array_trade_dat_armaments
											target = var:array_add_t
										}
									}
									remove_variable = array_add_t
									if = { 
										limit = { 
											prev = { 
												has_variable = trade_location
											}
										}
										add_to_variable_list = { 
											name = trade_dat_armaments
											target = prev.var:trade_location
										}
									}
									else = { 
										add_to_variable_list = { 
											name = trade_dat_armaments
											target = prev
										}
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									multiply = -1
								}
								set_variable = { 
									name = array_add_t
									value = var:trade_do_trade_t
								}
								change_variable = { 
									name = array_add_t
									multiply = 10
								}
								if = { 
									limit = { 
										NOT = { 
											has_variable_list = array_trade_dat_armaments
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								else = { 
									while = { 
										limit = { 
											is_target_in_variable_list = { 
												name = array_trade_dat_armaments
												target = var:array_add_t
											}
										}
										count = 10
										change_variable = { 
											name = array_add_t
											add = 0.001
										}
									}
									add_to_variable_list = { 
										name = array_trade_dat_armaments
										target = var:array_add_t
									}
								}
								remove_variable = array_add_t
								add_to_variable_list = { 
									name = trade_dat_armaments
									target = prev.var:trade_location
								}
							}
						}
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					if = { 
						limit = { 
							has_variable = trade_point_food
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_food
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_food
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_food
							}
							change_variable = { 
								name = trade_in_food
								add = var:trade_buy_food
							}
							prev = { 
								change_variable = { 
									name = trade_out_food
									add = prev.var:trade_buy_food
								}
							}
							change_variable = { 
								name = trade_buy_food
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_food
								add = var:trade_buy_food
							}
							prev = { 
								change_variable = { 
									name = trade_earn_food
									add = prev.var:trade_buy_food
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_food
							}
							change_variable = { 
								name = trade_out_food
								add = var:trade_sell_food
							}
							prev = { 
								change_variable = { 
									name = trade_in_food
									add = prev.var:trade_sell_food
								}
							}
							change_variable = { 
								name = trade_sell_food
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_food
								add = var:trade_sell_food
							}
							prev = { 
								change_variable = { 
									name = trade_pay_food
									add = prev.var:trade_sell_food
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_cereal
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_cereal
							}
							change_variable = { 
								name = trade_in_cereal
								add = var:trade_buy_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_out_cereal
									add = prev.var:trade_buy_cereal
								}
							}
							change_variable = { 
								name = trade_buy_cereal
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_cereal
								add = var:trade_buy_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_earn_cereal
									add = prev.var:trade_buy_cereal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_cereal
							}
							change_variable = { 
								name = trade_out_cereal
								add = var:trade_sell_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_in_cereal
									add = prev.var:trade_sell_cereal
								}
							}
							change_variable = { 
								name = trade_sell_cereal
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_cereal
								add = var:trade_sell_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_pay_cereal
									add = prev.var:trade_sell_cereal
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_salted
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_salted
							}
							change_variable = { 
								name = trade_in_salted
								add = var:trade_buy_salted
							}
							prev = { 
								change_variable = { 
									name = trade_out_salted
									add = prev.var:trade_buy_salted
								}
							}
							change_variable = { 
								name = trade_buy_salted
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_salted
								add = var:trade_buy_salted
							}
							prev = { 
								change_variable = { 
									name = trade_earn_salted
									add = prev.var:trade_buy_salted
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_salted
							}
							change_variable = { 
								name = trade_out_salted
								add = var:trade_sell_salted
							}
							prev = { 
								change_variable = { 
									name = trade_in_salted
									add = prev.var:trade_sell_salted
								}
							}
							change_variable = { 
								name = trade_sell_salted
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_salted
								add = var:trade_sell_salted
							}
							prev = { 
								change_variable = { 
									name = trade_pay_salted
									add = prev.var:trade_sell_salted
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_salt
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_salt
							}
							change_variable = { 
								name = trade_in_salt
								add = var:trade_buy_salt
							}
							prev = { 
								change_variable = { 
									name = trade_out_salt
									add = prev.var:trade_buy_salt
								}
							}
							change_variable = { 
								name = trade_buy_salt
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_salt
								add = var:trade_buy_salt
							}
							prev = { 
								change_variable = { 
									name = trade_earn_salt
									add = prev.var:trade_buy_salt
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_salt
							}
							change_variable = { 
								name = trade_out_salt
								add = var:trade_sell_salt
							}
							prev = { 
								change_variable = { 
									name = trade_in_salt
									add = prev.var:trade_sell_salt
								}
							}
							change_variable = { 
								name = trade_sell_salt
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_salt
								add = var:trade_sell_salt
							}
							prev = { 
								change_variable = { 
									name = trade_pay_salt
									add = prev.var:trade_sell_salt
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_mud
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_mud
							}
							change_variable = { 
								name = trade_in_mud
								add = var:trade_buy_mud
							}
							prev = { 
								change_variable = { 
									name = trade_out_mud
									add = prev.var:trade_buy_mud
								}
							}
							change_variable = { 
								name = trade_buy_mud
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_mud
								add = var:trade_buy_mud
							}
							prev = { 
								change_variable = { 
									name = trade_earn_mud
									add = prev.var:trade_buy_mud
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_mud
							}
							change_variable = { 
								name = trade_out_mud
								add = var:trade_sell_mud
							}
							prev = { 
								change_variable = { 
									name = trade_in_mud
									add = prev.var:trade_sell_mud
								}
							}
							change_variable = { 
								name = trade_sell_mud
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_mud
								add = var:trade_sell_mud
							}
							prev = { 
								change_variable = { 
									name = trade_pay_mud
									add = prev.var:trade_sell_mud
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_fuel
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_fuel
							}
							change_variable = { 
								name = trade_in_fuel
								add = var:trade_buy_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_out_fuel
									add = prev.var:trade_buy_fuel
								}
							}
							change_variable = { 
								name = trade_buy_fuel
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_fuel
								add = var:trade_buy_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_earn_fuel
									add = prev.var:trade_buy_fuel
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_fuel
							}
							change_variable = { 
								name = trade_out_fuel
								add = var:trade_sell_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_in_fuel
									add = prev.var:trade_sell_fuel
								}
							}
							change_variable = { 
								name = trade_sell_fuel
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_fuel
								add = var:trade_sell_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_pay_fuel
									add = prev.var:trade_sell_fuel
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_fiber
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_fiber
							}
							change_variable = { 
								name = trade_in_fiber
								add = var:trade_buy_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_out_fiber
									add = prev.var:trade_buy_fiber
								}
							}
							change_variable = { 
								name = trade_buy_fiber
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_fiber
								add = var:trade_buy_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_earn_fiber
									add = prev.var:trade_buy_fiber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_fiber
							}
							change_variable = { 
								name = trade_out_fiber
								add = var:trade_sell_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_in_fiber
									add = prev.var:trade_sell_fiber
								}
							}
							change_variable = { 
								name = trade_sell_fiber
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_fiber
								add = var:trade_sell_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_pay_fiber
									add = prev.var:trade_sell_fiber
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_timber
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_timber
							}
							change_variable = { 
								name = trade_in_timber
								add = var:trade_buy_timber
							}
							prev = { 
								change_variable = { 
									name = trade_out_timber
									add = prev.var:trade_buy_timber
								}
							}
							change_variable = { 
								name = trade_buy_timber
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_timber
								add = var:trade_buy_timber
							}
							prev = { 
								change_variable = { 
									name = trade_earn_timber
									add = prev.var:trade_buy_timber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_timber
							}
							change_variable = { 
								name = trade_out_timber
								add = var:trade_sell_timber
							}
							prev = { 
								change_variable = { 
									name = trade_in_timber
									add = prev.var:trade_sell_timber
								}
							}
							change_variable = { 
								name = trade_sell_timber
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_timber
								add = var:trade_sell_timber
							}
							prev = { 
								change_variable = { 
									name = trade_pay_timber
									add = prev.var:trade_sell_timber
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_metal
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_metal
							}
							change_variable = { 
								name = trade_in_metal
								add = var:trade_buy_metal
							}
							prev = { 
								change_variable = { 
									name = trade_out_metal
									add = prev.var:trade_buy_metal
								}
							}
							change_variable = { 
								name = trade_buy_metal
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_metal
								add = var:trade_buy_metal
							}
							prev = { 
								change_variable = { 
									name = trade_earn_metal
									add = prev.var:trade_buy_metal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_metal
							}
							change_variable = { 
								name = trade_out_metal
								add = var:trade_sell_metal
							}
							prev = { 
								change_variable = { 
									name = trade_in_metal
									add = prev.var:trade_sell_metal
								}
							}
							change_variable = { 
								name = trade_sell_metal
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_metal
								add = var:trade_sell_metal
							}
							prev = { 
								change_variable = { 
									name = trade_pay_metal
									add = prev.var:trade_sell_metal
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_w
							}
							change_variable = { 
								name = trade_in_exotics_w
								add = var:trade_buy_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_out_exotics_w
									add = prev.var:trade_buy_exotics_w
								}
							}
							change_variable = { 
								name = trade_buy_exotics_w
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_exotics_w
								add = var:trade_buy_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_earn_exotics_w
									add = prev.var:trade_buy_exotics_w
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_exotics_w
							}
							change_variable = { 
								name = trade_out_exotics_w
								add = var:trade_sell_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_in_exotics_w
									add = prev.var:trade_sell_exotics_w
								}
							}
							change_variable = { 
								name = trade_sell_exotics_w
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_exotics_w
								add = var:trade_sell_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_pay_exotics_w
									add = prev.var:trade_sell_exotics_w
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_e
							}
							change_variable = { 
								name = trade_in_exotics_e
								add = var:trade_buy_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_out_exotics_e
									add = prev.var:trade_buy_exotics_e
								}
							}
							change_variable = { 
								name = trade_buy_exotics_e
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_exotics_e
								add = var:trade_buy_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_earn_exotics_e
									add = prev.var:trade_buy_exotics_e
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_exotics_e
							}
							change_variable = { 
								name = trade_out_exotics_e
								add = var:trade_sell_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_in_exotics_e
									add = prev.var:trade_sell_exotics_e
								}
							}
							change_variable = { 
								name = trade_sell_exotics_e
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_exotics_e
								add = var:trade_sell_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_pay_exotics_e
									add = prev.var:trade_sell_exotics_e
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_exotics_g
							}
							change_variable = { 
								name = trade_in_exotics_g
								add = var:trade_buy_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_out_exotics_g
									add = prev.var:trade_buy_exotics_g
								}
							}
							change_variable = { 
								name = trade_buy_exotics_g
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_exotics_g
								add = var:trade_buy_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_earn_exotics_g
									add = prev.var:trade_buy_exotics_g
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_exotics_g
							}
							change_variable = { 
								name = trade_out_exotics_g
								add = var:trade_sell_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_in_exotics_g
									add = prev.var:trade_sell_exotics_g
								}
							}
							change_variable = { 
								name = trade_sell_exotics_g
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_exotics_g
								add = var:trade_sell_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_pay_exotics_g
									add = prev.var:trade_sell_exotics_g
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_textile
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_textile
							}
							change_variable = { 
								name = trade_in_textile
								add = var:trade_buy_textile
							}
							prev = { 
								change_variable = { 
									name = trade_out_textile
									add = prev.var:trade_buy_textile
								}
							}
							change_variable = { 
								name = trade_buy_textile
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_textile
								add = var:trade_buy_textile
							}
							prev = { 
								change_variable = { 
									name = trade_earn_textile
									add = prev.var:trade_buy_textile
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_textile
							}
							change_variable = { 
								name = trade_out_textile
								add = var:trade_sell_textile
							}
							prev = { 
								change_variable = { 
									name = trade_in_textile
									add = prev.var:trade_sell_textile
								}
							}
							change_variable = { 
								name = trade_sell_textile
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_textile
								add = var:trade_sell_textile
							}
							prev = { 
								change_variable = { 
									name = trade_pay_textile
									add = prev.var:trade_sell_textile
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_pottery
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_pottery
							}
							change_variable = { 
								name = trade_in_pottery
								add = var:trade_buy_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_out_pottery
									add = prev.var:trade_buy_pottery
								}
							}
							change_variable = { 
								name = trade_buy_pottery
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_pottery
								add = var:trade_buy_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_earn_pottery
									add = prev.var:trade_buy_pottery
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_pottery
							}
							change_variable = { 
								name = trade_out_pottery
								add = var:trade_sell_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_in_pottery
									add = prev.var:trade_sell_pottery
								}
							}
							change_variable = { 
								name = trade_sell_pottery
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_pottery
								add = var:trade_sell_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_pay_pottery
									add = prev.var:trade_sell_pottery
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_tools
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_tools
							}
							change_variable = { 
								name = trade_in_tools
								add = var:trade_buy_tools
							}
							prev = { 
								change_variable = { 
									name = trade_out_tools
									add = prev.var:trade_buy_tools
								}
							}
							change_variable = { 
								name = trade_buy_tools
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_tools
								add = var:trade_buy_tools
							}
							prev = { 
								change_variable = { 
									name = trade_earn_tools
									add = prev.var:trade_buy_tools
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_tools
							}
							change_variable = { 
								name = trade_out_tools
								add = var:trade_sell_tools
							}
							prev = { 
								change_variable = { 
									name = trade_in_tools
									add = prev.var:trade_sell_tools
								}
							}
							change_variable = { 
								name = trade_sell_tools
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_tools
								add = var:trade_sell_tools
							}
							prev = { 
								change_variable = { 
									name = trade_pay_tools
									add = prev.var:trade_sell_tools
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_armaments
						}
						set_variable = { 
							name = trade_do_trade_t
							value = var:trade_price_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_price_armaments
						}
						change_variable = { 
							name = trade_do_trade_t
							divide = 2
						}
						if = { 
							limit = { 
								has_variable = trade_buy_armaments
							}
							change_variable = { 
								name = trade_in_armaments
								add = var:trade_buy_armaments
							}
							prev = { 
								change_variable = { 
									name = trade_out_armaments
									add = prev.var:trade_buy_armaments
								}
							}
							change_variable = { 
								name = trade_buy_armaments
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_pay_armaments
								add = var:trade_buy_armaments
							}
							prev = { 
								change_variable = { 
									name = trade_earn_armaments
									add = prev.var:trade_buy_armaments
								}
							}
						}
						if = { 
							limit = { 
								has_variable = trade_sell_armaments
							}
							change_variable = { 
								name = trade_out_armaments
								add = var:trade_sell_armaments
							}
							prev = { 
								change_variable = { 
									name = trade_in_armaments
									add = prev.var:trade_sell_armaments
								}
							}
							change_variable = { 
								name = trade_sell_armaments
								multiply = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_earn_armaments
								add = var:trade_sell_armaments
							}
							prev = { 
								change_variable = { 
									name = trade_pay_armaments
									add = prev.var:trade_sell_armaments
								}
							}
						}
					}
					remove_variable = trade_do_trade_dist
				}
				remove_global_variable = trade_do_trade_select
				clear_global_variable_list = trade_do_trade_list
				remove_variable = trade_power_t
			}
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			remove_variable = trade_buy_food
			remove_variable = trade_sell_food
			remove_variable = trade_point_food
			remove_variable = trade_sum_buy_food
			remove_variable = trade_sum_sell_food
			remove_variable = trade_do_trade_t_food
			remove_variable = trade_do_trade_tt_food
			remove_variable = trade_do_trade_ttt_food
			remove_variable = trade_do_trade_tttt_food
			remove_variable = trade_buy_cereal
			remove_variable = trade_sell_cereal
			remove_variable = trade_point_cereal
			remove_variable = trade_sum_buy_cereal
			remove_variable = trade_sum_sell_cereal
			remove_variable = trade_do_trade_t_cereal
			remove_variable = trade_do_trade_tt_cereal
			remove_variable = trade_do_trade_ttt_cereal
			remove_variable = trade_do_trade_tttt_cereal
			remove_variable = trade_buy_salted
			remove_variable = trade_sell_salted
			remove_variable = trade_point_salted
			remove_variable = trade_sum_buy_salted
			remove_variable = trade_sum_sell_salted
			remove_variable = trade_do_trade_t_salted
			remove_variable = trade_do_trade_tt_salted
			remove_variable = trade_do_trade_ttt_salted
			remove_variable = trade_do_trade_tttt_salted
			remove_variable = trade_buy_salt
			remove_variable = trade_sell_salt
			remove_variable = trade_point_salt
			remove_variable = trade_sum_buy_salt
			remove_variable = trade_sum_sell_salt
			remove_variable = trade_do_trade_t_salt
			remove_variable = trade_do_trade_tt_salt
			remove_variable = trade_do_trade_ttt_salt
			remove_variable = trade_do_trade_tttt_salt
			remove_variable = trade_buy_mud
			remove_variable = trade_sell_mud
			remove_variable = trade_point_mud
			remove_variable = trade_sum_buy_mud
			remove_variable = trade_sum_sell_mud
			remove_variable = trade_do_trade_t_mud
			remove_variable = trade_do_trade_tt_mud
			remove_variable = trade_do_trade_ttt_mud
			remove_variable = trade_do_trade_tttt_mud
			remove_variable = trade_buy_fuel
			remove_variable = trade_sell_fuel
			remove_variable = trade_point_fuel
			remove_variable = trade_sum_buy_fuel
			remove_variable = trade_sum_sell_fuel
			remove_variable = trade_do_trade_t_fuel
			remove_variable = trade_do_trade_tt_fuel
			remove_variable = trade_do_trade_ttt_fuel
			remove_variable = trade_do_trade_tttt_fuel
			remove_variable = trade_buy_fiber
			remove_variable = trade_sell_fiber
			remove_variable = trade_point_fiber
			remove_variable = trade_sum_buy_fiber
			remove_variable = trade_sum_sell_fiber
			remove_variable = trade_do_trade_t_fiber
			remove_variable = trade_do_trade_tt_fiber
			remove_variable = trade_do_trade_ttt_fiber
			remove_variable = trade_do_trade_tttt_fiber
			remove_variable = trade_buy_timber
			remove_variable = trade_sell_timber
			remove_variable = trade_point_timber
			remove_variable = trade_sum_buy_timber
			remove_variable = trade_sum_sell_timber
			remove_variable = trade_do_trade_t_timber
			remove_variable = trade_do_trade_tt_timber
			remove_variable = trade_do_trade_ttt_timber
			remove_variable = trade_do_trade_tttt_timber
			remove_variable = trade_buy_metal
			remove_variable = trade_sell_metal
			remove_variable = trade_point_metal
			remove_variable = trade_sum_buy_metal
			remove_variable = trade_sum_sell_metal
			remove_variable = trade_do_trade_t_metal
			remove_variable = trade_do_trade_tt_metal
			remove_variable = trade_do_trade_ttt_metal
			remove_variable = trade_do_trade_tttt_metal
			remove_variable = trade_buy_exotics_w
			remove_variable = trade_sell_exotics_w
			remove_variable = trade_point_exotics_w
			remove_variable = trade_sum_buy_exotics_w
			remove_variable = trade_sum_sell_exotics_w
			remove_variable = trade_do_trade_t_exotics_w
			remove_variable = trade_do_trade_tt_exotics_w
			remove_variable = trade_do_trade_ttt_exotics_w
			remove_variable = trade_do_trade_tttt_exotics_w
			remove_variable = trade_buy_exotics_e
			remove_variable = trade_sell_exotics_e
			remove_variable = trade_point_exotics_e
			remove_variable = trade_sum_buy_exotics_e
			remove_variable = trade_sum_sell_exotics_e
			remove_variable = trade_do_trade_t_exotics_e
			remove_variable = trade_do_trade_tt_exotics_e
			remove_variable = trade_do_trade_ttt_exotics_e
			remove_variable = trade_do_trade_tttt_exotics_e
			remove_variable = trade_buy_exotics_g
			remove_variable = trade_sell_exotics_g
			remove_variable = trade_point_exotics_g
			remove_variable = trade_sum_buy_exotics_g
			remove_variable = trade_sum_sell_exotics_g
			remove_variable = trade_do_trade_t_exotics_g
			remove_variable = trade_do_trade_tt_exotics_g
			remove_variable = trade_do_trade_ttt_exotics_g
			remove_variable = trade_do_trade_tttt_exotics_g
			remove_variable = trade_buy_textile
			remove_variable = trade_sell_textile
			remove_variable = trade_point_textile
			remove_variable = trade_sum_buy_textile
			remove_variable = trade_sum_sell_textile
			remove_variable = trade_do_trade_t_textile
			remove_variable = trade_do_trade_tt_textile
			remove_variable = trade_do_trade_ttt_textile
			remove_variable = trade_do_trade_tttt_textile
			remove_variable = trade_buy_pottery
			remove_variable = trade_sell_pottery
			remove_variable = trade_point_pottery
			remove_variable = trade_sum_buy_pottery
			remove_variable = trade_sum_sell_pottery
			remove_variable = trade_do_trade_t_pottery
			remove_variable = trade_do_trade_tt_pottery
			remove_variable = trade_do_trade_ttt_pottery
			remove_variable = trade_do_trade_tttt_pottery
			remove_variable = trade_buy_tools
			remove_variable = trade_sell_tools
			remove_variable = trade_point_tools
			remove_variable = trade_sum_buy_tools
			remove_variable = trade_sum_sell_tools
			remove_variable = trade_do_trade_t_tools
			remove_variable = trade_do_trade_tt_tools
			remove_variable = trade_do_trade_ttt_tools
			remove_variable = trade_do_trade_tttt_tools
			remove_variable = trade_buy_armaments
			remove_variable = trade_sell_armaments
			remove_variable = trade_point_armaments
			remove_variable = trade_sum_buy_armaments
			remove_variable = trade_sum_sell_armaments
			remove_variable = trade_do_trade_t_armaments
			remove_variable = trade_do_trade_tt_armaments
			remove_variable = trade_do_trade_ttt_armaments
			remove_variable = trade_do_trade_tttt_armaments
			remove_variable = trade_cost
			remove_variable = trade_do_trade_t
			remove_variable = trade_do_trade_tt
			remove_variable = trade_do_trade_ttt
			remove_variable = trade_do_trade_capital
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_food
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_food
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_food
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_food
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_food = { 
						compare_value < prev.var:trade_price_food
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_food
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_food
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_food
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_food
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_food
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_food
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_food
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_food
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_food = { 
						compare_value > prev.var:trade_price_food
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_food
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_food
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_food
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_food
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_food
			remove_variable = trade_sell_food
			remove_variable = trade_point_food
			remove_variable = trade_sum_buy_food
			remove_variable = trade_sum_sell_food
			remove_variable = trade_do_trade_t_food
			remove_variable = trade_do_trade_tt_food
			remove_variable = trade_do_trade_ttt_food
			remove_variable = trade_do_trade_tttt_food
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_cereal
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_cereal
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_cereal
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_cereal
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_cereal = { 
						compare_value < prev.var:trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_cereal
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_cereal
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_cereal
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_cereal
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_cereal
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_cereal
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_cereal
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_cereal
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_cereal = { 
						compare_value > prev.var:trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_cereal
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_cereal
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_cereal
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_cereal
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_cereal
			remove_variable = trade_sell_cereal
			remove_variable = trade_point_cereal
			remove_variable = trade_sum_buy_cereal
			remove_variable = trade_sum_sell_cereal
			remove_variable = trade_do_trade_t_cereal
			remove_variable = trade_do_trade_tt_cereal
			remove_variable = trade_do_trade_ttt_cereal
			remove_variable = trade_do_trade_tttt_cereal
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_salted
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_salted
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_salted
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_salted
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_salted = { 
						compare_value < prev.var:trade_price_salted
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_salted
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_salted
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_salted
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_salted
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_salted
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_salted
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_salted
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_salted
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_salted = { 
						compare_value > prev.var:trade_price_salted
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_salted
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_salted
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_salted
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_salted
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_salted
			remove_variable = trade_sell_salted
			remove_variable = trade_point_salted
			remove_variable = trade_sum_buy_salted
			remove_variable = trade_sum_sell_salted
			remove_variable = trade_do_trade_t_salted
			remove_variable = trade_do_trade_tt_salted
			remove_variable = trade_do_trade_ttt_salted
			remove_variable = trade_do_trade_tttt_salted
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_salt
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_salt
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_salt
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_salt
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_salt = { 
						compare_value < prev.var:trade_price_salt
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_salt
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_salt
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_salt
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_salt
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_salt
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_salt
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_salt
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_salt
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_salt = { 
						compare_value > prev.var:trade_price_salt
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_salt
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_salt
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_salt
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_salt
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_salt
			remove_variable = trade_sell_salt
			remove_variable = trade_point_salt
			remove_variable = trade_sum_buy_salt
			remove_variable = trade_sum_sell_salt
			remove_variable = trade_do_trade_t_salt
			remove_variable = trade_do_trade_tt_salt
			remove_variable = trade_do_trade_ttt_salt
			remove_variable = trade_do_trade_tttt_salt
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_mud
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_mud
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_mud
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_mud
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_mud = { 
						compare_value < prev.var:trade_price_mud
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_mud
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_mud
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_mud
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_mud
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_mud
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_mud
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_mud
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_mud
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_mud = { 
						compare_value > prev.var:trade_price_mud
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_mud
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_mud
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_mud
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_mud
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_mud
			remove_variable = trade_sell_mud
			remove_variable = trade_point_mud
			remove_variable = trade_sum_buy_mud
			remove_variable = trade_sum_sell_mud
			remove_variable = trade_do_trade_t_mud
			remove_variable = trade_do_trade_tt_mud
			remove_variable = trade_do_trade_ttt_mud
			remove_variable = trade_do_trade_tttt_mud
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_fuel
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_fuel
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_fuel
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_fuel
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_fuel = { 
						compare_value < prev.var:trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_fuel
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_fuel
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_fuel
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_fuel
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_fuel
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_fuel
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_fuel
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_fuel
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_fuel = { 
						compare_value > prev.var:trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_fuel
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_fuel
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_fuel
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_fuel
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_fuel
			remove_variable = trade_sell_fuel
			remove_variable = trade_point_fuel
			remove_variable = trade_sum_buy_fuel
			remove_variable = trade_sum_sell_fuel
			remove_variable = trade_do_trade_t_fuel
			remove_variable = trade_do_trade_tt_fuel
			remove_variable = trade_do_trade_ttt_fuel
			remove_variable = trade_do_trade_tttt_fuel
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_fiber
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_fiber
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_fiber
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_fiber
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_fiber = { 
						compare_value < prev.var:trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_fiber
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_fiber
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_fiber
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_fiber
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_fiber
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_fiber
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_fiber
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_fiber
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_fiber = { 
						compare_value > prev.var:trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_fiber
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_fiber
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_fiber
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_fiber
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_fiber
			remove_variable = trade_sell_fiber
			remove_variable = trade_point_fiber
			remove_variable = trade_sum_buy_fiber
			remove_variable = trade_sum_sell_fiber
			remove_variable = trade_do_trade_t_fiber
			remove_variable = trade_do_trade_tt_fiber
			remove_variable = trade_do_trade_ttt_fiber
			remove_variable = trade_do_trade_tttt_fiber
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_timber
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_timber
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_timber
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_timber
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_timber = { 
						compare_value < prev.var:trade_price_timber
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_timber
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_timber
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_timber
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_timber
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_timber
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_timber
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_timber
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_timber
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_timber = { 
						compare_value > prev.var:trade_price_timber
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_timber
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_timber
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_timber
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_timber
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_timber
			remove_variable = trade_sell_timber
			remove_variable = trade_point_timber
			remove_variable = trade_sum_buy_timber
			remove_variable = trade_sum_sell_timber
			remove_variable = trade_do_trade_t_timber
			remove_variable = trade_do_trade_tt_timber
			remove_variable = trade_do_trade_ttt_timber
			remove_variable = trade_do_trade_tttt_timber
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_metal
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_metal
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_metal
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_metal
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_metal = { 
						compare_value < prev.var:trade_price_metal
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_metal
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_metal
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_metal
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_metal
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_metal
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_metal
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_metal
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_metal
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_metal = { 
						compare_value > prev.var:trade_price_metal
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_metal
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_metal
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_metal
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_metal
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_metal
			remove_variable = trade_sell_metal
			remove_variable = trade_point_metal
			remove_variable = trade_sum_buy_metal
			remove_variable = trade_sum_sell_metal
			remove_variable = trade_do_trade_t_metal
			remove_variable = trade_do_trade_tt_metal
			remove_variable = trade_do_trade_ttt_metal
			remove_variable = trade_do_trade_tttt_metal
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_exotics_w
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_exotics_w
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_exotics_w
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_exotics_w
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_w = { 
						compare_value < prev.var:trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_exotics_w
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_exotics_w
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_exotics_w
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_w
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_exotics_w
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_exotics_w
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_exotics_w
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_exotics_w
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_w = { 
						compare_value > prev.var:trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_exotics_w
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_exotics_w
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_exotics_w
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_w
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_exotics_w
			remove_variable = trade_sell_exotics_w
			remove_variable = trade_point_exotics_w
			remove_variable = trade_sum_buy_exotics_w
			remove_variable = trade_sum_sell_exotics_w
			remove_variable = trade_do_trade_t_exotics_w
			remove_variable = trade_do_trade_tt_exotics_w
			remove_variable = trade_do_trade_ttt_exotics_w
			remove_variable = trade_do_trade_tttt_exotics_w
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_exotics_e
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_exotics_e
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_exotics_e
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_exotics_e
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_e = { 
						compare_value < prev.var:trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_exotics_e
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_exotics_e
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_exotics_e
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_e
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_exotics_e
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_exotics_e
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_exotics_e
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_exotics_e
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_e = { 
						compare_value > prev.var:trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_exotics_e
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_exotics_e
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_exotics_e
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_e
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_exotics_e
			remove_variable = trade_sell_exotics_e
			remove_variable = trade_point_exotics_e
			remove_variable = trade_sum_buy_exotics_e
			remove_variable = trade_sum_sell_exotics_e
			remove_variable = trade_do_trade_t_exotics_e
			remove_variable = trade_do_trade_tt_exotics_e
			remove_variable = trade_do_trade_ttt_exotics_e
			remove_variable = trade_do_trade_tttt_exotics_e
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_exotics_g
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_exotics_g
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_exotics_g
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_exotics_g
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_g = { 
						compare_value < prev.var:trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_exotics_g
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_exotics_g
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_exotics_g
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_g
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_exotics_g
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_exotics_g
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_exotics_g
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_exotics_g
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_exotics_g = { 
						compare_value > prev.var:trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_exotics_g
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_exotics_g
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_exotics_g
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_g
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_exotics_g
			remove_variable = trade_sell_exotics_g
			remove_variable = trade_point_exotics_g
			remove_variable = trade_sum_buy_exotics_g
			remove_variable = trade_sum_sell_exotics_g
			remove_variable = trade_do_trade_t_exotics_g
			remove_variable = trade_do_trade_tt_exotics_g
			remove_variable = trade_do_trade_ttt_exotics_g
			remove_variable = trade_do_trade_tttt_exotics_g
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_textile
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_textile
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_textile
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_textile
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_textile = { 
						compare_value < prev.var:trade_price_textile
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_textile
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_textile
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_textile
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_textile
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_textile
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_textile
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_textile
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_textile
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_textile = { 
						compare_value > prev.var:trade_price_textile
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_textile
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_textile
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_textile
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_textile
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_textile
			remove_variable = trade_sell_textile
			remove_variable = trade_point_textile
			remove_variable = trade_sum_buy_textile
			remove_variable = trade_sum_sell_textile
			remove_variable = trade_do_trade_t_textile
			remove_variable = trade_do_trade_tt_textile
			remove_variable = trade_do_trade_ttt_textile
			remove_variable = trade_do_trade_tttt_textile
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_pottery
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_pottery
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_pottery
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_pottery
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_pottery = { 
						compare_value < prev.var:trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_pottery
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_pottery
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_pottery
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_pottery
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_pottery
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_pottery
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_pottery
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_pottery
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_pottery = { 
						compare_value > prev.var:trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_pottery
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_pottery
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_pottery
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_pottery
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_pottery
			remove_variable = trade_sell_pottery
			remove_variable = trade_point_pottery
			remove_variable = trade_sum_buy_pottery
			remove_variable = trade_sum_sell_pottery
			remove_variable = trade_do_trade_t_pottery
			remove_variable = trade_do_trade_tt_pottery
			remove_variable = trade_do_trade_ttt_pottery
			remove_variable = trade_do_trade_tttt_pottery
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_tools
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_tools
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_tools
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_tools
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_tools = { 
						compare_value < prev.var:trade_price_tools
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_tools
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_tools
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_tools
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_tools
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_tools
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_tools
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_tools
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_tools
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_tools = { 
						compare_value > prev.var:trade_price_tools
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_tools
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_tools
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_tools
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_tools
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_tools
			remove_variable = trade_sell_tools
			remove_variable = trade_point_tools
			remove_variable = trade_sum_buy_tools
			remove_variable = trade_sum_sell_tools
			remove_variable = trade_do_trade_t_tools
			remove_variable = trade_do_trade_tt_tools
			remove_variable = trade_do_trade_ttt_tools
			remove_variable = trade_do_trade_tttt_tools
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_sply_armaments
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_out_armaments
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_dmnd_armaments
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_in_armaments
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_armaments = { 
						compare_value < prev.var:trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = capital_county.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_out_armaments
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_earn_armaments
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_in_armaments
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_armaments
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_t
				value = var:trade_dmnd_armaments
			}
			change_variable = { 
				name = trade_do_trade_t
				subtract = var:trade_in_armaments
			}
			set_variable = { 
				name = trade_do_trade_tt
				value = capital_county.var:trade_sply_armaments
			}
			change_variable = { 
				name = trade_do_trade_tt
				subtract = capital_county.var:trade_out_armaments
			}
			if = { 
				limit = { 
					capital_county.var:trade_price_armaments = { 
						compare_value > prev.var:trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_do_trade_ttt
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = 10
				}
				change_variable = { 
					name = trade_do_trade_ttt
					divide = capital_county.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_ttt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_ttt
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = task_manage_stockpile
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:task_manage_stockpile.var:task_time_in
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 100
				}
			}
			if = { 
				limit = { 
					has_variable = trade_do_trade_t
					has_variable = trade_do_trade_tt
					var:trade_do_trade_t > 0
					var:trade_do_trade_tt > 0
				}
				if = { 
					limit = { 
						var:trade_do_trade_t = { 
							compare_value > prev.var:trade_do_trade_tt
						}
					}
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_do_trade_tt
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					add = capital_county.var:trade_price_armaments
				}
				change_variable = { 
					name = trade_do_trade_tt
					divide = 2
				}
				change_variable = { 
					name = trade_do_trade_tt
					multiply = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_in_armaments
					add = var:trade_do_trade_t
				}
				change_variable = { 
					name = trade_pay_armaments
					add = var:trade_do_trade_tt
				}
				capital_county = { 
					change_variable = { 
						name = trade_out_armaments
						add = prev.var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_armaments
						add = prev.var:trade_do_trade_tt
					}
				}
			}
			remove_variable = trade_buy_armaments
			remove_variable = trade_sell_armaments
			remove_variable = trade_point_armaments
			remove_variable = trade_sum_buy_armaments
			remove_variable = trade_sum_sell_armaments
			remove_variable = trade_do_trade_t_armaments
			remove_variable = trade_do_trade_tt_armaments
			remove_variable = trade_do_trade_ttt_armaments
			remove_variable = trade_do_trade_tttt_armaments
			remove_variable = trade_cost
			remove_variable = trade_do_trade_t
			remove_variable = trade_do_trade_tt
			remove_variable = trade_do_trade_ttt
		}
		every_in_global_list = { 
			variable = trade_merchants
			remove_variable = trade_buy_food
			remove_variable = trade_sell_food
			remove_variable = trade_point_food
			remove_variable = trade_sum_buy_food
			remove_variable = trade_sum_sell_food
			remove_variable = trade_do_trade_t_food
			remove_variable = trade_do_trade_tt_food
			remove_variable = trade_do_trade_ttt_food
			remove_variable = trade_do_trade_tttt_food
			remove_variable = trade_buy_cereal
			remove_variable = trade_sell_cereal
			remove_variable = trade_point_cereal
			remove_variable = trade_sum_buy_cereal
			remove_variable = trade_sum_sell_cereal
			remove_variable = trade_do_trade_t_cereal
			remove_variable = trade_do_trade_tt_cereal
			remove_variable = trade_do_trade_ttt_cereal
			remove_variable = trade_do_trade_tttt_cereal
			remove_variable = trade_buy_salted
			remove_variable = trade_sell_salted
			remove_variable = trade_point_salted
			remove_variable = trade_sum_buy_salted
			remove_variable = trade_sum_sell_salted
			remove_variable = trade_do_trade_t_salted
			remove_variable = trade_do_trade_tt_salted
			remove_variable = trade_do_trade_ttt_salted
			remove_variable = trade_do_trade_tttt_salted
			remove_variable = trade_buy_salt
			remove_variable = trade_sell_salt
			remove_variable = trade_point_salt
			remove_variable = trade_sum_buy_salt
			remove_variable = trade_sum_sell_salt
			remove_variable = trade_do_trade_t_salt
			remove_variable = trade_do_trade_tt_salt
			remove_variable = trade_do_trade_ttt_salt
			remove_variable = trade_do_trade_tttt_salt
			remove_variable = trade_buy_mud
			remove_variable = trade_sell_mud
			remove_variable = trade_point_mud
			remove_variable = trade_sum_buy_mud
			remove_variable = trade_sum_sell_mud
			remove_variable = trade_do_trade_t_mud
			remove_variable = trade_do_trade_tt_mud
			remove_variable = trade_do_trade_ttt_mud
			remove_variable = trade_do_trade_tttt_mud
			remove_variable = trade_buy_fuel
			remove_variable = trade_sell_fuel
			remove_variable = trade_point_fuel
			remove_variable = trade_sum_buy_fuel
			remove_variable = trade_sum_sell_fuel
			remove_variable = trade_do_trade_t_fuel
			remove_variable = trade_do_trade_tt_fuel
			remove_variable = trade_do_trade_ttt_fuel
			remove_variable = trade_do_trade_tttt_fuel
			remove_variable = trade_buy_fiber
			remove_variable = trade_sell_fiber
			remove_variable = trade_point_fiber
			remove_variable = trade_sum_buy_fiber
			remove_variable = trade_sum_sell_fiber
			remove_variable = trade_do_trade_t_fiber
			remove_variable = trade_do_trade_tt_fiber
			remove_variable = trade_do_trade_ttt_fiber
			remove_variable = trade_do_trade_tttt_fiber
			remove_variable = trade_buy_timber
			remove_variable = trade_sell_timber
			remove_variable = trade_point_timber
			remove_variable = trade_sum_buy_timber
			remove_variable = trade_sum_sell_timber
			remove_variable = trade_do_trade_t_timber
			remove_variable = trade_do_trade_tt_timber
			remove_variable = trade_do_trade_ttt_timber
			remove_variable = trade_do_trade_tttt_timber
			remove_variable = trade_buy_metal
			remove_variable = trade_sell_metal
			remove_variable = trade_point_metal
			remove_variable = trade_sum_buy_metal
			remove_variable = trade_sum_sell_metal
			remove_variable = trade_do_trade_t_metal
			remove_variable = trade_do_trade_tt_metal
			remove_variable = trade_do_trade_ttt_metal
			remove_variable = trade_do_trade_tttt_metal
			remove_variable = trade_buy_exotics_w
			remove_variable = trade_sell_exotics_w
			remove_variable = trade_point_exotics_w
			remove_variable = trade_sum_buy_exotics_w
			remove_variable = trade_sum_sell_exotics_w
			remove_variable = trade_do_trade_t_exotics_w
			remove_variable = trade_do_trade_tt_exotics_w
			remove_variable = trade_do_trade_ttt_exotics_w
			remove_variable = trade_do_trade_tttt_exotics_w
			remove_variable = trade_buy_exotics_e
			remove_variable = trade_sell_exotics_e
			remove_variable = trade_point_exotics_e
			remove_variable = trade_sum_buy_exotics_e
			remove_variable = trade_sum_sell_exotics_e
			remove_variable = trade_do_trade_t_exotics_e
			remove_variable = trade_do_trade_tt_exotics_e
			remove_variable = trade_do_trade_ttt_exotics_e
			remove_variable = trade_do_trade_tttt_exotics_e
			remove_variable = trade_buy_exotics_g
			remove_variable = trade_sell_exotics_g
			remove_variable = trade_point_exotics_g
			remove_variable = trade_sum_buy_exotics_g
			remove_variable = trade_sum_sell_exotics_g
			remove_variable = trade_do_trade_t_exotics_g
			remove_variable = trade_do_trade_tt_exotics_g
			remove_variable = trade_do_trade_ttt_exotics_g
			remove_variable = trade_do_trade_tttt_exotics_g
			remove_variable = trade_buy_textile
			remove_variable = trade_sell_textile
			remove_variable = trade_point_textile
			remove_variable = trade_sum_buy_textile
			remove_variable = trade_sum_sell_textile
			remove_variable = trade_do_trade_t_textile
			remove_variable = trade_do_trade_tt_textile
			remove_variable = trade_do_trade_ttt_textile
			remove_variable = trade_do_trade_tttt_textile
			remove_variable = trade_buy_pottery
			remove_variable = trade_sell_pottery
			remove_variable = trade_point_pottery
			remove_variable = trade_sum_buy_pottery
			remove_variable = trade_sum_sell_pottery
			remove_variable = trade_do_trade_t_pottery
			remove_variable = trade_do_trade_tt_pottery
			remove_variable = trade_do_trade_ttt_pottery
			remove_variable = trade_do_trade_tttt_pottery
			remove_variable = trade_buy_tools
			remove_variable = trade_sell_tools
			remove_variable = trade_point_tools
			remove_variable = trade_sum_buy_tools
			remove_variable = trade_sum_sell_tools
			remove_variable = trade_do_trade_t_tools
			remove_variable = trade_do_trade_tt_tools
			remove_variable = trade_do_trade_ttt_tools
			remove_variable = trade_do_trade_tttt_tools
			remove_variable = trade_buy_armaments
			remove_variable = trade_sell_armaments
			remove_variable = trade_point_armaments
			remove_variable = trade_sum_buy_armaments
			remove_variable = trade_sum_sell_armaments
			remove_variable = trade_do_trade_t_armaments
			remove_variable = trade_do_trade_tt_armaments
			remove_variable = trade_do_trade_ttt_armaments
			remove_variable = trade_do_trade_tttt_armaments
			remove_global_variable = trade_do_trade_tt
			remove_variable = trade_cost
			remove_variable = trade_do_trade_t
			remove_variable = trade_do_trade_tt
			remove_variable = trade_do_trade_ttt
		}
		remove_global_variable = trade_do_trade_t
		remove_global_variable = trade_do_trade_tt
	}
	option = { }
}
census.07 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = trade_earn
				value = 0
			}
			set_variable = { 
				name = trade_pay
				value = 0
			}
			change_variable = { 
				name = trade_has_food
				add = var:trade_in_food
			}
			change_variable = { 
				name = trade_has_food
				subtract = var:trade_out_food
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_food
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_food
			}
			change_variable = { 
				name = trade_has_cereal
				add = var:trade_in_cereal
			}
			change_variable = { 
				name = trade_has_cereal
				subtract = var:trade_out_cereal
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_cereal
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_cereal
			}
			change_variable = { 
				name = trade_has_salted
				add = var:trade_in_salted
			}
			change_variable = { 
				name = trade_has_salted
				subtract = var:trade_out_salted
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_salted
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_salted
			}
			change_variable = { 
				name = trade_has_salt
				add = var:trade_in_salt
			}
			change_variable = { 
				name = trade_has_salt
				subtract = var:trade_out_salt
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_salt
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_salt
			}
			change_variable = { 
				name = trade_has_mud
				add = var:trade_in_mud
			}
			change_variable = { 
				name = trade_has_mud
				subtract = var:trade_out_mud
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_mud
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_mud
			}
			change_variable = { 
				name = trade_has_fuel
				add = var:trade_in_fuel
			}
			change_variable = { 
				name = trade_has_fuel
				subtract = var:trade_out_fuel
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_fuel
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_fuel
			}
			change_variable = { 
				name = trade_has_fiber
				add = var:trade_in_fiber
			}
			change_variable = { 
				name = trade_has_fiber
				subtract = var:trade_out_fiber
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_fiber
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_fiber
			}
			change_variable = { 
				name = trade_has_timber
				add = var:trade_in_timber
			}
			change_variable = { 
				name = trade_has_timber
				subtract = var:trade_out_timber
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_timber
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_timber
			}
			change_variable = { 
				name = trade_has_metal
				add = var:trade_in_metal
			}
			change_variable = { 
				name = trade_has_metal
				subtract = var:trade_out_metal
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_metal
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_metal
			}
			change_variable = { 
				name = trade_has_exotics_w
				add = var:trade_in_exotics_w
			}
			change_variable = { 
				name = trade_has_exotics_w
				subtract = var:trade_out_exotics_w
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_w
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_w
			}
			change_variable = { 
				name = trade_has_exotics_e
				add = var:trade_in_exotics_e
			}
			change_variable = { 
				name = trade_has_exotics_e
				subtract = var:trade_out_exotics_e
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_e
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_e
			}
			change_variable = { 
				name = trade_has_exotics_g
				add = var:trade_in_exotics_g
			}
			change_variable = { 
				name = trade_has_exotics_g
				subtract = var:trade_out_exotics_g
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_g
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_g
			}
			change_variable = { 
				name = trade_has_textile
				add = var:trade_in_textile
			}
			change_variable = { 
				name = trade_has_textile
				subtract = var:trade_out_textile
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_textile
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_textile
			}
			change_variable = { 
				name = trade_has_pottery
				add = var:trade_in_pottery
			}
			change_variable = { 
				name = trade_has_pottery
				subtract = var:trade_out_pottery
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_pottery
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_pottery
			}
			change_variable = { 
				name = trade_has_tools
				add = var:trade_in_tools
			}
			change_variable = { 
				name = trade_has_tools
				subtract = var:trade_out_tools
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_tools
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_tools
			}
			change_variable = { 
				name = trade_has_armaments
				add = var:trade_in_armaments
			}
			change_variable = { 
				name = trade_has_armaments
				subtract = var:trade_out_armaments
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_armaments
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_armaments
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = pop_pay_calorie
				value = 0
			}
			set_variable = { 
				name = pop_pay_nutrient
				value = 0
			}
			set_variable = { 
				name = pop_pay_comfort
				value = 0
			}
			set_variable = { 
				name = pop_pay_luxury
				value = 0
			}
			set_variable = { 
				name = pop_pay_supply
				value = 0
			}
			set_variable = { 
				name = prod_earn_food
				value = 0
			}
			set_variable = { 
				name = prod_earn_cereal
				value = 0
			}
			set_variable = { 
				name = prod_earn_salted
				value = 0
			}
			set_variable = { 
				name = prod_earn_salt
				value = 0
			}
			set_variable = { 
				name = prod_earn_mud
				value = 0
			}
			set_variable = { 
				name = prod_earn_fuel
				value = 0
			}
			set_variable = { 
				name = prod_earn_fiber
				value = 0
			}
			set_variable = { 
				name = prod_earn_timber
				value = 0
			}
			set_variable = { 
				name = prod_earn_metal
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_w
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_e
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_g
				value = 0
			}
			set_variable = { 
				name = prod_earn_textile
				value = 0
			}
			set_variable = { 
				name = prod_earn_pottery
				value = 0
			}
			set_variable = { 
				name = prod_earn_tools
				value = 0
			}
			set_variable = { 
				name = prod_earn_armaments
				value = 0
			}
		}
		every_in_global_list = { 
			variable = prod_instances
			set_variable = { 
				name = prod_tools_pay
				value = 0
			}
			set_variable = { 
				name = prod_earn_food
				value = 0
			}
			set_variable = { 
				name = prod_pay_food
				value = 0
			}
			set_variable = { 
				name = prod_earn_cereal
				value = 0
			}
			set_variable = { 
				name = prod_pay_cereal
				value = 0
			}
			set_variable = { 
				name = prod_earn_salted
				value = 0
			}
			set_variable = { 
				name = prod_pay_salted
				value = 0
			}
			set_variable = { 
				name = prod_earn_salt
				value = 0
			}
			set_variable = { 
				name = prod_pay_salt
				value = 0
			}
			set_variable = { 
				name = prod_earn_mud
				value = 0
			}
			set_variable = { 
				name = prod_pay_mud
				value = 0
			}
			set_variable = { 
				name = prod_earn_fuel
				value = 0
			}
			set_variable = { 
				name = prod_pay_fuel
				value = 0
			}
			set_variable = { 
				name = prod_earn_fiber
				value = 0
			}
			set_variable = { 
				name = prod_pay_fiber
				value = 0
			}
			set_variable = { 
				name = prod_earn_timber
				value = 0
			}
			set_variable = { 
				name = prod_pay_timber
				value = 0
			}
			set_variable = { 
				name = prod_earn_metal
				value = 0
			}
			set_variable = { 
				name = prod_pay_metal
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_w
				value = 0
			}
			set_variable = { 
				name = prod_pay_exotics_w
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_e
				value = 0
			}
			set_variable = { 
				name = prod_pay_exotics_e
				value = 0
			}
			set_variable = { 
				name = prod_earn_exotics_g
				value = 0
			}
			set_variable = { 
				name = prod_pay_exotics_g
				value = 0
			}
			set_variable = { 
				name = prod_earn_textile
				value = 0
			}
			set_variable = { 
				name = prod_pay_textile
				value = 0
			}
			set_variable = { 
				name = prod_earn_pottery
				value = 0
			}
			set_variable = { 
				name = prod_pay_pottery
				value = 0
			}
			set_variable = { 
				name = prod_earn_tools
				value = 0
			}
			set_variable = { 
				name = prod_pay_tools
				value = 0
			}
			set_variable = { 
				name = prod_earn_armaments
				value = 0
			}
			set_variable = { 
				name = prod_pay_armaments
				value = 0
			}
		}
		if = { 
			limit = { 
				has_global_variable_list = build_slots_active
				global_variable_list_size = { 
					name = build_slots_active
					value >= 1
				}
			}
			every_in_global_list = { 
				variable = build_slots_active
				if = { 
					limit = { 
						has_variable = build_food
						var:build_food > 0
					}
					set_variable = { 
						name = build_in_food
						value = 0
					}
					set_variable = { 
						name = build_pay_food
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_cereal
						var:build_cereal > 0
					}
					set_variable = { 
						name = build_in_cereal
						value = 0
					}
					set_variable = { 
						name = build_pay_cereal
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_salted
						var:build_salted > 0
					}
					set_variable = { 
						name = build_in_salted
						value = 0
					}
					set_variable = { 
						name = build_pay_salted
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_salt
						var:build_salt > 0
					}
					set_variable = { 
						name = build_in_salt
						value = 0
					}
					set_variable = { 
						name = build_pay_salt
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_mud
						var:build_mud > 0
					}
					set_variable = { 
						name = build_in_mud
						value = 0
					}
					set_variable = { 
						name = build_pay_mud
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_fuel
						var:build_fuel > 0
					}
					set_variable = { 
						name = build_in_fuel
						value = 0
					}
					set_variable = { 
						name = build_pay_fuel
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_fiber
						var:build_fiber > 0
					}
					set_variable = { 
						name = build_in_fiber
						value = 0
					}
					set_variable = { 
						name = build_pay_fiber
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_timber
						var:build_timber > 0
					}
					set_variable = { 
						name = build_in_timber
						value = 0
					}
					set_variable = { 
						name = build_pay_timber
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_metal
						var:build_metal > 0
					}
					set_variable = { 
						name = build_in_metal
						value = 0
					}
					set_variable = { 
						name = build_pay_metal
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_w
						var:build_exotics_w > 0
					}
					set_variable = { 
						name = build_in_exotics_w
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_w
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_e
						var:build_exotics_e > 0
					}
					set_variable = { 
						name = build_in_exotics_e
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_e
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_g
						var:build_exotics_g > 0
					}
					set_variable = { 
						name = build_in_exotics_g
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_g
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_textile
						var:build_textile > 0
					}
					set_variable = { 
						name = build_in_textile
						value = 0
					}
					set_variable = { 
						name = build_pay_textile
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_pottery
						var:build_pottery > 0
					}
					set_variable = { 
						name = build_in_pottery
						value = 0
					}
					set_variable = { 
						name = build_pay_pottery
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_tools
						var:build_tools > 0
					}
					set_variable = { 
						name = build_in_tools
						value = 0
					}
					set_variable = { 
						name = build_pay_tools
						value = 0
					}
				}
				if = { 
					limit = { 
						has_variable = build_armaments
						var:build_armaments > 0
					}
					set_variable = { 
						name = build_in_armaments
						value = 0
					}
					set_variable = { 
						name = build_pay_armaments
						value = 0
					}
				}
			}
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_pay
				value = 0
			}
			change_variable = { 
				name = trade_has_food
				subtract = var:trade_out_food
			}
			change_variable = { 
				name = trade_has_food
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_food
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_food
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_food
						add = var:prod_sply_old_food
					}
					prev = { 
						change_variable = { 
							name = prod_has_food
							add = prev.var:prod_has_food
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_food
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_food
						var:prod_has_food > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_food
							var:prod_has_food > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_food
							multiply = 100
						}
						change_variable = { 
							name = prod_has_food
							divide = prev.var:prod_has_food
						}
					}
					change_variable = { 
						name = prod_has_food
						multiply = 100
					}
					change_variable = { 
						name = prod_has_food
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_food
						multiply = prev.var:trade_has_food
					}
					change_variable = { 
						name = prod_has_food
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_food
							var:prod_has_food > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_food
							multiply = prev.var:prod_has_food
						}
						change_variable = { 
							name = prod_has_food
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_food
					var:trade_earn_food > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_food
						var:prod_has_food > 0
					}
					set_variable = { 
						name = prod_earn_food
						value = var:prod_has_food
					}
					change_variable = { 
						name = prod_earn_food
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_food
						divide = prev.var:trade_has_food
					}
					change_variable = { 
						name = prod_earn_food
						multiply = prev.var:trade_earn_food
					}
					change_variable = { 
						name = prod_earn_food
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_food
							var:prod_has_food > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_food
							value = var:prod_has_food
						}
						change_variable = { 
							name = prod_earn_food
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_food
							divide = prev.var:prod_has_food
						}
						change_variable = { 
							name = prod_earn_food
							multiply = prev.var:prod_earn_food
						}
						change_variable = { 
							name = prod_earn_food
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_cereal
				subtract = var:trade_out_cereal
			}
			change_variable = { 
				name = trade_has_cereal
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_cereal
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_cereal
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_cereal
						add = var:prod_sply_old_cereal
					}
					prev = { 
						change_variable = { 
							name = prod_has_cereal
							add = prev.var:prod_has_cereal
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_cereal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_cereal
						var:prod_has_cereal > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_cereal
							var:prod_has_cereal > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_cereal
							multiply = 100
						}
						change_variable = { 
							name = prod_has_cereal
							divide = prev.var:prod_has_cereal
						}
					}
					change_variable = { 
						name = prod_has_cereal
						multiply = 100
					}
					change_variable = { 
						name = prod_has_cereal
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_cereal
						multiply = prev.var:trade_has_cereal
					}
					change_variable = { 
						name = prod_has_cereal
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_cereal
							var:prod_has_cereal > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_cereal
							multiply = prev.var:prod_has_cereal
						}
						change_variable = { 
							name = prod_has_cereal
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_cereal
					var:trade_earn_cereal > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_cereal
						var:prod_has_cereal > 0
					}
					set_variable = { 
						name = prod_earn_cereal
						value = var:prod_has_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_cereal
						divide = prev.var:trade_has_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						multiply = prev.var:trade_earn_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_cereal
							var:prod_has_cereal > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_cereal
							value = var:prod_has_cereal
						}
						change_variable = { 
							name = prod_earn_cereal
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_cereal
							divide = prev.var:prod_has_cereal
						}
						change_variable = { 
							name = prod_earn_cereal
							multiply = prev.var:prod_earn_cereal
						}
						change_variable = { 
							name = prod_earn_cereal
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_salted
				subtract = var:trade_out_salted
			}
			change_variable = { 
				name = trade_has_salted
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_salted
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_salted
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salted
						add = var:prod_sply_old_salted
					}
					prev = { 
						change_variable = { 
							name = prod_has_salted
							add = prev.var:prod_has_salted
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_salted
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_salted
						var:prod_has_salted > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salted
							var:prod_has_salted > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_salted
							multiply = 100
						}
						change_variable = { 
							name = prod_has_salted
							divide = prev.var:prod_has_salted
						}
					}
					change_variable = { 
						name = prod_has_salted
						multiply = 100
					}
					change_variable = { 
						name = prod_has_salted
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_salted
						multiply = prev.var:trade_has_salted
					}
					change_variable = { 
						name = prod_has_salted
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salted
							var:prod_has_salted > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_salted
							multiply = prev.var:prod_has_salted
						}
						change_variable = { 
							name = prod_has_salted
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_salted
					var:trade_earn_salted > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_salted
						var:prod_has_salted > 0
					}
					set_variable = { 
						name = prod_earn_salted
						value = var:prod_has_salted
					}
					change_variable = { 
						name = prod_earn_salted
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_salted
						divide = prev.var:trade_has_salted
					}
					change_variable = { 
						name = prod_earn_salted
						multiply = prev.var:trade_earn_salted
					}
					change_variable = { 
						name = prod_earn_salted
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salted
							var:prod_has_salted > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_salted
							value = var:prod_has_salted
						}
						change_variable = { 
							name = prod_earn_salted
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_salted
							divide = prev.var:prod_has_salted
						}
						change_variable = { 
							name = prod_earn_salted
							multiply = prev.var:prod_earn_salted
						}
						change_variable = { 
							name = prod_earn_salted
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_salt
				subtract = var:trade_out_salt
			}
			change_variable = { 
				name = trade_has_salt
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_salt
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_salt
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salt
						add = var:prod_sply_old_salt
					}
					prev = { 
						change_variable = { 
							name = prod_has_salt
							add = prev.var:prod_has_salt
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_salt
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_salt
						var:prod_has_salt > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salt
							var:prod_has_salt > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_salt
							multiply = 100
						}
						change_variable = { 
							name = prod_has_salt
							divide = prev.var:prod_has_salt
						}
					}
					change_variable = { 
						name = prod_has_salt
						multiply = 100
					}
					change_variable = { 
						name = prod_has_salt
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_salt
						multiply = prev.var:trade_has_salt
					}
					change_variable = { 
						name = prod_has_salt
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salt
							var:prod_has_salt > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_salt
							multiply = prev.var:prod_has_salt
						}
						change_variable = { 
							name = prod_has_salt
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_salt
					var:trade_earn_salt > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_salt
						var:prod_has_salt > 0
					}
					set_variable = { 
						name = prod_earn_salt
						value = var:prod_has_salt
					}
					change_variable = { 
						name = prod_earn_salt
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_salt
						divide = prev.var:trade_has_salt
					}
					change_variable = { 
						name = prod_earn_salt
						multiply = prev.var:trade_earn_salt
					}
					change_variable = { 
						name = prod_earn_salt
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_salt
							var:prod_has_salt > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_salt
							value = var:prod_has_salt
						}
						change_variable = { 
							name = prod_earn_salt
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_salt
							divide = prev.var:prod_has_salt
						}
						change_variable = { 
							name = prod_earn_salt
							multiply = prev.var:prod_earn_salt
						}
						change_variable = { 
							name = prod_earn_salt
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_mud
				subtract = var:trade_out_mud
			}
			change_variable = { 
				name = trade_has_mud
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_mud
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_mud
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_mud
						add = var:prod_sply_old_mud
					}
					prev = { 
						change_variable = { 
							name = prod_has_mud
							add = prev.var:prod_has_mud
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_mud
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_mud
						var:prod_has_mud > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_mud
							var:prod_has_mud > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_mud
							multiply = 100
						}
						change_variable = { 
							name = prod_has_mud
							divide = prev.var:prod_has_mud
						}
					}
					change_variable = { 
						name = prod_has_mud
						multiply = 100
					}
					change_variable = { 
						name = prod_has_mud
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_mud
						multiply = prev.var:trade_has_mud
					}
					change_variable = { 
						name = prod_has_mud
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_mud
							var:prod_has_mud > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_mud
							multiply = prev.var:prod_has_mud
						}
						change_variable = { 
							name = prod_has_mud
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_mud
					var:trade_earn_mud > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_mud
						var:prod_has_mud > 0
					}
					set_variable = { 
						name = prod_earn_mud
						value = var:prod_has_mud
					}
					change_variable = { 
						name = prod_earn_mud
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_mud
						divide = prev.var:trade_has_mud
					}
					change_variable = { 
						name = prod_earn_mud
						multiply = prev.var:trade_earn_mud
					}
					change_variable = { 
						name = prod_earn_mud
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_mud
							var:prod_has_mud > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_mud
							value = var:prod_has_mud
						}
						change_variable = { 
							name = prod_earn_mud
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_mud
							divide = prev.var:prod_has_mud
						}
						change_variable = { 
							name = prod_earn_mud
							multiply = prev.var:prod_earn_mud
						}
						change_variable = { 
							name = prod_earn_mud
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_fuel
				subtract = var:trade_out_fuel
			}
			change_variable = { 
				name = trade_has_fuel
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_fuel
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_fuel
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fuel
						add = var:prod_sply_old_fuel
					}
					prev = { 
						change_variable = { 
							name = prod_has_fuel
							add = prev.var:prod_has_fuel
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_fuel
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_fuel
						var:prod_has_fuel > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fuel
							var:prod_has_fuel > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_fuel
							multiply = 100
						}
						change_variable = { 
							name = prod_has_fuel
							divide = prev.var:prod_has_fuel
						}
					}
					change_variable = { 
						name = prod_has_fuel
						multiply = 100
					}
					change_variable = { 
						name = prod_has_fuel
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_fuel
						multiply = prev.var:trade_has_fuel
					}
					change_variable = { 
						name = prod_has_fuel
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fuel
							var:prod_has_fuel > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_fuel
							multiply = prev.var:prod_has_fuel
						}
						change_variable = { 
							name = prod_has_fuel
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_fuel
					var:trade_earn_fuel > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_fuel
						var:prod_has_fuel > 0
					}
					set_variable = { 
						name = prod_earn_fuel
						value = var:prod_has_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_fuel
						divide = prev.var:trade_has_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						multiply = prev.var:trade_earn_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fuel
							var:prod_has_fuel > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_fuel
							value = var:prod_has_fuel
						}
						change_variable = { 
							name = prod_earn_fuel
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_fuel
							divide = prev.var:prod_has_fuel
						}
						change_variable = { 
							name = prod_earn_fuel
							multiply = prev.var:prod_earn_fuel
						}
						change_variable = { 
							name = prod_earn_fuel
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_fiber
				subtract = var:trade_out_fiber
			}
			change_variable = { 
				name = trade_has_fiber
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_fiber
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_fiber
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fiber
						add = var:prod_sply_old_fiber
					}
					prev = { 
						change_variable = { 
							name = prod_has_fiber
							add = prev.var:prod_has_fiber
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_fiber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_fiber
						var:prod_has_fiber > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fiber
							var:prod_has_fiber > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_fiber
							multiply = 100
						}
						change_variable = { 
							name = prod_has_fiber
							divide = prev.var:prod_has_fiber
						}
					}
					change_variable = { 
						name = prod_has_fiber
						multiply = 100
					}
					change_variable = { 
						name = prod_has_fiber
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_fiber
						multiply = prev.var:trade_has_fiber
					}
					change_variable = { 
						name = prod_has_fiber
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fiber
							var:prod_has_fiber > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_fiber
							multiply = prev.var:prod_has_fiber
						}
						change_variable = { 
							name = prod_has_fiber
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_fiber
					var:trade_earn_fiber > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_fiber
						var:prod_has_fiber > 0
					}
					set_variable = { 
						name = prod_earn_fiber
						value = var:prod_has_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_fiber
						divide = prev.var:trade_has_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						multiply = prev.var:trade_earn_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_fiber
							var:prod_has_fiber > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_fiber
							value = var:prod_has_fiber
						}
						change_variable = { 
							name = prod_earn_fiber
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_fiber
							divide = prev.var:prod_has_fiber
						}
						change_variable = { 
							name = prod_earn_fiber
							multiply = prev.var:prod_earn_fiber
						}
						change_variable = { 
							name = prod_earn_fiber
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_timber
				subtract = var:trade_out_timber
			}
			change_variable = { 
				name = trade_has_timber
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_timber
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_timber
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_timber
						add = var:prod_sply_old_timber
					}
					prev = { 
						change_variable = { 
							name = prod_has_timber
							add = prev.var:prod_has_timber
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_timber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_timber
						var:prod_has_timber > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_timber
							var:prod_has_timber > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_timber
							multiply = 100
						}
						change_variable = { 
							name = prod_has_timber
							divide = prev.var:prod_has_timber
						}
					}
					change_variable = { 
						name = prod_has_timber
						multiply = 100
					}
					change_variable = { 
						name = prod_has_timber
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_timber
						multiply = prev.var:trade_has_timber
					}
					change_variable = { 
						name = prod_has_timber
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_timber
							var:prod_has_timber > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_timber
							multiply = prev.var:prod_has_timber
						}
						change_variable = { 
							name = prod_has_timber
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_timber
					var:trade_earn_timber > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_timber
						var:prod_has_timber > 0
					}
					set_variable = { 
						name = prod_earn_timber
						value = var:prod_has_timber
					}
					change_variable = { 
						name = prod_earn_timber
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_timber
						divide = prev.var:trade_has_timber
					}
					change_variable = { 
						name = prod_earn_timber
						multiply = prev.var:trade_earn_timber
					}
					change_variable = { 
						name = prod_earn_timber
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_timber
							var:prod_has_timber > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_timber
							value = var:prod_has_timber
						}
						change_variable = { 
							name = prod_earn_timber
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_timber
							divide = prev.var:prod_has_timber
						}
						change_variable = { 
							name = prod_earn_timber
							multiply = prev.var:prod_earn_timber
						}
						change_variable = { 
							name = prod_earn_timber
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_metal
				subtract = var:trade_out_metal
			}
			change_variable = { 
				name = trade_has_metal
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_metal
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_metal
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_metal
						add = var:prod_sply_old_metal
					}
					prev = { 
						change_variable = { 
							name = prod_has_metal
							add = prev.var:prod_has_metal
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_metal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_metal
						var:prod_has_metal > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_metal
							var:prod_has_metal > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_metal
							multiply = 100
						}
						change_variable = { 
							name = prod_has_metal
							divide = prev.var:prod_has_metal
						}
					}
					change_variable = { 
						name = prod_has_metal
						multiply = 100
					}
					change_variable = { 
						name = prod_has_metal
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_metal
						multiply = prev.var:trade_has_metal
					}
					change_variable = { 
						name = prod_has_metal
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_metal
							var:prod_has_metal > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_metal
							multiply = prev.var:prod_has_metal
						}
						change_variable = { 
							name = prod_has_metal
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_metal
					var:trade_earn_metal > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_metal
						var:prod_has_metal > 0
					}
					set_variable = { 
						name = prod_earn_metal
						value = var:prod_has_metal
					}
					change_variable = { 
						name = prod_earn_metal
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_metal
						divide = prev.var:trade_has_metal
					}
					change_variable = { 
						name = prod_earn_metal
						multiply = prev.var:trade_earn_metal
					}
					change_variable = { 
						name = prod_earn_metal
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_metal
							var:prod_has_metal > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_metal
							value = var:prod_has_metal
						}
						change_variable = { 
							name = prod_earn_metal
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_metal
							divide = prev.var:prod_has_metal
						}
						change_variable = { 
							name = prod_earn_metal
							multiply = prev.var:prod_earn_metal
						}
						change_variable = { 
							name = prod_earn_metal
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_exotics_w
				subtract = var:trade_out_exotics_w
			}
			change_variable = { 
				name = trade_has_exotics_w
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_exotics_w
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_exotics_w
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_w
						add = var:prod_sply_old_exotics_w
					}
					prev = { 
						change_variable = { 
							name = prod_has_exotics_w
							add = prev.var:prod_has_exotics_w
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_exotics_w
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_w
						var:prod_has_exotics_w > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_w
							var:prod_has_exotics_w > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_w
							multiply = 100
						}
						change_variable = { 
							name = prod_has_exotics_w
							divide = prev.var:prod_has_exotics_w
						}
					}
					change_variable = { 
						name = prod_has_exotics_w
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_w
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_exotics_w
						multiply = prev.var:trade_has_exotics_w
					}
					change_variable = { 
						name = prod_has_exotics_w
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_w
							var:prod_has_exotics_w > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_w
							multiply = prev.var:prod_has_exotics_w
						}
						change_variable = { 
							name = prod_has_exotics_w
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_exotics_w
					var:trade_earn_exotics_w > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_w
						var:prod_has_exotics_w > 0
					}
					set_variable = { 
						name = prod_earn_exotics_w
						value = var:prod_has_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_w
						divide = prev.var:trade_has_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						multiply = prev.var:trade_earn_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_w
							var:prod_has_exotics_w > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_exotics_w
							value = var:prod_has_exotics_w
						}
						change_variable = { 
							name = prod_earn_exotics_w
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_exotics_w
							divide = prev.var:prod_has_exotics_w
						}
						change_variable = { 
							name = prod_earn_exotics_w
							multiply = prev.var:prod_earn_exotics_w
						}
						change_variable = { 
							name = prod_earn_exotics_w
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_exotics_e
				subtract = var:trade_out_exotics_e
			}
			change_variable = { 
				name = trade_has_exotics_e
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_exotics_e
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_exotics_e
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_e
						add = var:prod_sply_old_exotics_e
					}
					prev = { 
						change_variable = { 
							name = prod_has_exotics_e
							add = prev.var:prod_has_exotics_e
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_exotics_e
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_e
						var:prod_has_exotics_e > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_e
							var:prod_has_exotics_e > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_e
							multiply = 100
						}
						change_variable = { 
							name = prod_has_exotics_e
							divide = prev.var:prod_has_exotics_e
						}
					}
					change_variable = { 
						name = prod_has_exotics_e
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_e
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_exotics_e
						multiply = prev.var:trade_has_exotics_e
					}
					change_variable = { 
						name = prod_has_exotics_e
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_e
							var:prod_has_exotics_e > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_e
							multiply = prev.var:prod_has_exotics_e
						}
						change_variable = { 
							name = prod_has_exotics_e
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_exotics_e
					var:trade_earn_exotics_e > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_e
						var:prod_has_exotics_e > 0
					}
					set_variable = { 
						name = prod_earn_exotics_e
						value = var:prod_has_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_e
						divide = prev.var:trade_has_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						multiply = prev.var:trade_earn_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_e
							var:prod_has_exotics_e > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_exotics_e
							value = var:prod_has_exotics_e
						}
						change_variable = { 
							name = prod_earn_exotics_e
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_exotics_e
							divide = prev.var:prod_has_exotics_e
						}
						change_variable = { 
							name = prod_earn_exotics_e
							multiply = prev.var:prod_earn_exotics_e
						}
						change_variable = { 
							name = prod_earn_exotics_e
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_exotics_g
				subtract = var:trade_out_exotics_g
			}
			change_variable = { 
				name = trade_has_exotics_g
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_exotics_g
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_exotics_g
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_g
						add = var:prod_sply_old_exotics_g
					}
					prev = { 
						change_variable = { 
							name = prod_has_exotics_g
							add = prev.var:prod_has_exotics_g
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_exotics_g
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_g
						var:prod_has_exotics_g > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_g
							var:prod_has_exotics_g > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_g
							multiply = 100
						}
						change_variable = { 
							name = prod_has_exotics_g
							divide = prev.var:prod_has_exotics_g
						}
					}
					change_variable = { 
						name = prod_has_exotics_g
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_g
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_exotics_g
						multiply = prev.var:trade_has_exotics_g
					}
					change_variable = { 
						name = prod_has_exotics_g
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_g
							var:prod_has_exotics_g > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_exotics_g
							multiply = prev.var:prod_has_exotics_g
						}
						change_variable = { 
							name = prod_has_exotics_g
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_exotics_g
					var:trade_earn_exotics_g > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_exotics_g
						var:prod_has_exotics_g > 0
					}
					set_variable = { 
						name = prod_earn_exotics_g
						value = var:prod_has_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_g
						divide = prev.var:trade_has_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						multiply = prev.var:trade_earn_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_exotics_g
							var:prod_has_exotics_g > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_exotics_g
							value = var:prod_has_exotics_g
						}
						change_variable = { 
							name = prod_earn_exotics_g
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_exotics_g
							divide = prev.var:prod_has_exotics_g
						}
						change_variable = { 
							name = prod_earn_exotics_g
							multiply = prev.var:prod_earn_exotics_g
						}
						change_variable = { 
							name = prod_earn_exotics_g
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_textile
				subtract = var:trade_out_textile
			}
			change_variable = { 
				name = trade_has_textile
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_textile
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_textile
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_textile
						add = var:prod_sply_old_textile
					}
					prev = { 
						change_variable = { 
							name = prod_has_textile
							add = prev.var:prod_has_textile
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_textile
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_textile
						var:prod_has_textile > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_textile
							var:prod_has_textile > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_textile
							multiply = 100
						}
						change_variable = { 
							name = prod_has_textile
							divide = prev.var:prod_has_textile
						}
					}
					change_variable = { 
						name = prod_has_textile
						multiply = 100
					}
					change_variable = { 
						name = prod_has_textile
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_textile
						multiply = prev.var:trade_has_textile
					}
					change_variable = { 
						name = prod_has_textile
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_textile
							var:prod_has_textile > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_textile
							multiply = prev.var:prod_has_textile
						}
						change_variable = { 
							name = prod_has_textile
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_textile
					var:trade_earn_textile > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_textile
						var:prod_has_textile > 0
					}
					set_variable = { 
						name = prod_earn_textile
						value = var:prod_has_textile
					}
					change_variable = { 
						name = prod_earn_textile
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_textile
						divide = prev.var:trade_has_textile
					}
					change_variable = { 
						name = prod_earn_textile
						multiply = prev.var:trade_earn_textile
					}
					change_variable = { 
						name = prod_earn_textile
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_textile
							var:prod_has_textile > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_textile
							value = var:prod_has_textile
						}
						change_variable = { 
							name = prod_earn_textile
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_textile
							divide = prev.var:prod_has_textile
						}
						change_variable = { 
							name = prod_earn_textile
							multiply = prev.var:prod_earn_textile
						}
						change_variable = { 
							name = prod_earn_textile
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_pottery
				subtract = var:trade_out_pottery
			}
			change_variable = { 
				name = trade_has_pottery
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_pottery
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_pottery
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_pottery
						add = var:prod_sply_old_pottery
					}
					prev = { 
						change_variable = { 
							name = prod_has_pottery
							add = prev.var:prod_has_pottery
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_pottery
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_pottery
						var:prod_has_pottery > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_pottery
							var:prod_has_pottery > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_pottery
							multiply = 100
						}
						change_variable = { 
							name = prod_has_pottery
							divide = prev.var:prod_has_pottery
						}
					}
					change_variable = { 
						name = prod_has_pottery
						multiply = 100
					}
					change_variable = { 
						name = prod_has_pottery
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_pottery
						multiply = prev.var:trade_has_pottery
					}
					change_variable = { 
						name = prod_has_pottery
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_pottery
							var:prod_has_pottery > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_pottery
							multiply = prev.var:prod_has_pottery
						}
						change_variable = { 
							name = prod_has_pottery
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_pottery
					var:trade_earn_pottery > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_pottery
						var:prod_has_pottery > 0
					}
					set_variable = { 
						name = prod_earn_pottery
						value = var:prod_has_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_pottery
						divide = prev.var:trade_has_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						multiply = prev.var:trade_earn_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_pottery
							var:prod_has_pottery > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_pottery
							value = var:prod_has_pottery
						}
						change_variable = { 
							name = prod_earn_pottery
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_pottery
							divide = prev.var:prod_has_pottery
						}
						change_variable = { 
							name = prod_earn_pottery
							multiply = prev.var:prod_earn_pottery
						}
						change_variable = { 
							name = prod_earn_pottery
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_tools
				subtract = var:trade_out_tools
			}
			change_variable = { 
				name = trade_has_tools
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_tools
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_tools
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_tools
						add = var:prod_sply_old_tools
					}
					prev = { 
						change_variable = { 
							name = prod_has_tools
							add = prev.var:prod_has_tools
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_tools
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_tools
						var:prod_has_tools > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_tools
							var:prod_has_tools > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_tools
							multiply = 100
						}
						change_variable = { 
							name = prod_has_tools
							divide = prev.var:prod_has_tools
						}
					}
					change_variable = { 
						name = prod_has_tools
						multiply = 100
					}
					change_variable = { 
						name = prod_has_tools
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_tools
						multiply = prev.var:trade_has_tools
					}
					change_variable = { 
						name = prod_has_tools
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_tools
							var:prod_has_tools > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_tools
							multiply = prev.var:prod_has_tools
						}
						change_variable = { 
							name = prod_has_tools
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_tools
					var:trade_earn_tools > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_tools
						var:prod_has_tools > 0
					}
					set_variable = { 
						name = prod_earn_tools
						value = var:prod_has_tools
					}
					change_variable = { 
						name = prod_earn_tools
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_tools
						divide = prev.var:trade_has_tools
					}
					change_variable = { 
						name = prod_earn_tools
						multiply = prev.var:trade_earn_tools
					}
					change_variable = { 
						name = prod_earn_tools
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_tools
							var:prod_has_tools > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_tools
							value = var:prod_has_tools
						}
						change_variable = { 
							name = prod_earn_tools
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_tools
							divide = prev.var:prod_has_tools
						}
						change_variable = { 
							name = prod_earn_tools
							multiply = prev.var:prod_earn_tools
						}
						change_variable = { 
							name = prod_earn_tools
							divide = 100
						}
					}
				}
			}
			change_variable = { 
				name = trade_has_armaments
				subtract = var:trade_out_armaments
			}
			change_variable = { 
				name = trade_has_armaments
				multiply = 0.95
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = prod_has_armaments
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_sply_old_armaments
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_armaments
						add = var:prod_sply_old_armaments
					}
					prev = { 
						change_variable = { 
							name = prod_has_armaments
							add = prev.var:prod_has_armaments
						}
					}
				}
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_has_armaments
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_resolve_trade_t
					var:trade_resolve_trade_t > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_armaments
						var:prod_has_armaments > 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_armaments
							var:prod_has_armaments > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_armaments
							multiply = 100
						}
						change_variable = { 
							name = prod_has_armaments
							divide = prev.var:prod_has_armaments
						}
					}
					change_variable = { 
						name = prod_has_armaments
						multiply = 100
					}
					change_variable = { 
						name = prod_has_armaments
						divide = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_has_armaments
						multiply = prev.var:trade_has_armaments
					}
					change_variable = { 
						name = prod_has_armaments
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_armaments
							var:prod_has_armaments > 0
						}
						variable = prod_instances
						change_variable = { 
							name = prod_has_armaments
							multiply = prev.var:prod_has_armaments
						}
						change_variable = { 
							name = prod_has_armaments
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_earn_armaments
					var:trade_earn_armaments > 0
				}
				every_county_province = { 
					limit = { 
						has_variable = prod_has_armaments
						var:prod_has_armaments > 0
					}
					set_variable = { 
						name = prod_earn_armaments
						value = var:prod_has_armaments
					}
					change_variable = { 
						name = prod_earn_armaments
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_armaments
						divide = prev.var:trade_has_armaments
					}
					change_variable = { 
						name = prod_earn_armaments
						multiply = prev.var:trade_earn_armaments
					}
					change_variable = { 
						name = prod_earn_armaments
						divide = 100
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_has_armaments
							var:prod_has_armaments > 0
						}
						variable = prod_instances
						set_variable = { 
							name = prod_earn_armaments
							value = var:prod_has_armaments
						}
						change_variable = { 
							name = prod_earn_armaments
							multiply = 100
						}
						change_variable = { 
							name = prod_earn_armaments
							divide = prev.var:prod_has_armaments
						}
						change_variable = { 
							name = prod_earn_armaments
							multiply = prev.var:prod_earn_armaments
						}
						change_variable = { 
							name = prod_earn_armaments
							divide = 100
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_food
					var:trade_dmnd_food > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_food
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_food
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_food
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_food
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_food
					}
					set_variable = { 
						name = prod_tools_in_food
						value = var:prod_tools_dmnd_food
					}
					change_variable = { 
						name = prod_tools_in_food
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_food
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_food
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_food
							var:pop_calorie_food > 0
						}
						set_variable = { 
							name = pop_calorie_actual_food
							value = var:pop_calorie_food
						}
						change_variable = { 
							name = pop_calorie_actual_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_food
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_food
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_food
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_food
							var:pop_nutrient_food > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_food
							value = var:pop_nutrient_food
						}
						change_variable = { 
							name = pop_nutrient_actual_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_food
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_food
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_food
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_food
							var:pop_comfort_food > 0
						}
						set_variable = { 
							name = pop_comfort_actual_food
							value = var:pop_comfort_food
						}
						change_variable = { 
							name = pop_comfort_actual_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_food
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_food
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_food
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_food
							var:pop_luxury_food > 0
						}
						set_variable = { 
							name = pop_luxury_actual_food
							value = var:pop_luxury_food
						}
						change_variable = { 
							name = pop_luxury_actual_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_food
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_food
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_food
					}
					if = { 
						limit = { 
							has_variable = mil_supply_food
						}
						set_variable = { 
							name = mil_supply_in_food
							value = var:mil_supply_food
						}
						change_variable = { 
							name = mil_supply_in_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_food
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_food
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_food
							}
							set_variable = { 
								name = prod_in_food
								value = var:prod_dmnd_food
							}
							change_variable = { 
								name = prod_in_food
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_food
								divide = 100
							}
							set_variable = { 
								name = prod_pay_food
								value = var:prod_dmnd_food
							}
							change_variable = { 
								name = prod_pay_food
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_food
								var:build_food > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_food
								value = var:build_food
							}
							change_variable = { 
								name = build_in_food
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_food
								divide = 100
							}
							set_variable = { 
								name = build_pay_food
								value = var:build_food
							}
							change_variable = { 
								name = build_pay_food
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_food
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_food
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_food
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_food
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_food
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_food
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_food
							value = 0
						}
						set_variable = { 
							name = prod_pay_food
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_food
							}
							variable = build_slots
							set_variable = { 
								name = build_in_food
								value = 0
							}
							set_variable = { 
								name = build_pay_food
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_cereal
					var:trade_dmnd_cereal > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_cereal
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_cereal
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_cereal
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_cereal
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_cereal
					}
					set_variable = { 
						name = prod_tools_in_cereal
						value = var:prod_tools_dmnd_cereal
					}
					change_variable = { 
						name = prod_tools_in_cereal
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_cereal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_cereal
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_cereal
							var:pop_calorie_cereal > 0
						}
						set_variable = { 
							name = pop_calorie_actual_cereal
							value = var:pop_calorie_cereal
						}
						change_variable = { 
							name = pop_calorie_actual_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_cereal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_cereal
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_cereal
							var:pop_nutrient_cereal > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_cereal
							value = var:pop_nutrient_cereal
						}
						change_variable = { 
							name = pop_nutrient_actual_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_cereal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_cereal
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_cereal
							var:pop_comfort_cereal > 0
						}
						set_variable = { 
							name = pop_comfort_actual_cereal
							value = var:pop_comfort_cereal
						}
						change_variable = { 
							name = pop_comfort_actual_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_cereal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_cereal
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_cereal
							var:pop_luxury_cereal > 0
						}
						set_variable = { 
							name = pop_luxury_actual_cereal
							value = var:pop_luxury_cereal
						}
						change_variable = { 
							name = pop_luxury_actual_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_cereal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_cereal
					}
					if = { 
						limit = { 
							has_variable = mil_supply_cereal
						}
						set_variable = { 
							name = mil_supply_in_cereal
							value = var:mil_supply_cereal
						}
						change_variable = { 
							name = mil_supply_in_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_cereal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_cereal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_cereal
							}
							set_variable = { 
								name = prod_in_cereal
								value = var:prod_dmnd_cereal
							}
							change_variable = { 
								name = prod_in_cereal
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_cereal
								divide = 100
							}
							set_variable = { 
								name = prod_pay_cereal
								value = var:prod_dmnd_cereal
							}
							change_variable = { 
								name = prod_pay_cereal
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_cereal
								var:build_cereal > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_cereal
								value = var:build_cereal
							}
							change_variable = { 
								name = build_in_cereal
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_cereal
								divide = 100
							}
							set_variable = { 
								name = build_pay_cereal
								value = var:build_cereal
							}
							change_variable = { 
								name = build_pay_cereal
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_cereal
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_cereal
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_cereal
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_cereal
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_cereal
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_cereal
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_cereal
							value = 0
						}
						set_variable = { 
							name = prod_pay_cereal
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_cereal
							}
							variable = build_slots
							set_variable = { 
								name = build_in_cereal
								value = 0
							}
							set_variable = { 
								name = build_pay_cereal
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_salted
					var:trade_dmnd_salted > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_salted
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_salted
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_salted
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_salted
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salted
					}
					set_variable = { 
						name = prod_tools_in_salted
						value = var:prod_tools_dmnd_salted
					}
					change_variable = { 
						name = prod_tools_in_salted
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_salted
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_salted
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_salted
							var:pop_calorie_salted > 0
						}
						set_variable = { 
							name = pop_calorie_actual_salted
							value = var:pop_calorie_salted
						}
						change_variable = { 
							name = pop_calorie_actual_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_salted
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_salted
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_salted
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_salted
							var:pop_nutrient_salted > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_salted
							value = var:pop_nutrient_salted
						}
						change_variable = { 
							name = pop_nutrient_actual_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_salted
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_salted
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_salted
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_salted
							var:pop_comfort_salted > 0
						}
						set_variable = { 
							name = pop_comfort_actual_salted
							value = var:pop_comfort_salted
						}
						change_variable = { 
							name = pop_comfort_actual_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_salted
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_salted
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_salted
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_salted
							var:pop_luxury_salted > 0
						}
						set_variable = { 
							name = pop_luxury_actual_salted
							value = var:pop_luxury_salted
						}
						change_variable = { 
							name = pop_luxury_actual_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_salted
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_salted
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_salted
					}
					if = { 
						limit = { 
							has_variable = mil_supply_salted
						}
						set_variable = { 
							name = mil_supply_in_salted
							value = var:mil_supply_salted
						}
						change_variable = { 
							name = mil_supply_in_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_salted
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_salted
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_salted
							}
							set_variable = { 
								name = prod_in_salted
								value = var:prod_dmnd_salted
							}
							change_variable = { 
								name = prod_in_salted
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_salted
								divide = 100
							}
							set_variable = { 
								name = prod_pay_salted
								value = var:prod_dmnd_salted
							}
							change_variable = { 
								name = prod_pay_salted
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_salted
								var:build_salted > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_salted
								value = var:build_salted
							}
							change_variable = { 
								name = build_in_salted
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_salted
								divide = 100
							}
							set_variable = { 
								name = build_pay_salted
								value = var:build_salted
							}
							change_variable = { 
								name = build_pay_salted
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_salted
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_salted
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_salted
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_salted
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_salted
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_salted
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_salted
							value = 0
						}
						set_variable = { 
							name = prod_pay_salted
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_salted
							}
							variable = build_slots
							set_variable = { 
								name = build_in_salted
								value = 0
							}
							set_variable = { 
								name = build_pay_salted
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_salt
					var:trade_dmnd_salt > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_salt
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_salt
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_salt
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_salt
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_salt
					}
					set_variable = { 
						name = prod_tools_in_salt
						value = var:prod_tools_dmnd_salt
					}
					change_variable = { 
						name = prod_tools_in_salt
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_salt
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_salt
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_salt
							var:pop_calorie_salt > 0
						}
						set_variable = { 
							name = pop_calorie_actual_salt
							value = var:pop_calorie_salt
						}
						change_variable = { 
							name = pop_calorie_actual_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_salt
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_salt
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_salt
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_salt
							var:pop_nutrient_salt > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_salt
							value = var:pop_nutrient_salt
						}
						change_variable = { 
							name = pop_nutrient_actual_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_salt
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_salt
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_salt
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_salt
							var:pop_comfort_salt > 0
						}
						set_variable = { 
							name = pop_comfort_actual_salt
							value = var:pop_comfort_salt
						}
						change_variable = { 
							name = pop_comfort_actual_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_salt
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_salt
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_salt
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_salt
							var:pop_luxury_salt > 0
						}
						set_variable = { 
							name = pop_luxury_actual_salt
							value = var:pop_luxury_salt
						}
						change_variable = { 
							name = pop_luxury_actual_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_salt
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_salt
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_salt
					}
					if = { 
						limit = { 
							has_variable = mil_supply_salt
						}
						set_variable = { 
							name = mil_supply_in_salt
							value = var:mil_supply_salt
						}
						change_variable = { 
							name = mil_supply_in_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_salt
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_salt
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_salt
							}
							set_variable = { 
								name = prod_in_salt
								value = var:prod_dmnd_salt
							}
							change_variable = { 
								name = prod_in_salt
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_salt
								divide = 100
							}
							set_variable = { 
								name = prod_pay_salt
								value = var:prod_dmnd_salt
							}
							change_variable = { 
								name = prod_pay_salt
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_salt
								var:build_salt > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_salt
								value = var:build_salt
							}
							change_variable = { 
								name = build_in_salt
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_salt
								divide = 100
							}
							set_variable = { 
								name = build_pay_salt
								value = var:build_salt
							}
							change_variable = { 
								name = build_pay_salt
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_salt
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_salt
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_salt
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_salt
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_salt
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_salt
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_salt
							value = 0
						}
						set_variable = { 
							name = prod_pay_salt
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_salt
							}
							variable = build_slots
							set_variable = { 
								name = build_in_salt
								value = 0
							}
							set_variable = { 
								name = build_pay_salt
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_mud
					var:trade_dmnd_mud > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_mud
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_mud
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_mud
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_mud
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_mud
					}
					set_variable = { 
						name = prod_tools_in_mud
						value = var:prod_tools_dmnd_mud
					}
					change_variable = { 
						name = prod_tools_in_mud
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_mud
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_mud
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_mud
							var:pop_calorie_mud > 0
						}
						set_variable = { 
							name = pop_calorie_actual_mud
							value = var:pop_calorie_mud
						}
						change_variable = { 
							name = pop_calorie_actual_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_mud
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_mud
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_mud
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_mud
							var:pop_nutrient_mud > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_mud
							value = var:pop_nutrient_mud
						}
						change_variable = { 
							name = pop_nutrient_actual_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_mud
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_mud
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_mud
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_mud
							var:pop_comfort_mud > 0
						}
						set_variable = { 
							name = pop_comfort_actual_mud
							value = var:pop_comfort_mud
						}
						change_variable = { 
							name = pop_comfort_actual_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_mud
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_mud
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_mud
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_mud
							var:pop_luxury_mud > 0
						}
						set_variable = { 
							name = pop_luxury_actual_mud
							value = var:pop_luxury_mud
						}
						change_variable = { 
							name = pop_luxury_actual_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_mud
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_mud
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_mud
					}
					if = { 
						limit = { 
							has_variable = mil_supply_mud
						}
						set_variable = { 
							name = mil_supply_in_mud
							value = var:mil_supply_mud
						}
						change_variable = { 
							name = mil_supply_in_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_mud
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_mud
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_mud
							}
							set_variable = { 
								name = prod_in_mud
								value = var:prod_dmnd_mud
							}
							change_variable = { 
								name = prod_in_mud
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_mud
								divide = 100
							}
							set_variable = { 
								name = prod_pay_mud
								value = var:prod_dmnd_mud
							}
							change_variable = { 
								name = prod_pay_mud
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_mud
								var:build_mud > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_mud
								value = var:build_mud
							}
							change_variable = { 
								name = build_in_mud
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_mud
								divide = 100
							}
							set_variable = { 
								name = build_pay_mud
								value = var:build_mud
							}
							change_variable = { 
								name = build_pay_mud
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_mud
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_mud
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_mud
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_mud
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_mud
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_mud
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_mud
							value = 0
						}
						set_variable = { 
							name = prod_pay_mud
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_mud
							}
							variable = build_slots
							set_variable = { 
								name = build_in_mud
								value = 0
							}
							set_variable = { 
								name = build_pay_mud
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_fuel
					var:trade_dmnd_fuel > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_fuel
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_fuel
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_fuel
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_fuel
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fuel
					}
					set_variable = { 
						name = prod_tools_in_fuel
						value = var:prod_tools_dmnd_fuel
					}
					change_variable = { 
						name = prod_tools_in_fuel
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_fuel
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_fuel
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_fuel
							var:pop_calorie_fuel > 0
						}
						set_variable = { 
							name = pop_calorie_actual_fuel
							value = var:pop_calorie_fuel
						}
						change_variable = { 
							name = pop_calorie_actual_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_fuel
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_fuel
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_fuel
							var:pop_nutrient_fuel > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_fuel
							value = var:pop_nutrient_fuel
						}
						change_variable = { 
							name = pop_nutrient_actual_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_fuel
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_fuel
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_fuel
							var:pop_comfort_fuel > 0
						}
						set_variable = { 
							name = pop_comfort_actual_fuel
							value = var:pop_comfort_fuel
						}
						change_variable = { 
							name = pop_comfort_actual_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_fuel
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_fuel
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_fuel
							var:pop_luxury_fuel > 0
						}
						set_variable = { 
							name = pop_luxury_actual_fuel
							value = var:pop_luxury_fuel
						}
						change_variable = { 
							name = pop_luxury_actual_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_fuel
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_fuel
					}
					if = { 
						limit = { 
							has_variable = mil_supply_fuel
						}
						set_variable = { 
							name = mil_supply_in_fuel
							value = var:mil_supply_fuel
						}
						change_variable = { 
							name = mil_supply_in_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_fuel
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_fuel
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_fuel
							}
							set_variable = { 
								name = prod_in_fuel
								value = var:prod_dmnd_fuel
							}
							change_variable = { 
								name = prod_in_fuel
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_fuel
								divide = 100
							}
							set_variable = { 
								name = prod_pay_fuel
								value = var:prod_dmnd_fuel
							}
							change_variable = { 
								name = prod_pay_fuel
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_fuel
								var:build_fuel > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_fuel
								value = var:build_fuel
							}
							change_variable = { 
								name = build_in_fuel
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_fuel
								divide = 100
							}
							set_variable = { 
								name = build_pay_fuel
								value = var:build_fuel
							}
							change_variable = { 
								name = build_pay_fuel
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_fuel
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_fuel
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_fuel
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_fuel
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_fuel
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_fuel
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_fuel
							value = 0
						}
						set_variable = { 
							name = prod_pay_fuel
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_fuel
							}
							variable = build_slots
							set_variable = { 
								name = build_in_fuel
								value = 0
							}
							set_variable = { 
								name = build_pay_fuel
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_fiber
					var:trade_dmnd_fiber > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_fiber
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_fiber
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_fiber
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_fiber
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_fiber
					}
					set_variable = { 
						name = prod_tools_in_fiber
						value = var:prod_tools_dmnd_fiber
					}
					change_variable = { 
						name = prod_tools_in_fiber
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_fiber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_fiber
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_fiber
							var:pop_calorie_fiber > 0
						}
						set_variable = { 
							name = pop_calorie_actual_fiber
							value = var:pop_calorie_fiber
						}
						change_variable = { 
							name = pop_calorie_actual_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_fiber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_fiber
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_fiber
							var:pop_nutrient_fiber > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_fiber
							value = var:pop_nutrient_fiber
						}
						change_variable = { 
							name = pop_nutrient_actual_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_fiber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_fiber
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_fiber
							var:pop_comfort_fiber > 0
						}
						set_variable = { 
							name = pop_comfort_actual_fiber
							value = var:pop_comfort_fiber
						}
						change_variable = { 
							name = pop_comfort_actual_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_fiber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_fiber
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_fiber
							var:pop_luxury_fiber > 0
						}
						set_variable = { 
							name = pop_luxury_actual_fiber
							value = var:pop_luxury_fiber
						}
						change_variable = { 
							name = pop_luxury_actual_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_fiber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_fiber
					}
					if = { 
						limit = { 
							has_variable = mil_supply_fiber
						}
						set_variable = { 
							name = mil_supply_in_fiber
							value = var:mil_supply_fiber
						}
						change_variable = { 
							name = mil_supply_in_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_fiber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_fiber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_fiber
							}
							set_variable = { 
								name = prod_in_fiber
								value = var:prod_dmnd_fiber
							}
							change_variable = { 
								name = prod_in_fiber
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_fiber
								divide = 100
							}
							set_variable = { 
								name = prod_pay_fiber
								value = var:prod_dmnd_fiber
							}
							change_variable = { 
								name = prod_pay_fiber
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_fiber
								var:build_fiber > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_fiber
								value = var:build_fiber
							}
							change_variable = { 
								name = build_in_fiber
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_fiber
								divide = 100
							}
							set_variable = { 
								name = build_pay_fiber
								value = var:build_fiber
							}
							change_variable = { 
								name = build_pay_fiber
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_fiber
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_fiber
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_fiber
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_fiber
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_fiber
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_fiber
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_fiber
							value = 0
						}
						set_variable = { 
							name = prod_pay_fiber
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_fiber
							}
							variable = build_slots
							set_variable = { 
								name = build_in_fiber
								value = 0
							}
							set_variable = { 
								name = build_pay_fiber
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_timber
					var:trade_dmnd_timber > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_timber
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_timber
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_timber
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_timber
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_timber
					}
					set_variable = { 
						name = prod_tools_in_timber
						value = var:prod_tools_dmnd_timber
					}
					change_variable = { 
						name = prod_tools_in_timber
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_timber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_timber
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_timber
							var:pop_calorie_timber > 0
						}
						set_variable = { 
							name = pop_calorie_actual_timber
							value = var:pop_calorie_timber
						}
						change_variable = { 
							name = pop_calorie_actual_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_timber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_timber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_timber
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_timber
							var:pop_nutrient_timber > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_timber
							value = var:pop_nutrient_timber
						}
						change_variable = { 
							name = pop_nutrient_actual_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_timber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_timber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_timber
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_timber
							var:pop_comfort_timber > 0
						}
						set_variable = { 
							name = pop_comfort_actual_timber
							value = var:pop_comfort_timber
						}
						change_variable = { 
							name = pop_comfort_actual_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_timber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_timber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_timber
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_timber
							var:pop_luxury_timber > 0
						}
						set_variable = { 
							name = pop_luxury_actual_timber
							value = var:pop_luxury_timber
						}
						change_variable = { 
							name = pop_luxury_actual_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_timber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_timber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_timber
					}
					if = { 
						limit = { 
							has_variable = mil_supply_timber
						}
						set_variable = { 
							name = mil_supply_in_timber
							value = var:mil_supply_timber
						}
						change_variable = { 
							name = mil_supply_in_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_timber
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_timber
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_timber
							}
							set_variable = { 
								name = prod_in_timber
								value = var:prod_dmnd_timber
							}
							change_variable = { 
								name = prod_in_timber
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_timber
								divide = 100
							}
							set_variable = { 
								name = prod_pay_timber
								value = var:prod_dmnd_timber
							}
							change_variable = { 
								name = prod_pay_timber
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_timber
								var:build_timber > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_timber
								value = var:build_timber
							}
							change_variable = { 
								name = build_in_timber
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_timber
								divide = 100
							}
							set_variable = { 
								name = build_pay_timber
								value = var:build_timber
							}
							change_variable = { 
								name = build_pay_timber
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_timber
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_timber
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_timber
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_timber
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_timber
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_timber
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_timber
							value = 0
						}
						set_variable = { 
							name = prod_pay_timber
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_timber
							}
							variable = build_slots
							set_variable = { 
								name = build_in_timber
								value = 0
							}
							set_variable = { 
								name = build_pay_timber
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_metal
					var:trade_dmnd_metal > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_metal
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_metal
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_metal
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_metal
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_metal
					}
					set_variable = { 
						name = prod_tools_in_metal
						value = var:prod_tools_dmnd_metal
					}
					change_variable = { 
						name = prod_tools_in_metal
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_metal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_metal
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_metal
							var:pop_calorie_metal > 0
						}
						set_variable = { 
							name = pop_calorie_actual_metal
							value = var:pop_calorie_metal
						}
						change_variable = { 
							name = pop_calorie_actual_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_metal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_metal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_metal
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_metal
							var:pop_nutrient_metal > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_metal
							value = var:pop_nutrient_metal
						}
						change_variable = { 
							name = pop_nutrient_actual_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_metal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_metal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_metal
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_metal
							var:pop_comfort_metal > 0
						}
						set_variable = { 
							name = pop_comfort_actual_metal
							value = var:pop_comfort_metal
						}
						change_variable = { 
							name = pop_comfort_actual_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_metal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_metal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_metal
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_metal
							var:pop_luxury_metal > 0
						}
						set_variable = { 
							name = pop_luxury_actual_metal
							value = var:pop_luxury_metal
						}
						change_variable = { 
							name = pop_luxury_actual_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_metal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_metal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_metal
					}
					if = { 
						limit = { 
							has_variable = mil_supply_metal
						}
						set_variable = { 
							name = mil_supply_in_metal
							value = var:mil_supply_metal
						}
						change_variable = { 
							name = mil_supply_in_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_metal
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_metal
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_metal
							}
							set_variable = { 
								name = prod_in_metal
								value = var:prod_dmnd_metal
							}
							change_variable = { 
								name = prod_in_metal
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_metal
								divide = 100
							}
							set_variable = { 
								name = prod_pay_metal
								value = var:prod_dmnd_metal
							}
							change_variable = { 
								name = prod_pay_metal
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_metal
								var:build_metal > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_metal
								value = var:build_metal
							}
							change_variable = { 
								name = build_in_metal
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_metal
								divide = 100
							}
							set_variable = { 
								name = build_pay_metal
								value = var:build_metal
							}
							change_variable = { 
								name = build_pay_metal
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_metal
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_metal
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_metal
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_metal
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_metal
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_metal
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_metal
							value = 0
						}
						set_variable = { 
							name = prod_pay_metal
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_metal
							}
							variable = build_slots
							set_variable = { 
								name = build_in_metal
								value = 0
							}
							set_variable = { 
								name = build_pay_metal
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_exotics_w
					var:trade_dmnd_exotics_w > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_exotics_w
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_exotics_w
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_exotics_w
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_w
					}
					set_variable = { 
						name = prod_tools_in_exotics_w
						value = var:prod_tools_dmnd_exotics_w
					}
					change_variable = { 
						name = prod_tools_in_exotics_w
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_exotics_w
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_exotics_w
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_exotics_w
							var:pop_calorie_exotics_w > 0
						}
						set_variable = { 
							name = pop_calorie_actual_exotics_w
							value = var:pop_calorie_exotics_w
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_exotics_w
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_exotics_w
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_exotics_w
							var:pop_nutrient_exotics_w > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_exotics_w
							value = var:pop_nutrient_exotics_w
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_exotics_w
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_exotics_w
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_exotics_w
							var:pop_comfort_exotics_w > 0
						}
						set_variable = { 
							name = pop_comfort_actual_exotics_w
							value = var:pop_comfort_exotics_w
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_exotics_w
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_exotics_w
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_exotics_w
							var:pop_luxury_exotics_w > 0
						}
						set_variable = { 
							name = pop_luxury_actual_exotics_w
							value = var:pop_luxury_exotics_w
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_exotics_w
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_exotics_w
					}
					if = { 
						limit = { 
							has_variable = mil_supply_exotics_w
						}
						set_variable = { 
							name = mil_supply_in_exotics_w
							value = var:mil_supply_exotics_w
						}
						change_variable = { 
							name = mil_supply_in_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_exotics_w
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_exotics_w
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_exotics_w
							}
							set_variable = { 
								name = prod_in_exotics_w
								value = var:prod_dmnd_exotics_w
							}
							change_variable = { 
								name = prod_in_exotics_w
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_exotics_w
								divide = 100
							}
							set_variable = { 
								name = prod_pay_exotics_w
								value = var:prod_dmnd_exotics_w
							}
							change_variable = { 
								name = prod_pay_exotics_w
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_w
								var:build_exotics_w > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_w
								value = var:build_exotics_w
							}
							change_variable = { 
								name = build_in_exotics_w
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_exotics_w
								divide = 100
							}
							set_variable = { 
								name = build_pay_exotics_w
								value = var:build_exotics_w
							}
							change_variable = { 
								name = build_pay_exotics_w
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_exotics_w
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_w
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_w
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_w
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_w
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_exotics_w
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_exotics_w
							value = 0
						}
						set_variable = { 
							name = prod_pay_exotics_w
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_w
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_w
								value = 0
							}
							set_variable = { 
								name = build_pay_exotics_w
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_exotics_e
					var:trade_dmnd_exotics_e > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_exotics_e
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_exotics_e
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_exotics_e
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_e
					}
					set_variable = { 
						name = prod_tools_in_exotics_e
						value = var:prod_tools_dmnd_exotics_e
					}
					change_variable = { 
						name = prod_tools_in_exotics_e
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_exotics_e
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_exotics_e
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_exotics_e
							var:pop_calorie_exotics_e > 0
						}
						set_variable = { 
							name = pop_calorie_actual_exotics_e
							value = var:pop_calorie_exotics_e
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_exotics_e
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_exotics_e
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_exotics_e
							var:pop_nutrient_exotics_e > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_exotics_e
							value = var:pop_nutrient_exotics_e
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_exotics_e
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_exotics_e
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_exotics_e
							var:pop_comfort_exotics_e > 0
						}
						set_variable = { 
							name = pop_comfort_actual_exotics_e
							value = var:pop_comfort_exotics_e
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_exotics_e
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_exotics_e
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_exotics_e
							var:pop_luxury_exotics_e > 0
						}
						set_variable = { 
							name = pop_luxury_actual_exotics_e
							value = var:pop_luxury_exotics_e
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_exotics_e
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_exotics_e
					}
					if = { 
						limit = { 
							has_variable = mil_supply_exotics_e
						}
						set_variable = { 
							name = mil_supply_in_exotics_e
							value = var:mil_supply_exotics_e
						}
						change_variable = { 
							name = mil_supply_in_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_exotics_e
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_exotics_e
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_exotics_e
							}
							set_variable = { 
								name = prod_in_exotics_e
								value = var:prod_dmnd_exotics_e
							}
							change_variable = { 
								name = prod_in_exotics_e
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_exotics_e
								divide = 100
							}
							set_variable = { 
								name = prod_pay_exotics_e
								value = var:prod_dmnd_exotics_e
							}
							change_variable = { 
								name = prod_pay_exotics_e
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_e
								var:build_exotics_e > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_e
								value = var:build_exotics_e
							}
							change_variable = { 
								name = build_in_exotics_e
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_exotics_e
								divide = 100
							}
							set_variable = { 
								name = build_pay_exotics_e
								value = var:build_exotics_e
							}
							change_variable = { 
								name = build_pay_exotics_e
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_exotics_e
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_e
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_e
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_e
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_e
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_exotics_e
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_exotics_e
							value = 0
						}
						set_variable = { 
							name = prod_pay_exotics_e
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_e
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_e
								value = 0
							}
							set_variable = { 
								name = build_pay_exotics_e
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_exotics_g
					var:trade_dmnd_exotics_g > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_exotics_g
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_exotics_g
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_exotics_g
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_exotics_g
					}
					set_variable = { 
						name = prod_tools_in_exotics_g
						value = var:prod_tools_dmnd_exotics_g
					}
					change_variable = { 
						name = prod_tools_in_exotics_g
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_exotics_g
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_exotics_g
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_exotics_g
							var:pop_calorie_exotics_g > 0
						}
						set_variable = { 
							name = pop_calorie_actual_exotics_g
							value = var:pop_calorie_exotics_g
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_exotics_g
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_exotics_g
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_exotics_g
							var:pop_nutrient_exotics_g > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_exotics_g
							value = var:pop_nutrient_exotics_g
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_exotics_g
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_exotics_g
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_exotics_g
							var:pop_comfort_exotics_g > 0
						}
						set_variable = { 
							name = pop_comfort_actual_exotics_g
							value = var:pop_comfort_exotics_g
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_exotics_g
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_exotics_g
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_exotics_g
							var:pop_luxury_exotics_g > 0
						}
						set_variable = { 
							name = pop_luxury_actual_exotics_g
							value = var:pop_luxury_exotics_g
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_exotics_g
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_exotics_g
					}
					if = { 
						limit = { 
							has_variable = mil_supply_exotics_g
						}
						set_variable = { 
							name = mil_supply_in_exotics_g
							value = var:mil_supply_exotics_g
						}
						change_variable = { 
							name = mil_supply_in_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_exotics_g
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_exotics_g
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_exotics_g
							}
							set_variable = { 
								name = prod_in_exotics_g
								value = var:prod_dmnd_exotics_g
							}
							change_variable = { 
								name = prod_in_exotics_g
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_exotics_g
								divide = 100
							}
							set_variable = { 
								name = prod_pay_exotics_g
								value = var:prod_dmnd_exotics_g
							}
							change_variable = { 
								name = prod_pay_exotics_g
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_g
								var:build_exotics_g > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_g
								value = var:build_exotics_g
							}
							change_variable = { 
								name = build_in_exotics_g
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_exotics_g
								divide = 100
							}
							set_variable = { 
								name = build_pay_exotics_g
								value = var:build_exotics_g
							}
							change_variable = { 
								name = build_pay_exotics_g
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_exotics_g
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_g
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_g
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_g
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_g
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_exotics_g
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_exotics_g
							value = 0
						}
						set_variable = { 
							name = prod_pay_exotics_g
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_exotics_g
							}
							variable = build_slots
							set_variable = { 
								name = build_in_exotics_g
								value = 0
							}
							set_variable = { 
								name = build_pay_exotics_g
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_textile
					var:trade_dmnd_textile > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_textile
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_textile
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_textile
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_textile
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_textile
					}
					set_variable = { 
						name = prod_tools_in_textile
						value = var:prod_tools_dmnd_textile
					}
					change_variable = { 
						name = prod_tools_in_textile
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_textile
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_textile
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_textile
							var:pop_calorie_textile > 0
						}
						set_variable = { 
							name = pop_calorie_actual_textile
							value = var:pop_calorie_textile
						}
						change_variable = { 
							name = pop_calorie_actual_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_textile
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_textile
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_textile
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_textile
							var:pop_nutrient_textile > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_textile
							value = var:pop_nutrient_textile
						}
						change_variable = { 
							name = pop_nutrient_actual_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_textile
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_textile
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_textile
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_textile
							var:pop_comfort_textile > 0
						}
						set_variable = { 
							name = pop_comfort_actual_textile
							value = var:pop_comfort_textile
						}
						change_variable = { 
							name = pop_comfort_actual_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_textile
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_textile
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_textile
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_textile
							var:pop_luxury_textile > 0
						}
						set_variable = { 
							name = pop_luxury_actual_textile
							value = var:pop_luxury_textile
						}
						change_variable = { 
							name = pop_luxury_actual_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_textile
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_textile
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_textile
					}
					if = { 
						limit = { 
							has_variable = mil_supply_textile
						}
						set_variable = { 
							name = mil_supply_in_textile
							value = var:mil_supply_textile
						}
						change_variable = { 
							name = mil_supply_in_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_textile
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_textile
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_textile
							}
							set_variable = { 
								name = prod_in_textile
								value = var:prod_dmnd_textile
							}
							change_variable = { 
								name = prod_in_textile
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_textile
								divide = 100
							}
							set_variable = { 
								name = prod_pay_textile
								value = var:prod_dmnd_textile
							}
							change_variable = { 
								name = prod_pay_textile
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_textile
								var:build_textile > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_textile
								value = var:build_textile
							}
							change_variable = { 
								name = build_in_textile
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_textile
								divide = 100
							}
							set_variable = { 
								name = build_pay_textile
								value = var:build_textile
							}
							change_variable = { 
								name = build_pay_textile
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_textile
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_textile
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_textile
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_textile
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_textile
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_textile
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_textile
							value = 0
						}
						set_variable = { 
							name = prod_pay_textile
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_textile
							}
							variable = build_slots
							set_variable = { 
								name = build_in_textile
								value = 0
							}
							set_variable = { 
								name = build_pay_textile
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_pottery
					var:trade_dmnd_pottery > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_pottery
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_pottery
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_pottery
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_pottery
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_pottery
					}
					set_variable = { 
						name = prod_tools_in_pottery
						value = var:prod_tools_dmnd_pottery
					}
					change_variable = { 
						name = prod_tools_in_pottery
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_pottery
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_pottery
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_pottery
							var:pop_calorie_pottery > 0
						}
						set_variable = { 
							name = pop_calorie_actual_pottery
							value = var:pop_calorie_pottery
						}
						change_variable = { 
							name = pop_calorie_actual_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_pottery
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_pottery
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_pottery
							var:pop_nutrient_pottery > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_pottery
							value = var:pop_nutrient_pottery
						}
						change_variable = { 
							name = pop_nutrient_actual_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_pottery
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_pottery
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_pottery
							var:pop_comfort_pottery > 0
						}
						set_variable = { 
							name = pop_comfort_actual_pottery
							value = var:pop_comfort_pottery
						}
						change_variable = { 
							name = pop_comfort_actual_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_pottery
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_pottery
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_pottery
							var:pop_luxury_pottery > 0
						}
						set_variable = { 
							name = pop_luxury_actual_pottery
							value = var:pop_luxury_pottery
						}
						change_variable = { 
							name = pop_luxury_actual_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_pottery
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_pottery
					}
					if = { 
						limit = { 
							has_variable = mil_supply_pottery
						}
						set_variable = { 
							name = mil_supply_in_pottery
							value = var:mil_supply_pottery
						}
						change_variable = { 
							name = mil_supply_in_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_pottery
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_pottery
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_pottery
							}
							set_variable = { 
								name = prod_in_pottery
								value = var:prod_dmnd_pottery
							}
							change_variable = { 
								name = prod_in_pottery
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_pottery
								divide = 100
							}
							set_variable = { 
								name = prod_pay_pottery
								value = var:prod_dmnd_pottery
							}
							change_variable = { 
								name = prod_pay_pottery
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_pottery
								var:build_pottery > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_pottery
								value = var:build_pottery
							}
							change_variable = { 
								name = build_in_pottery
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_pottery
								divide = 100
							}
							set_variable = { 
								name = build_pay_pottery
								value = var:build_pottery
							}
							change_variable = { 
								name = build_pay_pottery
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_pottery
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_pottery
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_pottery
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_pottery
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_pottery
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_pottery
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_pottery
							value = 0
						}
						set_variable = { 
							name = prod_pay_pottery
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_pottery
							}
							variable = build_slots
							set_variable = { 
								name = build_in_pottery
								value = 0
							}
							set_variable = { 
								name = build_pay_pottery
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_tools
					var:trade_dmnd_tools > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_tools
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_tools
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_tools
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_tools
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_tools
					}
					set_variable = { 
						name = prod_tools_in_tools
						value = var:prod_tools_dmnd_tools
					}
					change_variable = { 
						name = prod_tools_in_tools
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_tools
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_tools
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_tools
							var:pop_calorie_tools > 0
						}
						set_variable = { 
							name = pop_calorie_actual_tools
							value = var:pop_calorie_tools
						}
						change_variable = { 
							name = pop_calorie_actual_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_tools
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_tools
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_tools
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_tools
							var:pop_nutrient_tools > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_tools
							value = var:pop_nutrient_tools
						}
						change_variable = { 
							name = pop_nutrient_actual_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_tools
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_tools
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_tools
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_tools
							var:pop_comfort_tools > 0
						}
						set_variable = { 
							name = pop_comfort_actual_tools
							value = var:pop_comfort_tools
						}
						change_variable = { 
							name = pop_comfort_actual_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_tools
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_tools
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_tools
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_tools
							var:pop_luxury_tools > 0
						}
						set_variable = { 
							name = pop_luxury_actual_tools
							value = var:pop_luxury_tools
						}
						change_variable = { 
							name = pop_luxury_actual_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_tools
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_tools
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_tools
					}
					if = { 
						limit = { 
							has_variable = mil_supply_tools
						}
						set_variable = { 
							name = mil_supply_in_tools
							value = var:mil_supply_tools
						}
						change_variable = { 
							name = mil_supply_in_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_tools
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_tools
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_tools
							}
							set_variable = { 
								name = prod_in_tools
								value = var:prod_dmnd_tools
							}
							change_variable = { 
								name = prod_in_tools
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_tools
								divide = 100
							}
							set_variable = { 
								name = prod_pay_tools
								value = var:prod_dmnd_tools
							}
							change_variable = { 
								name = prod_pay_tools
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_tools
								var:build_tools > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_tools
								value = var:build_tools
							}
							change_variable = { 
								name = build_in_tools
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_tools
								divide = 100
							}
							set_variable = { 
								name = build_pay_tools
								value = var:build_tools
							}
							change_variable = { 
								name = build_pay_tools
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_tools
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_tools
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_tools
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_tools
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_tools
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_tools
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_tools
							value = 0
						}
						set_variable = { 
							name = prod_pay_tools
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_tools
							}
							variable = build_slots
							set_variable = { 
								name = build_in_tools
								value = 0
							}
							set_variable = { 
								name = build_pay_tools
								value = 0
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_dmnd_armaments
					var:trade_dmnd_armaments > 0
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = var:trade_pay_armaments
				}
				change_variable = { 
					name = trade_resolve_trade_t
					divide = var:trade_dmnd_armaments
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = var:trade_in_armaments
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					multiply = 100
				}
				change_variable = { 
					name = trade_resolve_trade_tt
					divide = var:trade_dmnd_armaments
				}
				if = { 
					limit = { 
						has_variable = prod_tools_dmnd_armaments
					}
					set_variable = { 
						name = prod_tools_in_armaments
						value = var:prod_tools_dmnd_armaments
					}
					change_variable = { 
						name = prod_tools_in_armaments
						multiply = var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = prod_tools_in_armaments
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_ttt
						value = var:prod_tools_dmnd_armaments
					}
					change_variable = { 
						name = trade_resolve_trade_ttt
						multiply = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = prod_pay
						add = var:trade_resolve_trade_ttt
					}
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					if = { 
						limit = { 
							has_variable = pop_calorie_armaments
							var:pop_calorie_armaments > 0
						}
						set_variable = { 
							name = pop_calorie_actual_armaments
							value = var:pop_calorie_armaments
						}
						change_variable = { 
							name = pop_calorie_actual_armaments
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_calorie_actual_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_calorie_armaments
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_calorie
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_calorie_actual_armaments
					}
					if = { 
						limit = { 
							has_variable = pop_nutrient_armaments
							var:pop_nutrient_armaments > 0
						}
						set_variable = { 
							name = pop_nutrient_actual_armaments
							value = var:pop_nutrient_armaments
						}
						change_variable = { 
							name = pop_nutrient_actual_armaments
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_nutrient_actual_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_nutrient_armaments
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_nutrient
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_nutrient_actual_armaments
					}
					if = { 
						limit = { 
							has_variable = pop_comfort_armaments
							var:pop_comfort_armaments > 0
						}
						set_variable = { 
							name = pop_comfort_actual_armaments
							value = var:pop_comfort_armaments
						}
						change_variable = { 
							name = pop_comfort_actual_armaments
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_comfort_actual_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_comfort_armaments
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_comfort
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_comfort_actual_armaments
					}
					if = { 
						limit = { 
							has_variable = pop_luxury_armaments
							var:pop_luxury_armaments > 0
						}
						set_variable = { 
							name = pop_luxury_actual_armaments
							value = var:pop_luxury_armaments
						}
						change_variable = { 
							name = pop_luxury_actual_armaments
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = pop_luxury_actual_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:pop_luxury_armaments
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_luxury
							add = var:trade_resolve_trade_t
						}
					}
					else = { 
						remove_variable = pop_luxury_actual_armaments
					}
					if = { 
						limit = { 
							has_variable = mil_supply_armaments
						}
						set_variable = { 
							name = mil_supply_in_armaments
							value = var:mil_supply_armaments
						}
						change_variable = { 
							name = mil_supply_in_armaments
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = mil_supply_in_armaments
							divide = 100
						}
						set_variable = { 
							name = trade_resolve_trade_t
							value = var:mil_supply_armaments
						}
						change_variable = { 
							name = trade_resolve_trade_t
							multiply = prev.var:trade_resolve_trade_t
						}
						change_variable = { 
							name = pop_pay_supply
							add = var:trade_resolve_trade_t
						}
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:trade_resolve_trade_t
					}
					set_variable = { 
						name = trade_resolve_trade_tt
						value = prev.var:trade_resolve_trade_tt
					}
					every_in_list = { 
						variable = prod_instances
						if = { 
							limit = { 
								has_variable = prod_dmnd_armaments
							}
							set_variable = { 
								name = prod_in_armaments
								value = var:prod_dmnd_armaments
							}
							change_variable = { 
								name = prod_in_armaments
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = prod_in_armaments
								divide = 100
							}
							set_variable = { 
								name = prod_pay_armaments
								value = var:prod_dmnd_armaments
							}
							change_variable = { 
								name = prod_pay_armaments
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_armaments
								var:build_armaments > 0
							}
							variable = build_slots
							set_variable = { 
								name = build_in_armaments
								value = var:build_armaments
							}
							change_variable = { 
								name = build_in_armaments
								multiply = prev.var:trade_resolve_trade_tt
							}
							change_variable = { 
								name = build_in_armaments
								divide = 100
							}
							set_variable = { 
								name = build_pay_armaments
								value = var:build_armaments
							}
							change_variable = { 
								name = build_pay_armaments
								multiply = prev.var:trade_resolve_trade_t
							}
						}
					}
				}
			}
			else = { 
				set_variable = { 
					name = prod_tools_in_armaments
					value = 0
				}
				every_county_province = { 
					limit = { 
						is_valid_prov = yes
					}
					set_variable = { 
						name = pop_calorie_actual_armaments
						value = 0
					}
					set_variable = { 
						name = pop_nutrient_actual_armaments
						value = 0
					}
					set_variable = { 
						name = pop_comfort_actual_armaments
						value = 0
					}
					set_variable = { 
						name = pop_luxury_actual_armaments
						value = 0
					}
					every_in_list = { 
						limit = { 
							has_variable = prod_dmnd_armaments
						}
						variable = prod_instances
						set_variable = { 
							name = prod_in_armaments
							value = 0
						}
						set_variable = { 
							name = prod_pay_armaments
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable_list = build_slots
							variable_list_size = { 
								name = build_slots
								value >= 1
							}
						}
						every_in_list = { 
							limit = { 
								has_variable = build_armaments
							}
							variable = build_slots
							set_variable = { 
								name = build_in_armaments
								value = 0
							}
							set_variable = { 
								name = build_pay_armaments
								value = 0
							}
						}
					}
				}
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			every_in_list = { 
				variable = prod_instances
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						add = prev.var:prod_size
					}
				}
			}
			every_in_list = { 
				variable = prod_instances
				set_variable = { 
					name = prod_tools_pay
					value = var:prod_size
				}
				change_variable = { 
					name = prod_tools_pay
					multiply = 100
				}
				change_variable = { 
					name = prod_tools_pay
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_tools_pay
					multiply = prev.var:prod_pay
				}
				change_variable = { 
					name = prod_tools_pay
					divide = 100
				}
			}
			remove_variable = trade_resolve_trade_t
			remove_variable = trade_resolve_trade_tt
			remove_variable = trade_resolve_trade_ttt
		}
		every_in_global_list = { 
			variable = prod_instances
			set_variable = { 
				name = prod_pay_old
				value = var:prod_pay
			}
			set_variable = { 
				name = prod_earn_old
				value = var:prod_earn
			}
			set_variable = { 
				name = prod_pay
				value = 0
			}
			set_variable = { 
				name = prod_earn
				value = 0
			}
			if = { 
				limit = { 
					has_variable = prod_pay_food
					var:prod_pay_food > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_food
				}
			}
			else = { 
				remove_variable = prod_pay_food
			}
			if = { 
				limit = { 
					has_variable = prod_earn_food
					var:prod_earn_food > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_food
				}
			}
			else = { 
				remove_variable = prod_earn_food
			}
			if = { 
				limit = { 
					has_variable = prod_pay_cereal
					var:prod_pay_cereal > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_cereal
				}
			}
			else = { 
				remove_variable = prod_pay_cereal
			}
			if = { 
				limit = { 
					has_variable = prod_earn_cereal
					var:prod_earn_cereal > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_cereal
				}
			}
			else = { 
				remove_variable = prod_earn_cereal
			}
			if = { 
				limit = { 
					has_variable = prod_pay_salted
					var:prod_pay_salted > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_salted
				}
			}
			else = { 
				remove_variable = prod_pay_salted
			}
			if = { 
				limit = { 
					has_variable = prod_earn_salted
					var:prod_earn_salted > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_salted
				}
			}
			else = { 
				remove_variable = prod_earn_salted
			}
			if = { 
				limit = { 
					has_variable = prod_pay_salt
					var:prod_pay_salt > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_salt
				}
			}
			else = { 
				remove_variable = prod_pay_salt
			}
			if = { 
				limit = { 
					has_variable = prod_earn_salt
					var:prod_earn_salt > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_salt
				}
			}
			else = { 
				remove_variable = prod_earn_salt
			}
			if = { 
				limit = { 
					has_variable = prod_pay_mud
					var:prod_pay_mud > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_mud
				}
			}
			else = { 
				remove_variable = prod_pay_mud
			}
			if = { 
				limit = { 
					has_variable = prod_earn_mud
					var:prod_earn_mud > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_mud
				}
			}
			else = { 
				remove_variable = prod_earn_mud
			}
			if = { 
				limit = { 
					has_variable = prod_pay_fuel
					var:prod_pay_fuel > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_fuel
				}
			}
			else = { 
				remove_variable = prod_pay_fuel
			}
			if = { 
				limit = { 
					has_variable = prod_earn_fuel
					var:prod_earn_fuel > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_fuel
				}
			}
			else = { 
				remove_variable = prod_earn_fuel
			}
			if = { 
				limit = { 
					has_variable = prod_pay_fiber
					var:prod_pay_fiber > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_fiber
				}
			}
			else = { 
				remove_variable = prod_pay_fiber
			}
			if = { 
				limit = { 
					has_variable = prod_earn_fiber
					var:prod_earn_fiber > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_fiber
				}
			}
			else = { 
				remove_variable = prod_earn_fiber
			}
			if = { 
				limit = { 
					has_variable = prod_pay_timber
					var:prod_pay_timber > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_timber
				}
			}
			else = { 
				remove_variable = prod_pay_timber
			}
			if = { 
				limit = { 
					has_variable = prod_earn_timber
					var:prod_earn_timber > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_timber
				}
			}
			else = { 
				remove_variable = prod_earn_timber
			}
			if = { 
				limit = { 
					has_variable = prod_pay_metal
					var:prod_pay_metal > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_metal
				}
			}
			else = { 
				remove_variable = prod_pay_metal
			}
			if = { 
				limit = { 
					has_variable = prod_earn_metal
					var:prod_earn_metal > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_metal
				}
			}
			else = { 
				remove_variable = prod_earn_metal
			}
			if = { 
				limit = { 
					has_variable = prod_pay_exotics_w
					var:prod_pay_exotics_w > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_exotics_w
				}
			}
			else = { 
				remove_variable = prod_pay_exotics_w
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_w
					var:prod_earn_exotics_w > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_exotics_w
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_w
			}
			if = { 
				limit = { 
					has_variable = prod_pay_exotics_e
					var:prod_pay_exotics_e > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_exotics_e
				}
			}
			else = { 
				remove_variable = prod_pay_exotics_e
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_e
					var:prod_earn_exotics_e > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_exotics_e
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_e
			}
			if = { 
				limit = { 
					has_variable = prod_pay_exotics_g
					var:prod_pay_exotics_g > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_exotics_g
				}
			}
			else = { 
				remove_variable = prod_pay_exotics_g
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_g
					var:prod_earn_exotics_g > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_exotics_g
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_g
			}
			if = { 
				limit = { 
					has_variable = prod_pay_textile
					var:prod_pay_textile > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_textile
				}
			}
			else = { 
				remove_variable = prod_pay_textile
			}
			if = { 
				limit = { 
					has_variable = prod_earn_textile
					var:prod_earn_textile > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_textile
				}
			}
			else = { 
				remove_variable = prod_earn_textile
			}
			if = { 
				limit = { 
					has_variable = prod_pay_pottery
					var:prod_pay_pottery > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_pottery
				}
			}
			else = { 
				remove_variable = prod_pay_pottery
			}
			if = { 
				limit = { 
					has_variable = prod_earn_pottery
					var:prod_earn_pottery > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_pottery
				}
			}
			else = { 
				remove_variable = prod_earn_pottery
			}
			if = { 
				limit = { 
					has_variable = prod_pay_tools
					var:prod_pay_tools > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_tools
				}
			}
			else = { 
				remove_variable = prod_pay_tools
			}
			if = { 
				limit = { 
					has_variable = prod_earn_tools
					var:prod_earn_tools > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_tools
				}
			}
			else = { 
				remove_variable = prod_earn_tools
			}
			if = { 
				limit = { 
					has_variable = prod_pay_armaments
					var:prod_pay_armaments > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_pay_armaments
				}
			}
			else = { 
				remove_variable = prod_pay_armaments
			}
			if = { 
				limit = { 
					has_variable = prod_earn_armaments
					var:prod_earn_armaments > 0
				}
				change_variable = { 
					name = prod_earn
					add = var:prod_earn_armaments
				}
			}
			else = { 
				remove_variable = prod_earn_armaments
			}
			if = { 
				limit = { 
					has_variable = prod_tools_pay
					var:prod_tools_pay > 0
				}
				change_variable = { 
					name = prod_pay
					add = var:prod_tools_pay
				}
			}
			remove_variable = trade_resolve_trade_t
		}
		if = { 
			limit = { 
				has_global_variable_list = build_slots_active
				global_variable_list_size = { 
					name = build_slots_active
					value >= 1
				}
			}
			every_in_global_list = { 
				variable = build_slots_active
				set_variable = { 
					name = build_pay
					value = 0
				}
				if = { 
					limit = { 
						has_variable = build_pay_food
						var:build_pay_food > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_food
					}
				}
				else = { 
					remove_variable = build_pay_food
				}
				if = { 
					limit = { 
						has_variable = build_pay_cereal
						var:build_pay_cereal > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_cereal
					}
				}
				else = { 
					remove_variable = build_pay_cereal
				}
				if = { 
					limit = { 
						has_variable = build_pay_salted
						var:build_pay_salted > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_salted
					}
				}
				else = { 
					remove_variable = build_pay_salted
				}
				if = { 
					limit = { 
						has_variable = build_pay_salt
						var:build_pay_salt > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_salt
					}
				}
				else = { 
					remove_variable = build_pay_salt
				}
				if = { 
					limit = { 
						has_variable = build_pay_mud
						var:build_pay_mud > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_mud
					}
				}
				else = { 
					remove_variable = build_pay_mud
				}
				if = { 
					limit = { 
						has_variable = build_pay_fuel
						var:build_pay_fuel > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_fuel
					}
				}
				else = { 
					remove_variable = build_pay_fuel
				}
				if = { 
					limit = { 
						has_variable = build_pay_fiber
						var:build_pay_fiber > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_fiber
					}
				}
				else = { 
					remove_variable = build_pay_fiber
				}
				if = { 
					limit = { 
						has_variable = build_pay_timber
						var:build_pay_timber > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_timber
					}
				}
				else = { 
					remove_variable = build_pay_timber
				}
				if = { 
					limit = { 
						has_variable = build_pay_metal
						var:build_pay_metal > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_metal
					}
				}
				else = { 
					remove_variable = build_pay_metal
				}
				if = { 
					limit = { 
						has_variable = build_pay_exotics_w
						var:build_pay_exotics_w > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_exotics_w
					}
				}
				else = { 
					remove_variable = build_pay_exotics_w
				}
				if = { 
					limit = { 
						has_variable = build_pay_exotics_e
						var:build_pay_exotics_e > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_exotics_e
					}
				}
				else = { 
					remove_variable = build_pay_exotics_e
				}
				if = { 
					limit = { 
						has_variable = build_pay_exotics_g
						var:build_pay_exotics_g > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_exotics_g
					}
				}
				else = { 
					remove_variable = build_pay_exotics_g
				}
				if = { 
					limit = { 
						has_variable = build_pay_textile
						var:build_pay_textile > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_textile
					}
				}
				else = { 
					remove_variable = build_pay_textile
				}
				if = { 
					limit = { 
						has_variable = build_pay_pottery
						var:build_pay_pottery > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_pottery
					}
				}
				else = { 
					remove_variable = build_pay_pottery
				}
				if = { 
					limit = { 
						has_variable = build_pay_tools
						var:build_pay_tools > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_tools
					}
				}
				else = { 
					remove_variable = build_pay_tools
				}
				if = { 
					limit = { 
						has_variable = build_pay_armaments
						var:build_pay_armaments > 0
					}
					change_variable = { 
						name = build_pay
						add = var:build_pay_armaments
					}
				}
				else = { 
					remove_variable = build_pay_armaments
				}
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = pop_pay_serf
				value = 0
			}
			set_variable = { 
				name = pop_pay_free
				value = 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:pop_pay_calorie
			}
			change_variable = { 
				name = trade_resolve_trade_t
				multiply = var:pop_calorie_serf_share
			}
			change_variable = { 
				name = pop_pay_free
				add = var:pop_pay_calorie
			}
			change_variable = { 
				name = pop_pay_free
				subtract = var:trade_resolve_trade_t
			}
			change_variable = { 
				name = pop_pay_serf
				add = var:trade_resolve_trade_t
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:pop_pay_nutrient
			}
			change_variable = { 
				name = trade_resolve_trade_t
				multiply = var:pop_nutrient_serf_share
			}
			change_variable = { 
				name = pop_pay_free
				add = var:pop_pay_nutrient
			}
			change_variable = { 
				name = pop_pay_free
				subtract = var:trade_resolve_trade_t
			}
			change_variable = { 
				name = pop_pay_serf
				add = var:trade_resolve_trade_t
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:pop_pay_comfort
			}
			change_variable = { 
				name = trade_resolve_trade_t
				multiply = var:pop_comfort_serf_share
			}
			change_variable = { 
				name = pop_pay_free
				add = var:pop_pay_comfort
			}
			change_variable = { 
				name = pop_pay_free
				subtract = var:trade_resolve_trade_t
			}
			change_variable = { 
				name = pop_pay_serf
				add = var:trade_resolve_trade_t
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:pop_pay_luxury
			}
			change_variable = { 
				name = trade_resolve_trade_t
				multiply = var:pop_luxury_serf_share
			}
			change_variable = { 
				name = pop_pay_free
				add = var:pop_pay_luxury
			}
			change_variable = { 
				name = pop_pay_free
				subtract = var:trade_resolve_trade_t
			}
			change_variable = { 
				name = pop_pay_serf
				add = var:trade_resolve_trade_t
			}
			change_variable = { 
				name = pop_pay_free
				add = var:pop_pay_supply
			}
			if = { 
				limit = { 
					has_variable_list = build_slots
					variable_list_size = { 
						name = build_slots
						value >= 1
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_pay
						var:build_pay > 0
					}
					variable = build_slots
					if = { 
						limit = { 
							var:build_owner = 1
						}
						prev = { 
							change_variable = { 
								name = pop_pay_serf
								add = prev.var:build_pay
							}
						}
					}
					else_if = { 
						limit = { 
							var:build_owner = 2
						}
						prev = { 
							change_variable = { 
								name = pop_pay_free
								add = prev.var:build_pay
							}
						}
					}
				}
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = prod_earn_food
					var:prod_earn_food > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_food
				}
			}
			else = { 
				remove_variable = prod_earn_food
			}
			if = { 
				limit = { 
					has_variable = prod_earn_cereal
					var:prod_earn_cereal > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_cereal
				}
			}
			else = { 
				remove_variable = prod_earn_cereal
			}
			if = { 
				limit = { 
					has_variable = prod_earn_salted
					var:prod_earn_salted > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_salted
				}
			}
			else = { 
				remove_variable = prod_earn_salted
			}
			if = { 
				limit = { 
					has_variable = prod_earn_salt
					var:prod_earn_salt > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_salt
				}
			}
			else = { 
				remove_variable = prod_earn_salt
			}
			if = { 
				limit = { 
					has_variable = prod_earn_mud
					var:prod_earn_mud > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_mud
				}
			}
			else = { 
				remove_variable = prod_earn_mud
			}
			if = { 
				limit = { 
					has_variable = prod_earn_fuel
					var:prod_earn_fuel > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_fuel
				}
			}
			else = { 
				remove_variable = prod_earn_fuel
			}
			if = { 
				limit = { 
					has_variable = prod_earn_fiber
					var:prod_earn_fiber > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_fiber
				}
			}
			else = { 
				remove_variable = prod_earn_fiber
			}
			if = { 
				limit = { 
					has_variable = prod_earn_timber
					var:prod_earn_timber > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_timber
				}
			}
			else = { 
				remove_variable = prod_earn_timber
			}
			if = { 
				limit = { 
					has_variable = prod_earn_metal
					var:prod_earn_metal > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_metal
				}
			}
			else = { 
				remove_variable = prod_earn_metal
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_w
					var:prod_earn_exotics_w > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_exotics_w
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_w
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_e
					var:prod_earn_exotics_e > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_exotics_e
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_e
			}
			if = { 
				limit = { 
					has_variable = prod_earn_exotics_g
					var:prod_earn_exotics_g > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_exotics_g
				}
			}
			else = { 
				remove_variable = prod_earn_exotics_g
			}
			if = { 
				limit = { 
					has_variable = prod_earn_textile
					var:prod_earn_textile > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_textile
				}
			}
			else = { 
				remove_variable = prod_earn_textile
			}
			if = { 
				limit = { 
					has_variable = prod_earn_pottery
					var:prod_earn_pottery > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_pottery
				}
			}
			else = { 
				remove_variable = prod_earn_pottery
			}
			if = { 
				limit = { 
					has_variable = prod_earn_tools
					var:prod_earn_tools > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_tools
				}
			}
			else = { 
				remove_variable = prod_earn_tools
			}
			if = { 
				limit = { 
					has_variable = prod_earn_armaments
					var:prod_earn_armaments > 0
				}
				change_variable = { 
					name = trade_resolve_trade_t
					add = var:prod_earn_armaments
				}
			}
			else = { 
				remove_variable = prod_earn_armaments
			}
			every_in_list = { 
				variable = prod_instances
				prev = { 
					change_variable = { 
						name = trade_resolve_trade_t
						subtract = prev.var:prod_pay
					}
				}
			}
			set_variable = { 
				name = pop_earn_free
				value = var:trade_resolve_trade_t
			}
			set_variable = { 
				name = pop_earn_serf
				value = 0
			}
			remove_variable = trade_resolve_trade_t
			remove_variable = trade_resolve_trade_tt
		}
		every_in_global_list = { 
			variable = trade_merchants
			set_variable = { 
				name = trade_earn
				value = 0
			}
			set_variable = { 
				name = trade_pay
				value = 0
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_food
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_food
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_cereal
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_cereal
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_salted
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_salted
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_salt
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_salt
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_mud
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_mud
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_fuel
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_fuel
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_fiber
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_fiber
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_timber
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_timber
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_metal
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_metal
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_w
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_w
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_e
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_e
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_exotics_g
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_exotics_g
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_textile
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_textile
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_pottery
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_pottery
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_tools
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_tools
			}
			change_variable = { 
				name = trade_earn
				add = var:trade_earn_armaments
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_pay_armaments
			}
			set_variable = { 
				name = trade_retire_pay
				value = var:trade_retire
			}
			change_variable = { 
				name = trade_retire_pay
				multiply = var:trade_wealth
			}
			change_variable = { 
				name = trade_retire_pay
				divide = 100
			}
			change_variable = { 
				name = trade_pay
				add = var:trade_retire_pay
			}
			var:trade_location = { 
				change_variable = { 
					name = pop_earn_free
					add = prev.var:trade_retire_pay
				}
			}
			remove_variable = trade_resolve_trade_t
			remove_variable = trade_resolve_trade_tt
		}
		every_in_global_list = { 
			variable = trade_merchants
			change_variable = { 
				name = trade_want_food
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_food
				add = var:trade_out_food
			}
			change_variable = { 
				name = trade_want_food
				add = 0.166
			}
			change_variable = { 
				name = trade_has_food
				add = var:trade_in_food
			}
			change_variable = { 
				name = trade_has_food
				subtract = var:trade_out_food
			}
			if = { 
				limit = { 
					has_variable = trade_has_food
					var:trade_has_food > 0
					var:trade_has_food = { 
						compare_value > prev.var:trade_want_food
					}
				}
				set_variable = { 
					name = trade_want_food
					value = var:trade_has_food
				}
			}
			change_variable = { 
				name = trade_want_cereal
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_cereal
				add = var:trade_out_cereal
			}
			change_variable = { 
				name = trade_want_cereal
				add = 0.166
			}
			change_variable = { 
				name = trade_has_cereal
				add = var:trade_in_cereal
			}
			change_variable = { 
				name = trade_has_cereal
				subtract = var:trade_out_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_has_cereal
					var:trade_has_cereal > 0
					var:trade_has_cereal = { 
						compare_value > prev.var:trade_want_cereal
					}
				}
				set_variable = { 
					name = trade_want_cereal
					value = var:trade_has_cereal
				}
			}
			change_variable = { 
				name = trade_want_salted
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_salted
				add = var:trade_out_salted
			}
			change_variable = { 
				name = trade_want_salted
				add = 0.166
			}
			change_variable = { 
				name = trade_has_salted
				add = var:trade_in_salted
			}
			change_variable = { 
				name = trade_has_salted
				subtract = var:trade_out_salted
			}
			if = { 
				limit = { 
					has_variable = trade_has_salted
					var:trade_has_salted > 0
					var:trade_has_salted = { 
						compare_value > prev.var:trade_want_salted
					}
				}
				set_variable = { 
					name = trade_want_salted
					value = var:trade_has_salted
				}
			}
			change_variable = { 
				name = trade_want_salt
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_salt
				add = var:trade_out_salt
			}
			change_variable = { 
				name = trade_want_salt
				add = 0.166
			}
			change_variable = { 
				name = trade_has_salt
				add = var:trade_in_salt
			}
			change_variable = { 
				name = trade_has_salt
				subtract = var:trade_out_salt
			}
			if = { 
				limit = { 
					has_variable = trade_has_salt
					var:trade_has_salt > 0
					var:trade_has_salt = { 
						compare_value > prev.var:trade_want_salt
					}
				}
				set_variable = { 
					name = trade_want_salt
					value = var:trade_has_salt
				}
			}
			change_variable = { 
				name = trade_want_mud
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_mud
				add = var:trade_out_mud
			}
			change_variable = { 
				name = trade_want_mud
				add = 0.166
			}
			change_variable = { 
				name = trade_has_mud
				add = var:trade_in_mud
			}
			change_variable = { 
				name = trade_has_mud
				subtract = var:trade_out_mud
			}
			if = { 
				limit = { 
					has_variable = trade_has_mud
					var:trade_has_mud > 0
					var:trade_has_mud = { 
						compare_value > prev.var:trade_want_mud
					}
				}
				set_variable = { 
					name = trade_want_mud
					value = var:trade_has_mud
				}
			}
			change_variable = { 
				name = trade_want_fuel
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_fuel
				add = var:trade_out_fuel
			}
			change_variable = { 
				name = trade_want_fuel
				add = 0.166
			}
			change_variable = { 
				name = trade_has_fuel
				add = var:trade_in_fuel
			}
			change_variable = { 
				name = trade_has_fuel
				subtract = var:trade_out_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_has_fuel
					var:trade_has_fuel > 0
					var:trade_has_fuel = { 
						compare_value > prev.var:trade_want_fuel
					}
				}
				set_variable = { 
					name = trade_want_fuel
					value = var:trade_has_fuel
				}
			}
			change_variable = { 
				name = trade_want_fiber
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_fiber
				add = var:trade_out_fiber
			}
			change_variable = { 
				name = trade_want_fiber
				add = 0.166
			}
			change_variable = { 
				name = trade_has_fiber
				add = var:trade_in_fiber
			}
			change_variable = { 
				name = trade_has_fiber
				subtract = var:trade_out_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_has_fiber
					var:trade_has_fiber > 0
					var:trade_has_fiber = { 
						compare_value > prev.var:trade_want_fiber
					}
				}
				set_variable = { 
					name = trade_want_fiber
					value = var:trade_has_fiber
				}
			}
			change_variable = { 
				name = trade_want_timber
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_timber
				add = var:trade_out_timber
			}
			change_variable = { 
				name = trade_want_timber
				add = 0.166
			}
			change_variable = { 
				name = trade_has_timber
				add = var:trade_in_timber
			}
			change_variable = { 
				name = trade_has_timber
				subtract = var:trade_out_timber
			}
			if = { 
				limit = { 
					has_variable = trade_has_timber
					var:trade_has_timber > 0
					var:trade_has_timber = { 
						compare_value > prev.var:trade_want_timber
					}
				}
				set_variable = { 
					name = trade_want_timber
					value = var:trade_has_timber
				}
			}
			change_variable = { 
				name = trade_want_metal
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_metal
				add = var:trade_out_metal
			}
			change_variable = { 
				name = trade_want_metal
				add = 0.166
			}
			change_variable = { 
				name = trade_has_metal
				add = var:trade_in_metal
			}
			change_variable = { 
				name = trade_has_metal
				subtract = var:trade_out_metal
			}
			if = { 
				limit = { 
					has_variable = trade_has_metal
					var:trade_has_metal > 0
					var:trade_has_metal = { 
						compare_value > prev.var:trade_want_metal
					}
				}
				set_variable = { 
					name = trade_want_metal
					value = var:trade_has_metal
				}
			}
			change_variable = { 
				name = trade_want_exotics_w
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_exotics_w
				add = var:trade_out_exotics_w
			}
			change_variable = { 
				name = trade_want_exotics_w
				add = 0.166
			}
			change_variable = { 
				name = trade_has_exotics_w
				add = var:trade_in_exotics_w
			}
			change_variable = { 
				name = trade_has_exotics_w
				subtract = var:trade_out_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_w
					var:trade_has_exotics_w > 0
					var:trade_has_exotics_w = { 
						compare_value > prev.var:trade_want_exotics_w
					}
				}
				set_variable = { 
					name = trade_want_exotics_w
					value = var:trade_has_exotics_w
				}
			}
			change_variable = { 
				name = trade_want_exotics_e
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_exotics_e
				add = var:trade_out_exotics_e
			}
			change_variable = { 
				name = trade_want_exotics_e
				add = 0.166
			}
			change_variable = { 
				name = trade_has_exotics_e
				add = var:trade_in_exotics_e
			}
			change_variable = { 
				name = trade_has_exotics_e
				subtract = var:trade_out_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_e
					var:trade_has_exotics_e > 0
					var:trade_has_exotics_e = { 
						compare_value > prev.var:trade_want_exotics_e
					}
				}
				set_variable = { 
					name = trade_want_exotics_e
					value = var:trade_has_exotics_e
				}
			}
			change_variable = { 
				name = trade_want_exotics_g
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_exotics_g
				add = var:trade_out_exotics_g
			}
			change_variable = { 
				name = trade_want_exotics_g
				add = 0.166
			}
			change_variable = { 
				name = trade_has_exotics_g
				add = var:trade_in_exotics_g
			}
			change_variable = { 
				name = trade_has_exotics_g
				subtract = var:trade_out_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_has_exotics_g
					var:trade_has_exotics_g > 0
					var:trade_has_exotics_g = { 
						compare_value > prev.var:trade_want_exotics_g
					}
				}
				set_variable = { 
					name = trade_want_exotics_g
					value = var:trade_has_exotics_g
				}
			}
			change_variable = { 
				name = trade_want_textile
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_textile
				add = var:trade_out_textile
			}
			change_variable = { 
				name = trade_want_textile
				add = 0.166
			}
			change_variable = { 
				name = trade_has_textile
				add = var:trade_in_textile
			}
			change_variable = { 
				name = trade_has_textile
				subtract = var:trade_out_textile
			}
			if = { 
				limit = { 
					has_variable = trade_has_textile
					var:trade_has_textile > 0
					var:trade_has_textile = { 
						compare_value > prev.var:trade_want_textile
					}
				}
				set_variable = { 
					name = trade_want_textile
					value = var:trade_has_textile
				}
			}
			change_variable = { 
				name = trade_want_pottery
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_pottery
				add = var:trade_out_pottery
			}
			change_variable = { 
				name = trade_want_pottery
				add = 0.166
			}
			change_variable = { 
				name = trade_has_pottery
				add = var:trade_in_pottery
			}
			change_variable = { 
				name = trade_has_pottery
				subtract = var:trade_out_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_has_pottery
					var:trade_has_pottery > 0
					var:trade_has_pottery = { 
						compare_value > prev.var:trade_want_pottery
					}
				}
				set_variable = { 
					name = trade_want_pottery
					value = var:trade_has_pottery
				}
			}
			change_variable = { 
				name = trade_want_tools
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_tools
				add = var:trade_out_tools
			}
			change_variable = { 
				name = trade_want_tools
				add = 0.166
			}
			change_variable = { 
				name = trade_has_tools
				add = var:trade_in_tools
			}
			change_variable = { 
				name = trade_has_tools
				subtract = var:trade_out_tools
			}
			if = { 
				limit = { 
					has_variable = trade_has_tools
					var:trade_has_tools > 0
					var:trade_has_tools = { 
						compare_value > prev.var:trade_want_tools
					}
				}
				set_variable = { 
					name = trade_want_tools
					value = var:trade_has_tools
				}
			}
			change_variable = { 
				name = trade_want_armaments
				multiply = 0.834
			}
			change_variable = { 
				name = trade_want_armaments
				add = var:trade_out_armaments
			}
			change_variable = { 
				name = trade_want_armaments
				add = 0.166
			}
			change_variable = { 
				name = trade_has_armaments
				add = var:trade_in_armaments
			}
			change_variable = { 
				name = trade_has_armaments
				subtract = var:trade_out_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_has_armaments
					var:trade_has_armaments > 0
					var:trade_has_armaments = { 
						compare_value > prev.var:trade_want_armaments
					}
				}
				set_variable = { 
					name = trade_want_armaments
					value = var:trade_has_armaments
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_food
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_food
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_food
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_food
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_food
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_food
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = 100
							}
							change_variable = { 
								name = trade_price_food
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = 100
							}
							change_variable = { 
								name = trade_price_food
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_food
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_food > 50
				}
				set_variable = { 
					name = trade_price_food
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_food < 0.5
				}
				set_variable = { 
					name = trade_price_food
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_food
					}
				}
				set_variable = { 
					name = trade_price_trend_food
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_food
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_food
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_cereal
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_cereal
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_cereal
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_cereal
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_cereal
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_cereal
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_cereal > 50
				}
				set_variable = { 
					name = trade_price_cereal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_cereal < 0.5
				}
				set_variable = { 
					name = trade_price_cereal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_cereal
					}
				}
				set_variable = { 
					name = trade_price_trend_cereal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_cereal
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salted
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_salted
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_salted
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_salted
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_salted
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salted
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salted
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salted
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salted
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salted > 50
				}
				set_variable = { 
					name = trade_price_salted
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salted < 0.5
				}
				set_variable = { 
					name = trade_price_salted
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salted
					}
				}
				set_variable = { 
					name = trade_price_trend_salted
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salted
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salted
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salt
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_salt
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_salt
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_salt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_salt
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salt
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salt
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salt
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salt
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salt > 50
				}
				set_variable = { 
					name = trade_price_salt
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salt < 0.5
				}
				set_variable = { 
					name = trade_price_salt
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salt
					}
				}
				set_variable = { 
					name = trade_price_trend_salt
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salt
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salt
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_mud
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_mud
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_mud
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_mud
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_mud
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_mud
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = 100
							}
							change_variable = { 
								name = trade_price_mud
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = 100
							}
							change_variable = { 
								name = trade_price_mud
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_mud
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_mud > 50
				}
				set_variable = { 
					name = trade_price_mud
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_mud < 0.5
				}
				set_variable = { 
					name = trade_price_mud
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_mud
					}
				}
				set_variable = { 
					name = trade_price_trend_mud
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_mud
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_mud
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fuel
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_fuel
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fuel
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fuel
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fuel
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fuel
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fuel > 50
				}
				set_variable = { 
					name = trade_price_fuel
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fuel < 0.5
				}
				set_variable = { 
					name = trade_price_fuel
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fuel
					}
				}
				set_variable = { 
					name = trade_price_trend_fuel
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fuel
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fiber
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_fiber
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fiber
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fiber
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fiber
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fiber
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fiber > 50
				}
				set_variable = { 
					name = trade_price_fiber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fiber < 0.5
				}
				set_variable = { 
					name = trade_price_fiber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fiber
					}
				}
				set_variable = { 
					name = trade_price_trend_fiber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fiber
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_timber
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_timber
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_timber
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_timber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_timber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_timber
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_timber
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_timber
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_timber
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_timber > 50
				}
				set_variable = { 
					name = trade_price_timber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_timber < 0.5
				}
				set_variable = { 
					name = trade_price_timber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_timber
					}
				}
				set_variable = { 
					name = trade_price_trend_timber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_timber
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_timber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_metal
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_metal
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_metal
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_metal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_metal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_metal
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_metal
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_metal
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_metal
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_metal > 50
				}
				set_variable = { 
					name = trade_price_metal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_metal < 0.5
				}
				set_variable = { 
					name = trade_price_metal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_metal
					}
				}
				set_variable = { 
					name = trade_price_trend_metal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_metal
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_metal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_w
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_w
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_w > 50
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_w < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_w
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_w
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_w
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_e
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_e
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_e > 50
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_e < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_e
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_e
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_e
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_g
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_g
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_g > 50
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_g < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_g
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_g
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_g
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_textile
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_textile
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_textile
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_textile
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_textile
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_textile
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = 100
							}
							change_variable = { 
								name = trade_price_textile
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = 100
							}
							change_variable = { 
								name = trade_price_textile
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_textile
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_textile > 50
				}
				set_variable = { 
					name = trade_price_textile
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_textile < 0.5
				}
				set_variable = { 
					name = trade_price_textile
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_textile
					}
				}
				set_variable = { 
					name = trade_price_trend_textile
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_textile
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_textile
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_pottery
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_pottery
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_pottery
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = 100
							}
							change_variable = { 
								name = trade_price_pottery
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = 100
							}
							change_variable = { 
								name = trade_price_pottery
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_pottery
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_pottery > 50
				}
				set_variable = { 
					name = trade_price_pottery
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_pottery < 0.5
				}
				set_variable = { 
					name = trade_price_pottery
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_pottery
					}
				}
				set_variable = { 
					name = trade_price_trend_pottery
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_pottery
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_tools
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_tools
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_tools
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_tools
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_tools
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_tools
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = 100
							}
							change_variable = { 
								name = trade_price_tools
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = 100
							}
							change_variable = { 
								name = trade_price_tools
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_tools
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_tools > 50
				}
				set_variable = { 
					name = trade_price_tools
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_tools < 0.5
				}
				set_variable = { 
					name = trade_price_tools
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_tools
					}
				}
				set_variable = { 
					name = trade_price_trend_tools
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_tools
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_tools
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_armaments
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_armaments
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_armaments
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = 100
							}
							change_variable = { 
								name = trade_price_armaments
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = 100
							}
							change_variable = { 
								name = trade_price_armaments
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_armaments
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_armaments > 50
				}
				set_variable = { 
					name = trade_price_armaments
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_armaments < 0.5
				}
				set_variable = { 
					name = trade_price_armaments
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_armaments
					}
				}
				set_variable = { 
					name = trade_price_trend_armaments
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_armaments
				multiply = 0.9
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					add = var:trade_update_price_t
				}
			}
			remove_variable = trade_update_price_t
			remove_variable = trade_update_price_tt
			remove_variable = trade_update_price_ttt
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_food
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_food
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_food
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_food
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_food
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_food
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = 100
							}
							change_variable = { 
								name = trade_price_food
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = 100
							}
							change_variable = { 
								name = trade_price_food
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_food
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_food
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_food > 50
				}
				set_variable = { 
					name = trade_price_food
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_food < 0.5
				}
				set_variable = { 
					name = trade_price_food
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_food
					}
				}
				set_variable = { 
					name = trade_price_trend_food
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_food
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_food
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_cereal
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_cereal
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_cereal
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_cereal
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_cereal
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_cereal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_cereal
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_cereal > 50
				}
				set_variable = { 
					name = trade_price_cereal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_cereal < 0.5
				}
				set_variable = { 
					name = trade_price_cereal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_cereal
					}
				}
				set_variable = { 
					name = trade_price_trend_cereal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_cereal
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salted
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_salted
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_salted
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_salted
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_salted
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salted
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salted
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salted
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salted
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salted
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salted > 50
				}
				set_variable = { 
					name = trade_price_salted
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salted < 0.5
				}
				set_variable = { 
					name = trade_price_salted
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salted
					}
				}
				set_variable = { 
					name = trade_price_trend_salted
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salted
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salted
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salt
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_salt
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_salt
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_salt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_salt
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salt
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salt
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = 100
							}
							change_variable = { 
								name = trade_price_salt
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_salt
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_salt
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salt > 50
				}
				set_variable = { 
					name = trade_price_salt
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salt < 0.5
				}
				set_variable = { 
					name = trade_price_salt
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salt
					}
				}
				set_variable = { 
					name = trade_price_trend_salt
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salt
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salt
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_mud
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_mud
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_mud
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_mud
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_mud
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_mud
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = 100
							}
							change_variable = { 
								name = trade_price_mud
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = 100
							}
							change_variable = { 
								name = trade_price_mud
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_mud
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_mud
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_mud > 50
				}
				set_variable = { 
					name = trade_price_mud
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_mud < 0.5
				}
				set_variable = { 
					name = trade_price_mud
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_mud
					}
				}
				set_variable = { 
					name = trade_price_trend_mud
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_mud
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_mud
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fuel
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_fuel
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fuel
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fuel
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fuel
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fuel
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fuel
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fuel > 50
				}
				set_variable = { 
					name = trade_price_fuel
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fuel < 0.5
				}
				set_variable = { 
					name = trade_price_fuel
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fuel
					}
				}
				set_variable = { 
					name = trade_price_trend_fuel
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fuel
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fiber
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_fiber
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fiber
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fiber
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_fiber
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_fiber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_fiber
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fiber > 50
				}
				set_variable = { 
					name = trade_price_fiber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fiber < 0.5
				}
				set_variable = { 
					name = trade_price_fiber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fiber
					}
				}
				set_variable = { 
					name = trade_price_trend_fiber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fiber
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_timber
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_timber
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_timber
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_timber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_timber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_timber
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_timber
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = 100
							}
							change_variable = { 
								name = trade_price_timber
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_timber
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_timber
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_timber > 50
				}
				set_variable = { 
					name = trade_price_timber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_timber < 0.5
				}
				set_variable = { 
					name = trade_price_timber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_timber
					}
				}
				set_variable = { 
					name = trade_price_trend_timber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_timber
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_timber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_metal
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_metal
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_metal
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_metal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_metal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_metal
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_metal
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = 100
							}
							change_variable = { 
								name = trade_price_metal
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_metal
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_metal
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_metal > 50
				}
				set_variable = { 
					name = trade_price_metal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_metal < 0.5
				}
				set_variable = { 
					name = trade_price_metal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_metal
					}
				}
				set_variable = { 
					name = trade_price_trend_metal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_metal
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_metal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_w
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_w
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_w
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_w
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_w > 50
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_w < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_w
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_w
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_w
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_e
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_e
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_e
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_e
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_e > 50
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_e < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_e
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_e
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_e
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_g
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_exotics_g
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_exotics_g
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_exotics_g
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_g > 50
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_g < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_g
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_g
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_g
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_textile
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_textile
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_textile
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_textile
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_textile
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_textile
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = 100
							}
							change_variable = { 
								name = trade_price_textile
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = 100
							}
							change_variable = { 
								name = trade_price_textile
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_textile
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_textile
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_textile > 50
				}
				set_variable = { 
					name = trade_price_textile
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_textile < 0.5
				}
				set_variable = { 
					name = trade_price_textile
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_textile
					}
				}
				set_variable = { 
					name = trade_price_trend_textile
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_textile
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_textile
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_pottery
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_pottery
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_pottery
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = 100
							}
							change_variable = { 
								name = trade_price_pottery
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = 100
							}
							change_variable = { 
								name = trade_price_pottery
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_pottery
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_pottery
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_pottery > 50
				}
				set_variable = { 
					name = trade_price_pottery
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_pottery < 0.5
				}
				set_variable = { 
					name = trade_price_pottery
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_pottery
					}
				}
				set_variable = { 
					name = trade_price_trend_pottery
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_pottery
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_tools
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_tools
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_tools
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_tools
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_tools
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_tools
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = 100
							}
							change_variable = { 
								name = trade_price_tools
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = 100
							}
							change_variable = { 
								name = trade_price_tools
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_tools
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_tools
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_tools > 50
				}
				set_variable = { 
					name = trade_price_tools
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_tools < 0.5
				}
				set_variable = { 
					name = trade_price_tools
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_tools
					}
				}
				set_variable = { 
					name = trade_price_trend_tools
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_tools
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_tools
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_armaments
			}
			set_variable = { 
				name = trade_update_price_tt
				value = var:trade_sply_armaments
			}
			change_variable = { 
				name = trade_update_price_tt
				subtract = var:trade_dmnd_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_tt
					var:trade_update_price_tt != 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_out_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_in_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 100
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_tt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 80
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_tt > 0
						}
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_armaments
								divide = 100
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = 100
							}
							change_variable = { 
								name = trade_price_armaments
								divide = var:trade_update_price_t
							}
						}
					}
					else = { 
						if = { 
							limit = { 
								var:trade_update_price_t > 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = 10
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = 100
							}
							change_variable = { 
								name = trade_price_armaments
								divide = var:trade_update_price_t
							}
						}
						else = { 
							limit = { 
								var:trade_update_price_t < 0
							}
							change_variable = { 
								name = trade_update_price_t
								divide = -20
							}
							change_variable = { 
								name = trade_update_price_t
								add = 100
							}
							change_variable = { 
								name = trade_price_armaments
								multiply = var:trade_update_price_t
							}
							change_variable = { 
								name = trade_price_armaments
								divide = 100
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_armaments > 50
				}
				set_variable = { 
					name = trade_price_armaments
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_armaments < 0.5
				}
				set_variable = { 
					name = trade_price_armaments
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_armaments
					}
				}
				set_variable = { 
					name = trade_price_trend_armaments
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_armaments
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					add = var:trade_update_price_t
				}
			}
			remove_variable = trade_update_price_t
			remove_variable = trade_update_price_tt
			remove_variable = trade_update_price_ttt
		}
		every_in_global_list = { 
			variable = trade_merchants
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_food
			}
			if = { 
				limit = { 
					has_variable = trade_want_food
					var:trade_want_food > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_food
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_food
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_food
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_food
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_food
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_food > 50
				}
				set_variable = { 
					name = trade_price_food
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_food < 0.5
				}
				set_variable = { 
					name = trade_price_food
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_food
					}
				}
				set_variable = { 
					name = trade_price_trend_food
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_food
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_food
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_food
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_cereal
			}
			if = { 
				limit = { 
					has_variable = trade_want_cereal
					var:trade_want_cereal > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_cereal
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_cereal
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_cereal > 50
				}
				set_variable = { 
					name = trade_price_cereal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_cereal < 0.5
				}
				set_variable = { 
					name = trade_price_cereal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_cereal
					}
				}
				set_variable = { 
					name = trade_price_trend_cereal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_cereal
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_cereal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_cereal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salted
			}
			if = { 
				limit = { 
					has_variable = trade_want_salted
					var:trade_want_salted > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_salted
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_salted
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_salted
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_salted
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_salted
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salted > 50
				}
				set_variable = { 
					name = trade_price_salted
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salted < 0.5
				}
				set_variable = { 
					name = trade_price_salted
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salted
					}
				}
				set_variable = { 
					name = trade_price_trend_salted
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salted
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salted
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salted
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_salt
			}
			if = { 
				limit = { 
					has_variable = trade_want_salt
					var:trade_want_salt > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_salt
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_salt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_salt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_salt
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_salt
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_salt > 50
				}
				set_variable = { 
					name = trade_price_salt
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_salt < 0.5
				}
				set_variable = { 
					name = trade_price_salt
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_salt
					}
				}
				set_variable = { 
					name = trade_price_trend_salt
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_salt
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_salt
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_salt
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_mud
			}
			if = { 
				limit = { 
					has_variable = trade_want_mud
					var:trade_want_mud > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_mud
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_mud
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_mud
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_mud
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_mud
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_mud > 50
				}
				set_variable = { 
					name = trade_price_mud
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_mud < 0.5
				}
				set_variable = { 
					name = trade_price_mud
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_mud
					}
				}
				set_variable = { 
					name = trade_price_trend_mud
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_mud
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_mud
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_mud
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fuel
			}
			if = { 
				limit = { 
					has_variable = trade_want_fuel
					var:trade_want_fuel > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_fuel
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_fuel
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fuel > 50
				}
				set_variable = { 
					name = trade_price_fuel
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fuel < 0.5
				}
				set_variable = { 
					name = trade_price_fuel
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fuel
					}
				}
				set_variable = { 
					name = trade_price_trend_fuel
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fuel
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fuel
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fuel
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_fiber
			}
			if = { 
				limit = { 
					has_variable = trade_want_fiber
					var:trade_want_fiber > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_fiber
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_fiber
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_fiber > 50
				}
				set_variable = { 
					name = trade_price_fiber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_fiber < 0.5
				}
				set_variable = { 
					name = trade_price_fiber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_fiber
					}
				}
				set_variable = { 
					name = trade_price_trend_fiber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_fiber
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_fiber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_fiber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_timber
			}
			if = { 
				limit = { 
					has_variable = trade_want_timber
					var:trade_want_timber > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_timber
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_timber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_timber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_timber
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_timber
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_timber > 50
				}
				set_variable = { 
					name = trade_price_timber
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_timber < 0.5
				}
				set_variable = { 
					name = trade_price_timber
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_timber
					}
				}
				set_variable = { 
					name = trade_price_trend_timber
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_timber
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_timber
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_timber
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_metal
			}
			if = { 
				limit = { 
					has_variable = trade_want_metal
					var:trade_want_metal > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_metal
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_metal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_metal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_metal
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_metal
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_metal > 50
				}
				set_variable = { 
					name = trade_price_metal
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_metal < 0.5
				}
				set_variable = { 
					name = trade_price_metal
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_metal
					}
				}
				set_variable = { 
					name = trade_price_trend_metal
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_metal
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_metal
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_metal
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_w
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_w
					var:trade_want_exotics_w > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_w
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_w
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_w > 50
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_w < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_w
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_w
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_w
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_w
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_w
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_w
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_e
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_e
					var:trade_want_exotics_e > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_e
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_e
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_e > 50
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_e < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_e
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_e
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_e
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_e
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_e
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_e
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_exotics_g
			}
			if = { 
				limit = { 
					has_variable = trade_want_exotics_g
					var:trade_want_exotics_g > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_g
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_exotics_g
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_exotics_g > 50
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_exotics_g < 0.5
				}
				set_variable = { 
					name = trade_price_exotics_g
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_exotics_g
					}
				}
				set_variable = { 
					name = trade_price_trend_exotics_g
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_exotics_g
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_exotics_g
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_exotics_g
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_textile
			}
			if = { 
				limit = { 
					has_variable = trade_want_textile
					var:trade_want_textile > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_textile
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_textile
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_textile
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_textile
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_textile
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_textile > 50
				}
				set_variable = { 
					name = trade_price_textile
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_textile < 0.5
				}
				set_variable = { 
					name = trade_price_textile
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_textile
					}
				}
				set_variable = { 
					name = trade_price_trend_textile
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_textile
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_textile
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_textile
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_pottery
			}
			if = { 
				limit = { 
					has_variable = trade_want_pottery
					var:trade_want_pottery > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_pottery
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_pottery
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_pottery > 50
				}
				set_variable = { 
					name = trade_price_pottery
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_pottery < 0.5
				}
				set_variable = { 
					name = trade_price_pottery
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_pottery
					}
				}
				set_variable = { 
					name = trade_price_trend_pottery
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_pottery
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_pottery
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_pottery
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_tools
			}
			if = { 
				limit = { 
					has_variable = trade_want_tools
					var:trade_want_tools > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_tools
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_tools
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_tools
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_tools
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_tools
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_tools > 50
				}
				set_variable = { 
					name = trade_price_tools
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_tools < 0.5
				}
				set_variable = { 
					name = trade_price_tools
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_tools
					}
				}
				set_variable = { 
					name = trade_price_trend_tools
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_tools
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_tools
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_tools
					add = var:trade_update_price_t
				}
			}
			set_variable = { 
				name = trade_update_price_ttt
				value = var:trade_price_armaments
			}
			if = { 
				limit = { 
					has_variable = trade_want_armaments
					var:trade_want_armaments > 0
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_has_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					multiply = 2
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = var:trade_want_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_want_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					divide = 25
				}
				if = { 
					limit = { 
						has_variable = trade_update_price_t
						var:trade_update_price_t != 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_armaments
							divide = var:trade_update_price_t
						}
					}
					else = { 
						change_variable = { 
							name = trade_update_price_t
							multiply = -1
						}
						change_variable = { 
							name = trade_update_price_t
							add = 1
						}
						change_variable = { 
							name = trade_price_armaments
							multiply = var:trade_update_price_t
						}
					}
				}
			}
			if = { 
				limit = { 
					var:trade_price_armaments > 50
				}
				set_variable = { 
					name = trade_price_armaments
					value = 50
				}
			}
			else_if = { 
				limit = { 
					var:trade_price_armaments < 0.5
				}
				set_variable = { 
					name = trade_price_armaments
					value = 0.5
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = trade_price_trend_armaments
					}
				}
				set_variable = { 
					name = trade_price_trend_armaments
					value = 0
				}
			}
			change_variable = { 
				name = trade_price_trend_armaments
				multiply = 0.8
			}
			if = { 
				limit = { 
					var:trade_update_price_ttt = { 
						compare_value >= prev.var:trade_price_armaments
					}
				}
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					subtract = var:trade_update_price_t
				}
			}
			else = { 
				set_variable = { 
					name = trade_update_price_t
					value = var:trade_price_armaments
				}
				change_variable = { 
					name = trade_update_price_t
					divide = var:trade_update_price_ttt
				}
				change_variable = { 
					name = trade_update_price_t
					subtract = 1
				}
				change_variable = { 
					name = trade_price_trend_armaments
					add = var:trade_update_price_t
				}
			}
			remove_variable = trade_update_price_t
			remove_variable = trade_update_price_tt
			remove_variable = trade_update_price_ttt
		}
	}
	option = { }
}
census.08 = { 
	type = empty
	hidden = yes
	immediate = { 
		if = { 
			limit = { 
				has_global_variable_list = build_slots_active
				global_variable_list_size = { 
					name = build_slots_active
					value >= 1
				}
			}
			every_in_global_list = { 
				variable = build_slots_active
				set_variable = { 
					name = build_update_project_t
					value = 100
				}
				if = { 
					limit = { 
						has_variable = build_in_food
						var:build_in_food > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_food
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_food
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_cereal
						var:build_in_cereal > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_cereal
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_cereal
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_salted
						var:build_in_salted > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_salted
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_salted
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_salt
						var:build_in_salt > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_salt
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_salt
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_mud
						var:build_in_mud > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_mud
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_mud
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_fuel
						var:build_in_fuel > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_fuel
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_fuel
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_fiber
						var:build_in_fiber > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_fiber
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_fiber
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_timber
						var:build_in_timber > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_timber
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_timber
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_metal
						var:build_in_metal > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_metal
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_metal
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_exotics_w
						var:build_in_exotics_w > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_exotics_w
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_exotics_w
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_exotics_e
						var:build_in_exotics_e > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_exotics_e
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_exotics_e
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_exotics_g
						var:build_in_exotics_g > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_exotics_g
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_exotics_g
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_textile
						var:build_in_textile > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_textile
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_textile
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_pottery
						var:build_in_pottery > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_pottery
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_pottery
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_tools
						var:build_in_tools > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_tools
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_tools
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						has_variable = build_in_armaments
						var:build_in_armaments > 0
					}
					set_variable = { 
						name = build_update_project_tt
						value = var:build_in_armaments
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_update_project_t
					}
					change_variable = { 
						name = build_update_project_tt
						multiply = var:build_name.var:build_armaments
					}
					change_variable = { 
						name = build_update_project_tt
						divide = var:build_para
					}
					change_variable = { 
						name = build_prog
						subtract = var:build_update_project_tt
					}
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = build_prog
							}
							var:build_prog = 0
							var:build_prog < 1
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_farm
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_farm
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = farm_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_pasture
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_pasture
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = pasture_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_workshop
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_workshop
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = workshop_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_extraction
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_extraction
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = extraction_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_road
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_road
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = road_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					if = { 
						limit = { 
							var:build_name = { 
								has_variable = build_harbor
							}
						}
						var:build_location = { 
							set_variable = { 
								name = build_update_project_t
								value = prev.var:build_name.var:build_harbor
							}
							change_variable = { 
								name = build_update_project_t
								multiply = prev.var:build_para
							}
							change_variable = { 
								name = harbor_total
								add = var:build_update_project_t
							}
							remove_variable = build_update_project_t
						}
					}
					change_variable = { 
						name = build_active
						subtract = var:build_para
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = build_active
								}
								var:build_active = 0
							}
						}
						var:build_location = { 
							remove_list_variable = { 
								name = build_slots
								target = prev
							}
							if = { 
								limit = { 
									has_variable = build_slot_0
									var:build_slot_0 = prev
								}
								remove_variable = build_slot_0
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_1
									var:build_slot_1 = prev
								}
								remove_variable = build_slot_1
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_2
									var:build_slot_2 = prev
								}
								remove_variable = build_slot_2
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_3
									var:build_slot_3 = prev
								}
								remove_variable = build_slot_3
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_4
									var:build_slot_4 = prev
								}
								remove_variable = build_slot_4
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_5
									var:build_slot_5 = prev
								}
								remove_variable = build_slot_5
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_6
									var:build_slot_6 = prev
								}
								remove_variable = build_slot_6
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_7
									var:build_slot_7 = prev
								}
								remove_variable = build_slot_7
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_8
									var:build_slot_8 = prev
								}
								remove_variable = build_slot_8
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_9
									var:build_slot_9 = prev
								}
								remove_variable = build_slot_9
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_10
									var:build_slot_10 = prev
								}
								remove_variable = build_slot_10
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_11
									var:build_slot_11 = prev
								}
								remove_variable = build_slot_11
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_12
									var:build_slot_12 = prev
								}
								remove_variable = build_slot_12
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_13
									var:build_slot_13 = prev
								}
								remove_variable = build_slot_13
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_14
									var:build_slot_14 = prev
								}
								remove_variable = build_slot_14
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_15
									var:build_slot_15 = prev
								}
								remove_variable = build_slot_15
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_16
									var:build_slot_16 = prev
								}
								remove_variable = build_slot_16
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_17
									var:build_slot_17 = prev
								}
								remove_variable = build_slot_17
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_18
									var:build_slot_18 = prev
								}
								remove_variable = build_slot_18
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_19
									var:build_slot_19 = prev
								}
								remove_variable = build_slot_19
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_20
									var:build_slot_20 = prev
								}
								remove_variable = build_slot_20
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_21
									var:build_slot_21 = prev
								}
								remove_variable = build_slot_21
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_22
									var:build_slot_22 = prev
								}
								remove_variable = build_slot_22
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_23
									var:build_slot_23 = prev
								}
								remove_variable = build_slot_23
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_24
									var:build_slot_24 = prev
								}
								remove_variable = build_slot_24
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_25
									var:build_slot_25 = prev
								}
								remove_variable = build_slot_25
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_26
									var:build_slot_26 = prev
								}
								remove_variable = build_slot_26
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_27
									var:build_slot_27 = prev
								}
								remove_variable = build_slot_27
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_28
									var:build_slot_28 = prev
								}
								remove_variable = build_slot_28
							}
							else_if = { 
								limit = { 
									has_variable = build_slot_29
									var:build_slot_29 = prev
								}
								remove_variable = build_slot_29
							}
						}
						remove_list_global_variable = { 
							name = build_slots_active
							target = this
						}
						add_to_global_variable_list = { 
							name = build_slots
							target = this
						}
						remove_variable = build_active
						remove_variable = build_para
						remove_variable = build_name
						remove_variable = build_prog
						remove_variable = build_pay
						remove_variable = build_owner
						remove_variable = build_location
						remove_variable = build_food
						remove_variable = build_in_food
						remove_variable = build_pay_food
						remove_variable = build_cereal
						remove_variable = build_in_cereal
						remove_variable = build_pay_cereal
						remove_variable = build_salted
						remove_variable = build_in_salted
						remove_variable = build_pay_salted
						remove_variable = build_salt
						remove_variable = build_in_salt
						remove_variable = build_pay_salt
						remove_variable = build_mud
						remove_variable = build_in_mud
						remove_variable = build_pay_mud
						remove_variable = build_fuel
						remove_variable = build_in_fuel
						remove_variable = build_pay_fuel
						remove_variable = build_fiber
						remove_variable = build_in_fiber
						remove_variable = build_pay_fiber
						remove_variable = build_timber
						remove_variable = build_in_timber
						remove_variable = build_pay_timber
						remove_variable = build_metal
						remove_variable = build_in_metal
						remove_variable = build_pay_metal
						remove_variable = build_exotics_w
						remove_variable = build_in_exotics_w
						remove_variable = build_pay_exotics_w
						remove_variable = build_exotics_e
						remove_variable = build_in_exotics_e
						remove_variable = build_pay_exotics_e
						remove_variable = build_exotics_g
						remove_variable = build_in_exotics_g
						remove_variable = build_pay_exotics_g
						remove_variable = build_textile
						remove_variable = build_in_textile
						remove_variable = build_pay_textile
						remove_variable = build_pottery
						remove_variable = build_in_pottery
						remove_variable = build_pay_pottery
						remove_variable = build_tools
						remove_variable = build_in_tools
						remove_variable = build_pay_tools
						remove_variable = build_armaments
						remove_variable = build_in_armaments
						remove_variable = build_pay_armaments
					}
					else = { 
						set_variable = { 
							name = build_prog
							value = 100
						}
						if = { 
							limit = { 
								var:build_para = { 
									compare_value > prev.var:build_active
								}
							}
							set_variable = { 
								name = build_para
								value = var:build_active
							}
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_prog
						var:build_prog > 0
					}
					var:build_name = { 
						if = { 
							limit = { 
								has_variable = build_food
							}
							prev = { 
								set_variable = { 
									name = build_food
									value = prev.var:build_food
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_cereal
							}
							prev = { 
								set_variable = { 
									name = build_cereal
									value = prev.var:build_cereal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_salted
							}
							prev = { 
								set_variable = { 
									name = build_salted
									value = prev.var:build_salted
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_salt
							}
							prev = { 
								set_variable = { 
									name = build_salt
									value = prev.var:build_salt
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_mud
							}
							prev = { 
								set_variable = { 
									name = build_mud
									value = prev.var:build_mud
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_fuel
							}
							prev = { 
								set_variable = { 
									name = build_fuel
									value = prev.var:build_fuel
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_fiber
							}
							prev = { 
								set_variable = { 
									name = build_fiber
									value = prev.var:build_fiber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_timber
							}
							prev = { 
								set_variable = { 
									name = build_timber
									value = prev.var:build_timber
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_metal
							}
							prev = { 
								set_variable = { 
									name = build_metal
									value = prev.var:build_metal
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_w
							}
							prev = { 
								set_variable = { 
									name = build_exotics_w
									value = prev.var:build_exotics_w
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_e
							}
							prev = { 
								set_variable = { 
									name = build_exotics_e
									value = prev.var:build_exotics_e
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_g
							}
							prev = { 
								set_variable = { 
									name = build_exotics_g
									value = prev.var:build_exotics_g
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_textile
							}
							prev = { 
								set_variable = { 
									name = build_textile
									value = prev.var:build_textile
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_pottery
							}
							prev = { 
								set_variable = { 
									name = build_pottery
									value = prev.var:build_pottery
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_tools
							}
							prev = { 
								set_variable = { 
									name = build_tools
									value = prev.var:build_tools
								}
							}
						}
						if = { 
							limit = { 
								has_variable = build_armaments
							}
							prev = { 
								set_variable = { 
									name = build_armaments
									value = prev.var:build_armaments
								}
							}
						}
					}
					set_variable = { 
						name = build_set_dmnd_t
						value = 0
					}
					if = { 
						limit = { 
							has_variable = build_food
						}
						change_variable = { 
							name = build_food
							multiply = 10
						}
						change_variable = { 
							name = build_food
							divide = var:build_location.county.var:trade_price_food
						}
						change_variable = { 
							name = build_food
							multiply = var:build_food
						}
						change_variable = { 
							name = build_food
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_food
						}
					}
					if = { 
						limit = { 
							has_variable = build_cereal
						}
						change_variable = { 
							name = build_cereal
							multiply = 10
						}
						change_variable = { 
							name = build_cereal
							divide = var:build_location.county.var:trade_price_cereal
						}
						change_variable = { 
							name = build_cereal
							multiply = var:build_cereal
						}
						change_variable = { 
							name = build_cereal
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_cereal
						}
					}
					if = { 
						limit = { 
							has_variable = build_salted
						}
						change_variable = { 
							name = build_salted
							multiply = 10
						}
						change_variable = { 
							name = build_salted
							divide = var:build_location.county.var:trade_price_salted
						}
						change_variable = { 
							name = build_salted
							multiply = var:build_salted
						}
						change_variable = { 
							name = build_salted
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_salted
						}
					}
					if = { 
						limit = { 
							has_variable = build_salt
						}
						change_variable = { 
							name = build_salt
							multiply = 10
						}
						change_variable = { 
							name = build_salt
							divide = var:build_location.county.var:trade_price_salt
						}
						change_variable = { 
							name = build_salt
							multiply = var:build_salt
						}
						change_variable = { 
							name = build_salt
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_salt
						}
					}
					if = { 
						limit = { 
							has_variable = build_mud
						}
						change_variable = { 
							name = build_mud
							multiply = 10
						}
						change_variable = { 
							name = build_mud
							divide = var:build_location.county.var:trade_price_mud
						}
						change_variable = { 
							name = build_mud
							multiply = var:build_mud
						}
						change_variable = { 
							name = build_mud
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_mud
						}
					}
					if = { 
						limit = { 
							has_variable = build_fuel
						}
						change_variable = { 
							name = build_fuel
							multiply = 10
						}
						change_variable = { 
							name = build_fuel
							divide = var:build_location.county.var:trade_price_fuel
						}
						change_variable = { 
							name = build_fuel
							multiply = var:build_fuel
						}
						change_variable = { 
							name = build_fuel
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_fuel
						}
					}
					if = { 
						limit = { 
							has_variable = build_fiber
						}
						change_variable = { 
							name = build_fiber
							multiply = 10
						}
						change_variable = { 
							name = build_fiber
							divide = var:build_location.county.var:trade_price_fiber
						}
						change_variable = { 
							name = build_fiber
							multiply = var:build_fiber
						}
						change_variable = { 
							name = build_fiber
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_fiber
						}
					}
					if = { 
						limit = { 
							has_variable = build_timber
						}
						change_variable = { 
							name = build_timber
							multiply = 10
						}
						change_variable = { 
							name = build_timber
							divide = var:build_location.county.var:trade_price_timber
						}
						change_variable = { 
							name = build_timber
							multiply = var:build_timber
						}
						change_variable = { 
							name = build_timber
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_timber
						}
					}
					if = { 
						limit = { 
							has_variable = build_metal
						}
						change_variable = { 
							name = build_metal
							multiply = 10
						}
						change_variable = { 
							name = build_metal
							divide = var:build_location.county.var:trade_price_metal
						}
						change_variable = { 
							name = build_metal
							multiply = var:build_metal
						}
						change_variable = { 
							name = build_metal
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_metal
						}
					}
					if = { 
						limit = { 
							has_variable = build_exotics_w
						}
						change_variable = { 
							name = build_exotics_w
							multiply = 10
						}
						change_variable = { 
							name = build_exotics_w
							divide = var:build_location.county.var:trade_price_exotics_w
						}
						change_variable = { 
							name = build_exotics_w
							multiply = var:build_exotics_w
						}
						change_variable = { 
							name = build_exotics_w
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_exotics_w
						}
					}
					if = { 
						limit = { 
							has_variable = build_exotics_e
						}
						change_variable = { 
							name = build_exotics_e
							multiply = 10
						}
						change_variable = { 
							name = build_exotics_e
							divide = var:build_location.county.var:trade_price_exotics_e
						}
						change_variable = { 
							name = build_exotics_e
							multiply = var:build_exotics_e
						}
						change_variable = { 
							name = build_exotics_e
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_exotics_e
						}
					}
					if = { 
						limit = { 
							has_variable = build_exotics_g
						}
						change_variable = { 
							name = build_exotics_g
							multiply = 10
						}
						change_variable = { 
							name = build_exotics_g
							divide = var:build_location.county.var:trade_price_exotics_g
						}
						change_variable = { 
							name = build_exotics_g
							multiply = var:build_exotics_g
						}
						change_variable = { 
							name = build_exotics_g
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_exotics_g
						}
					}
					if = { 
						limit = { 
							has_variable = build_textile
						}
						change_variable = { 
							name = build_textile
							multiply = 10
						}
						change_variable = { 
							name = build_textile
							divide = var:build_location.county.var:trade_price_textile
						}
						change_variable = { 
							name = build_textile
							multiply = var:build_textile
						}
						change_variable = { 
							name = build_textile
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_textile
						}
					}
					if = { 
						limit = { 
							has_variable = build_pottery
						}
						change_variable = { 
							name = build_pottery
							multiply = 10
						}
						change_variable = { 
							name = build_pottery
							divide = var:build_location.county.var:trade_price_pottery
						}
						change_variable = { 
							name = build_pottery
							multiply = var:build_pottery
						}
						change_variable = { 
							name = build_pottery
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_pottery
						}
					}
					if = { 
						limit = { 
							has_variable = build_tools
						}
						change_variable = { 
							name = build_tools
							multiply = 10
						}
						change_variable = { 
							name = build_tools
							divide = var:build_location.county.var:trade_price_tools
						}
						change_variable = { 
							name = build_tools
							multiply = var:build_tools
						}
						change_variable = { 
							name = build_tools
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_tools
						}
					}
					if = { 
						limit = { 
							has_variable = build_armaments
						}
						change_variable = { 
							name = build_armaments
							multiply = 10
						}
						change_variable = { 
							name = build_armaments
							divide = var:build_location.county.var:trade_price_armaments
						}
						change_variable = { 
							name = build_armaments
							multiply = var:build_armaments
						}
						change_variable = { 
							name = build_armaments
							add = 0.001
						}
						change_variable = { 
							name = build_set_dmnd_t
							add = var:build_armaments
						}
					}
					if = { 
						limit = { 
							has_variable = build_set_dmnd_t
							var:build_set_dmnd_t > 0
						}
						if = { 
							limit = { 
								has_variable = build_food
							}
							change_variable = { 
								name = build_food
								multiply = 10
							}
							change_variable = { 
								name = build_food
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_food
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_food
								divide = 100
							}
							change_variable = { 
								name = build_food
								multiply = var:build_para
							}
							change_variable = { 
								name = build_food
								divide = var:build_name.var:build_food
							}
							change_variable = { 
								name = build_food
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_cereal
							}
							change_variable = { 
								name = build_cereal
								multiply = 10
							}
							change_variable = { 
								name = build_cereal
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_cereal
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_cereal
								divide = 100
							}
							change_variable = { 
								name = build_cereal
								multiply = var:build_para
							}
							change_variable = { 
								name = build_cereal
								divide = var:build_name.var:build_cereal
							}
							change_variable = { 
								name = build_cereal
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_salted
							}
							change_variable = { 
								name = build_salted
								multiply = 10
							}
							change_variable = { 
								name = build_salted
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_salted
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_salted
								divide = 100
							}
							change_variable = { 
								name = build_salted
								multiply = var:build_para
							}
							change_variable = { 
								name = build_salted
								divide = var:build_name.var:build_salted
							}
							change_variable = { 
								name = build_salted
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_salt
							}
							change_variable = { 
								name = build_salt
								multiply = 10
							}
							change_variable = { 
								name = build_salt
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_salt
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_salt
								divide = 100
							}
							change_variable = { 
								name = build_salt
								multiply = var:build_para
							}
							change_variable = { 
								name = build_salt
								divide = var:build_name.var:build_salt
							}
							change_variable = { 
								name = build_salt
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_mud
							}
							change_variable = { 
								name = build_mud
								multiply = 10
							}
							change_variable = { 
								name = build_mud
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_mud
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_mud
								divide = 100
							}
							change_variable = { 
								name = build_mud
								multiply = var:build_para
							}
							change_variable = { 
								name = build_mud
								divide = var:build_name.var:build_mud
							}
							change_variable = { 
								name = build_mud
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_fuel
							}
							change_variable = { 
								name = build_fuel
								multiply = 10
							}
							change_variable = { 
								name = build_fuel
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_fuel
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_fuel
								divide = 100
							}
							change_variable = { 
								name = build_fuel
								multiply = var:build_para
							}
							change_variable = { 
								name = build_fuel
								divide = var:build_name.var:build_fuel
							}
							change_variable = { 
								name = build_fuel
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_fiber
							}
							change_variable = { 
								name = build_fiber
								multiply = 10
							}
							change_variable = { 
								name = build_fiber
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_fiber
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_fiber
								divide = 100
							}
							change_variable = { 
								name = build_fiber
								multiply = var:build_para
							}
							change_variable = { 
								name = build_fiber
								divide = var:build_name.var:build_fiber
							}
							change_variable = { 
								name = build_fiber
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_timber
							}
							change_variable = { 
								name = build_timber
								multiply = 10
							}
							change_variable = { 
								name = build_timber
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_timber
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_timber
								divide = 100
							}
							change_variable = { 
								name = build_timber
								multiply = var:build_para
							}
							change_variable = { 
								name = build_timber
								divide = var:build_name.var:build_timber
							}
							change_variable = { 
								name = build_timber
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_metal
							}
							change_variable = { 
								name = build_metal
								multiply = 10
							}
							change_variable = { 
								name = build_metal
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_metal
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_metal
								divide = 100
							}
							change_variable = { 
								name = build_metal
								multiply = var:build_para
							}
							change_variable = { 
								name = build_metal
								divide = var:build_name.var:build_metal
							}
							change_variable = { 
								name = build_metal
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_w
							}
							change_variable = { 
								name = build_exotics_w
								multiply = 10
							}
							change_variable = { 
								name = build_exotics_w
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_exotics_w
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_exotics_w
								divide = 100
							}
							change_variable = { 
								name = build_exotics_w
								multiply = var:build_para
							}
							change_variable = { 
								name = build_exotics_w
								divide = var:build_name.var:build_exotics_w
							}
							change_variable = { 
								name = build_exotics_w
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_e
							}
							change_variable = { 
								name = build_exotics_e
								multiply = 10
							}
							change_variable = { 
								name = build_exotics_e
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_exotics_e
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_exotics_e
								divide = 100
							}
							change_variable = { 
								name = build_exotics_e
								multiply = var:build_para
							}
							change_variable = { 
								name = build_exotics_e
								divide = var:build_name.var:build_exotics_e
							}
							change_variable = { 
								name = build_exotics_e
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_exotics_g
							}
							change_variable = { 
								name = build_exotics_g
								multiply = 10
							}
							change_variable = { 
								name = build_exotics_g
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_exotics_g
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_exotics_g
								divide = 100
							}
							change_variable = { 
								name = build_exotics_g
								multiply = var:build_para
							}
							change_variable = { 
								name = build_exotics_g
								divide = var:build_name.var:build_exotics_g
							}
							change_variable = { 
								name = build_exotics_g
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_textile
							}
							change_variable = { 
								name = build_textile
								multiply = 10
							}
							change_variable = { 
								name = build_textile
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_textile
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_textile
								divide = 100
							}
							change_variable = { 
								name = build_textile
								multiply = var:build_para
							}
							change_variable = { 
								name = build_textile
								divide = var:build_name.var:build_textile
							}
							change_variable = { 
								name = build_textile
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_pottery
							}
							change_variable = { 
								name = build_pottery
								multiply = 10
							}
							change_variable = { 
								name = build_pottery
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_pottery
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_pottery
								divide = 100
							}
							change_variable = { 
								name = build_pottery
								multiply = var:build_para
							}
							change_variable = { 
								name = build_pottery
								divide = var:build_name.var:build_pottery
							}
							change_variable = { 
								name = build_pottery
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_tools
							}
							change_variable = { 
								name = build_tools
								multiply = 10
							}
							change_variable = { 
								name = build_tools
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_tools
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_tools
								divide = 100
							}
							change_variable = { 
								name = build_tools
								multiply = var:build_para
							}
							change_variable = { 
								name = build_tools
								divide = var:build_name.var:build_tools
							}
							change_variable = { 
								name = build_tools
								divide = 10
							}
						}
						if = { 
							limit = { 
								has_variable = build_armaments
							}
							change_variable = { 
								name = build_armaments
								multiply = 10
							}
							change_variable = { 
								name = build_armaments
								divide = var:build_set_dmnd_t
							}
							change_variable = { 
								name = build_armaments
								multiply = var:build_prog
							}
							change_variable = { 
								name = build_armaments
								divide = 100
							}
							change_variable = { 
								name = build_armaments
								multiply = var:build_para
							}
							change_variable = { 
								name = build_armaments
								divide = var:build_name.var:build_armaments
							}
							change_variable = { 
								name = build_armaments
								divide = 10
							}
						}
					}
					remove_variable = build_set_dmnd_t
				}
				remove_variable = build_update_project_t
				remove_variable = build_update_project_tt
			}
		}
	}
	option = { }
}
census.09 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = pop_calorie
				value = 0
			}
			set_variable = { 
				name = pop_nutrient
				value = 0
			}
			set_variable = { 
				name = pop_comfort
				value = 0
			}
			set_variable = { 
				name = pop_luxury
				value = 0
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_food
					var:pop_calorie_actual_food > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_food
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_food
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_food
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_food
					var:pop_nutrient_actual_food > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_food
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_food
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_food
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_food
					var:pop_comfort_actual_food > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_food
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_food
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_food
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_food
					var:pop_luxury_actual_food > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_food
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_food
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_food
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_cereal
					var:pop_calorie_actual_cereal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_cereal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_cereal
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_cereal
					var:pop_nutrient_actual_cereal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_cereal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_cereal
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_cereal
					var:pop_comfort_actual_cereal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_cereal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_cereal
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_cereal
					var:pop_luxury_actual_cereal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_cereal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_cereal
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_cereal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_salted
					var:pop_calorie_actual_salted > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_salted
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_salted
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_salted
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_salted
					var:pop_nutrient_actual_salted > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_salted
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_salted
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_salted
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_salted
					var:pop_comfort_actual_salted > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_salted
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_salted
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_salted
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_salted
					var:pop_luxury_actual_salted > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_salted
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_salted
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_salted
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_salt
					var:pop_calorie_actual_salt > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_salt
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_salt
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_salt
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_salt
					var:pop_nutrient_actual_salt > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_salt
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_salt
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_salt
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_salt
					var:pop_comfort_actual_salt > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_salt
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_salt
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_salt
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_salt
					var:pop_luxury_actual_salt > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_salt
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_salt
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_salt
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_mud
					var:pop_calorie_actual_mud > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_mud
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_mud
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_mud
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_mud
					var:pop_nutrient_actual_mud > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_mud
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_mud
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_mud
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_mud
					var:pop_comfort_actual_mud > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_mud
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_mud
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_mud
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_mud
					var:pop_luxury_actual_mud > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_mud
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_mud
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_mud
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_fuel
					var:pop_calorie_actual_fuel > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_fuel
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_fuel
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_fuel
					var:pop_nutrient_actual_fuel > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_fuel
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_fuel
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_fuel
					var:pop_comfort_actual_fuel > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_fuel
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_fuel
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_fuel
					var:pop_luxury_actual_fuel > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_fuel
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_fuel
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_fuel
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_fiber
					var:pop_calorie_actual_fiber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_fiber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_fiber
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_fiber
					var:pop_nutrient_actual_fiber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_fiber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_fiber
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_fiber
					var:pop_comfort_actual_fiber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_fiber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_fiber
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_fiber
					var:pop_luxury_actual_fiber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_fiber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_fiber
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_fiber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_timber
					var:pop_calorie_actual_timber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_timber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_timber
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_timber
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_timber
					var:pop_nutrient_actual_timber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_timber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_timber
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_timber
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_timber
					var:pop_comfort_actual_timber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_timber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_timber
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_timber
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_timber
					var:pop_luxury_actual_timber > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_timber
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_timber
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_timber
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_metal
					var:pop_calorie_actual_metal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_metal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_metal
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_metal
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_metal
					var:pop_nutrient_actual_metal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_metal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_metal
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_metal
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_metal
					var:pop_comfort_actual_metal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_metal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_metal
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_metal
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_metal
					var:pop_luxury_actual_metal > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_metal
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_metal
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_metal
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_exotics_w
					var:pop_calorie_actual_exotics_w > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_exotics_w
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_exotics_w
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_exotics_w
					var:pop_nutrient_actual_exotics_w > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_exotics_w
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_exotics_w
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_exotics_w
					var:pop_comfort_actual_exotics_w > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_exotics_w
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_exotics_w
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_exotics_w
					var:pop_luxury_actual_exotics_w > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_exotics_w
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_exotics_w
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_exotics_w
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_exotics_e
					var:pop_calorie_actual_exotics_e > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_exotics_e
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_exotics_e
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_exotics_e
					var:pop_nutrient_actual_exotics_e > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_exotics_e
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_exotics_e
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_exotics_e
					var:pop_comfort_actual_exotics_e > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_exotics_e
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_exotics_e
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_exotics_e
					var:pop_luxury_actual_exotics_e > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_exotics_e
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_exotics_e
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_exotics_e
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_exotics_g
					var:pop_calorie_actual_exotics_g > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_exotics_g
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_exotics_g
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_exotics_g
					var:pop_nutrient_actual_exotics_g > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_exotics_g
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_exotics_g
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_exotics_g
					var:pop_comfort_actual_exotics_g > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_exotics_g
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_exotics_g
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_exotics_g
					var:pop_luxury_actual_exotics_g > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_exotics_g
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_exotics_g
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_exotics_g
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_textile
					var:pop_calorie_actual_textile > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_textile
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_textile
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_textile
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_textile
					var:pop_nutrient_actual_textile > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_textile
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_textile
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_textile
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_textile
					var:pop_comfort_actual_textile > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_textile
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_textile
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_textile
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_textile
					var:pop_luxury_actual_textile > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_textile
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_textile
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_textile
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_pottery
					var:pop_calorie_actual_pottery > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_pottery
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_pottery
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_pottery
					var:pop_nutrient_actual_pottery > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_pottery
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_pottery
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_pottery
					var:pop_comfort_actual_pottery > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_pottery
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_pottery
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_pottery
					var:pop_luxury_actual_pottery > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_pottery
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_pottery
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_pottery
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_tools
					var:pop_calorie_actual_tools > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_tools
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_tools
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_tools
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_tools
					var:pop_nutrient_actual_tools > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_tools
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_tools
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_tools
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_tools
					var:pop_comfort_actual_tools > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_tools
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_tools
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_tools
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_tools
					var:pop_luxury_actual_tools > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_tools
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_tools
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_tools
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_actual_armaments
					var:pop_calorie_actual_armaments > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_calorie_actual_armaments
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_calorie_armaments
				}
				change_variable = { 
					name = pop_calorie
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_calorie_actual_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_actual_armaments
					var:pop_nutrient_actual_armaments > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_nutrient_actual_armaments
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_nutrient_armaments
				}
				change_variable = { 
					name = pop_nutrient
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_nutrient_actual_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_actual_armaments
					var:pop_comfort_actual_armaments > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_comfort_actual_armaments
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_comfort_armaments
				}
				change_variable = { 
					name = pop_comfort
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_comfort_actual_armaments
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_actual_armaments
					var:pop_luxury_actual_armaments > 0
				}
				set_variable = { 
					name = pop_resolve_demand_t
					value = var:pop_luxury_actual_armaments
				}
				change_variable = { 
					name = pop_resolve_demand_t
					multiply = pop_luxury_armaments
				}
				change_variable = { 
					name = pop_luxury
					add = var:pop_resolve_demand_t
				}
			}
			else = { 
				remove_variable = pop_luxury_actual_armaments
			}
			change_variable = { 
				name = pop_calorie
				divide = var:pop_total
			}
			change_variable = { 
				name = pop_nutrient
				divide = var:pop_total
			}
			change_variable = { 
				name = pop_comfort
				divide = var:pop_total
			}
			change_variable = { 
				name = pop_luxury
				divide = var:pop_total
			}
			change_variable = { 
				name = pop_calorie
				divide = this.county.var:modi_pop_calorie
			}
			change_variable = { 
				name = pop_nutrient
				divide = this.county.var:modi_pop_nutrient
			}
			change_variable = { 
				name = pop_comfort
				divide = this.county.var:modi_pop_comfort
			}
			change_variable = { 
				name = pop_luxury
				divide = this.county.var:modi_pop_luxury
			}
			remove_variable = pop_resolve_demand_t
		}
	}
	option = { }
}
census.10 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = mil_supply_stockpile
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_food
					has_variable = trade_has_food
				}
				if = { 
					limit = { 
						var:mil_supply_food = { 
							compare_value > prev.var:trade_has_food
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_food
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_food
					}
				}
				change_variable = { 
					name = trade_has_food
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_food
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_cereal
					has_variable = trade_has_cereal
				}
				if = { 
					limit = { 
						var:mil_supply_cereal = { 
							compare_value > prev.var:trade_has_cereal
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_cereal
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_cereal
					}
				}
				change_variable = { 
					name = trade_has_cereal
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_cereal
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_salted
					has_variable = trade_has_salted
				}
				if = { 
					limit = { 
						var:mil_supply_salted = { 
							compare_value > prev.var:trade_has_salted
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_salted
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_salted
					}
				}
				change_variable = { 
					name = trade_has_salted
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_salted
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_salt
					has_variable = trade_has_salt
				}
				if = { 
					limit = { 
						var:mil_supply_salt = { 
							compare_value > prev.var:trade_has_salt
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_salt
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_salt
					}
				}
				change_variable = { 
					name = trade_has_salt
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_salt
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_mud
					has_variable = trade_has_mud
				}
				if = { 
					limit = { 
						var:mil_supply_mud = { 
							compare_value > prev.var:trade_has_mud
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_mud
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_mud
					}
				}
				change_variable = { 
					name = trade_has_mud
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_mud
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_fuel
					has_variable = trade_has_fuel
				}
				if = { 
					limit = { 
						var:mil_supply_fuel = { 
							compare_value > prev.var:trade_has_fuel
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_fuel
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_fuel
					}
				}
				change_variable = { 
					name = trade_has_fuel
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_fuel
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_fiber
					has_variable = trade_has_fiber
				}
				if = { 
					limit = { 
						var:mil_supply_fiber = { 
							compare_value > prev.var:trade_has_fiber
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_fiber
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_fiber
					}
				}
				change_variable = { 
					name = trade_has_fiber
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_fiber
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_timber
					has_variable = trade_has_timber
				}
				if = { 
					limit = { 
						var:mil_supply_timber = { 
							compare_value > prev.var:trade_has_timber
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_timber
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_timber
					}
				}
				change_variable = { 
					name = trade_has_timber
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_timber
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_metal
					has_variable = trade_has_metal
				}
				if = { 
					limit = { 
						var:mil_supply_metal = { 
							compare_value > prev.var:trade_has_metal
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_metal
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_metal
					}
				}
				change_variable = { 
					name = trade_has_metal
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_metal
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_w
					has_variable = trade_has_exotics_w
				}
				if = { 
					limit = { 
						var:mil_supply_exotics_w = { 
							compare_value > prev.var:trade_has_exotics_w
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_exotics_w
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_exotics_w
					}
				}
				change_variable = { 
					name = trade_has_exotics_w
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_e
					has_variable = trade_has_exotics_e
				}
				if = { 
					limit = { 
						var:mil_supply_exotics_e = { 
							compare_value > prev.var:trade_has_exotics_e
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_exotics_e
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_exotics_e
					}
				}
				change_variable = { 
					name = trade_has_exotics_e
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_exotics_g
					has_variable = trade_has_exotics_g
				}
				if = { 
					limit = { 
						var:mil_supply_exotics_g = { 
							compare_value > prev.var:trade_has_exotics_g
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_exotics_g
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_exotics_g
					}
				}
				change_variable = { 
					name = trade_has_exotics_g
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_textile
					has_variable = trade_has_textile
				}
				if = { 
					limit = { 
						var:mil_supply_textile = { 
							compare_value > prev.var:trade_has_textile
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_textile
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_textile
					}
				}
				change_variable = { 
					name = trade_has_textile
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_textile
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_pottery
					has_variable = trade_has_pottery
				}
				if = { 
					limit = { 
						var:mil_supply_pottery = { 
							compare_value > prev.var:trade_has_pottery
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_pottery
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_pottery
					}
				}
				change_variable = { 
					name = trade_has_pottery
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_pottery
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_tools
					has_variable = trade_has_tools
				}
				if = { 
					limit = { 
						var:mil_supply_tools = { 
							compare_value > prev.var:trade_has_tools
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_tools
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_tools
					}
				}
				change_variable = { 
					name = trade_has_tools
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_tools
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			if = { 
				limit = { 
					has_variable = mil_supply_armaments
					has_variable = trade_has_armaments
				}
				if = { 
					limit = { 
						var:mil_supply_armaments = { 
							compare_value > prev.var:trade_has_armaments
						}
					}
					set_variable = { 
						name = mil_main_t
						value = var:trade_has_armaments
					}
				}
				else = { 
					set_variable = { 
						name = mil_main_t
						value = var:mil_supply_armaments
					}
				}
				change_variable = { 
					name = trade_has_armaments
					subtract = var:mil_main_t
				}
				change_variable = { 
					name = mil_main_t
					multiply = mil_supply_armaments
				}
				change_variable = { 
					name = mil_main_t
					divide = 20
				}
				change_variable = { 
					name = mil_supply_stockpile
					add = var:mil_main_t
				}
			}
			change_variable = { 
				name = mil_supply_stockpile
				divide = 12
			}
			if = { 
				limit = { 
					has_variable = task_manage_logistics
				}
				set_variable = { 
					name = mil_mismanage
					value = 100
				}
				change_variable = { 
					name = mil_mismanage
					subtract = var:task_manage_logistics.var:task_time_in
				}
				change_variable = { 
					name = mil_mismanage
					divide = 2500
				}
			}
			else = { 
				set_variable = { 
					name = mil_mismanage
					value = 0
				}
			}
			remove_variable = mil_main_t
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = mil_supply_earn
				value = 0
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_food
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_food
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_food
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_food
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_cereal
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_cereal
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_cereal
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_cereal
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_salted
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_salted
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_salted
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_salted
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_salt
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_salt
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_salt
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_salt
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_mud
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_mud
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_mud
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_mud
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_fuel
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_fuel
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_fuel
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_fuel
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_fiber
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_fiber
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_fiber
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_fiber
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_timber
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_timber
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_timber
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_timber
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_metal
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_metal
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_metal
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_metal
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_exotics_w
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_exotics_w
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_exotics_w
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_exotics_w
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_exotics_e
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_exotics_e
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_exotics_e
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_exotics_e
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_exotics_g
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_exotics_g
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_exotics_g
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_exotics_g
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_textile
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_textile
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_textile
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_textile
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_pottery
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_pottery
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_pottery
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_pottery
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_tools
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_tools
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_tools
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_tools
			}
			if = { 
				limit = { 
					has_variable = mil_supply_in_armaments
				}
				set_variable = { 
					name = mil_main_t
					value = var:mil_supply_in_armaments
				}
				change_variable = { 
					name = mil_main_t
					multiply = county.mil_supply_armaments
				}
				change_variable = { 
					name = mil_main_t
					divide = 10
				}
				change_variable = { 
					name = mil_supply_earn
					add = var:mil_main_t
				}
				remove_variable = mil_supply_in_armaments
			}
			change_variable = { 
				name = mil_supply_earn
				divide = 12
			}
		}
	}
	option = { }
}
census.11 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = pop_earn_base
				value = 4
			}
			change_variable = { 
				name = pop_earn_base
				subtract = var:pop_calorie
			}
			change_variable = { 
				name = pop_earn_base
				subtract = var:pop_nutrient
			}
			change_variable = { 
				name = pop_earn_base
				subtract = var:pop_comfort
			}
			change_variable = { 
				name = pop_earn_base
				subtract = var:pop_luxury
			}
			change_variable = { 
				name = pop_earn_base
				divide = 125
			}
			change_variable = { 
				name = pop_earn_base
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_wealth
				add = var:pop_earn_free
			}
			change_variable = { 
				name = pop_wealth
				add = var:pop_earn_base
			}
			change_variable = { 
				name = pop_wealth
				subtract = var:pop_pay_free
			}
		}
		every_in_global_list = { 
			variable = trade_merchants
			change_variable = { 
				name = trade_wealth
				add = var:trade_earn
			}
			change_variable = { 
				name = trade_wealth
				subtract = var:trade_pay
			}
			if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = trade_wealth
						}
						var:trade_wealth <= 0
					}
				}
				set_variable = { 
					name = trade_wealth
					value = 0
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = census_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = trade_earn
				}
				change_variable = { 
					name = census_t
					add = var:trade_earn
				}
			}
			if = { 
				limit = { 
					has_variable = trade_pay
				}
				change_variable = { 
					name = census_t
					subtract = var:trade_pay
				}
			}
			if = { 
				limit = { 
					has_variable = census_t
					var:census_t > 0
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 3276.8
					}
					add_gold = 3276.8
					change_variable = { 
						name = census_t
						subtract = 3276.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 1638.4
					}
					add_gold = 1638.4
					change_variable = { 
						name = census_t
						subtract = 1638.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 819.2
					}
					add_gold = 819.2
					change_variable = { 
						name = census_t
						subtract = 819.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 409.6
					}
					add_gold = 409.6
					change_variable = { 
						name = census_t
						subtract = 409.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 204.8
					}
					add_gold = 204.8
					change_variable = { 
						name = census_t
						subtract = 204.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 102.4
					}
					add_gold = 102.4
					change_variable = { 
						name = census_t
						subtract = 102.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 51.2
					}
					add_gold = 51.2
					change_variable = { 
						name = census_t
						subtract = 51.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 25.6
					}
					add_gold = 25.6
					change_variable = { 
						name = census_t
						subtract = 25.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 12.8
					}
					add_gold = 12.8
					change_variable = { 
						name = census_t
						subtract = 12.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 6.4
					}
					add_gold = 6.4
					change_variable = { 
						name = census_t
						subtract = 6.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 3.2
					}
					add_gold = 3.2
					change_variable = { 
						name = census_t
						subtract = 3.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 1.6
					}
					add_gold = 1.6
					change_variable = { 
						name = census_t
						subtract = 1.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.8
					}
					add_gold = 0.8
					change_variable = { 
						name = census_t
						subtract = 0.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.4
					}
					add_gold = 0.4
					change_variable = { 
						name = census_t
						subtract = 0.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.2
					}
					add_gold = 0.2
					change_variable = { 
						name = census_t
						subtract = 0.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.1
					}
					add_gold = 0.1
					change_variable = { 
						name = census_t
						subtract = 0.1
					}
				}
			}
			else = { 
				change_variable = { 
					name = census_t
					multiply = -1
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 3276.8
					}
					remove_short_term_gold = 3276.8
					change_variable = { 
						name = census_t
						subtract = 3276.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 1638.4
					}
					remove_short_term_gold = 1638.4
					change_variable = { 
						name = census_t
						subtract = 1638.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 819.2
					}
					remove_short_term_gold = 819.2
					change_variable = { 
						name = census_t
						subtract = 819.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 409.6
					}
					remove_short_term_gold = 409.6
					change_variable = { 
						name = census_t
						subtract = 409.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 204.8
					}
					remove_short_term_gold = 204.8
					change_variable = { 
						name = census_t
						subtract = 204.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 102.4
					}
					remove_short_term_gold = 102.4
					change_variable = { 
						name = census_t
						subtract = 102.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 51.2
					}
					remove_short_term_gold = 51.2
					change_variable = { 
						name = census_t
						subtract = 51.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 25.6
					}
					remove_short_term_gold = 25.6
					change_variable = { 
						name = census_t
						subtract = 25.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 12.8
					}
					remove_short_term_gold = 12.8
					change_variable = { 
						name = census_t
						subtract = 12.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 6.4
					}
					remove_short_term_gold = 6.4
					change_variable = { 
						name = census_t
						subtract = 6.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 3.2
					}
					remove_short_term_gold = 3.2
					change_variable = { 
						name = census_t
						subtract = 3.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 1.6
					}
					remove_short_term_gold = 1.6
					change_variable = { 
						name = census_t
						subtract = 1.6
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.8
					}
					remove_short_term_gold = 0.8
					change_variable = { 
						name = census_t
						subtract = 0.8
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.4
					}
					remove_short_term_gold = 0.4
					change_variable = { 
						name = census_t
						subtract = 0.4
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.2
					}
					remove_short_term_gold = 0.2
					change_variable = { 
						name = census_t
						subtract = 0.2
					}
				}
				if = { 
					limit = { 
						has_variable = census_t
						var:census_t >= 0.1
					}
					remove_short_term_gold = 0.1
					change_variable = { 
						name = census_t
						subtract = 0.1
					}
				}
			}
			remove_variable = census_t
		}
	}
	option = { }
}
census.12 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_province = { 
			limit = { 
				is_valid_prov = yes
				is_city = yes
			}
			set_variable = { 
				name = realm_tax_base
				value = var:pop_wealth
			}
			set_variable = { 
				name = realm_mp_base
				value = var:mil_levy
			}
			set_variable = { 
				name = realm_supply_base
				value = var:mil_supply
			}
			change_variable = { 
				name = realm_tax_base
				multiply = 0.03
			}
			change_variable = { 
				name = realm_mp_base
				multiply = 0.15
			}
			change_variable = { 
				name = realm_supply_base
				multiply = 0.15
			}
			set_variable = { 
				name = realm_tax_pay
				value = var:realm_tax_base
			}
			set_variable = { 
				name = realm_mp_pay
				value = var:realm_mp_base
			}
			set_variable = { 
				name = realm_supply_pay
				value = var:realm_supply_base
			}
			change_variable = { 
				name = realm_tax_pay
				multiply = var:realm_tax_rate
			}
			change_variable = { 
				name = realm_mp_pay
				multiply = var:realm_levy_rate
			}
			change_variable = { 
				name = realm_supply_pay
				multiply = var:realm_levy_rate
			}
			if = { 
				limit = { 
					county.county_opinion < 0
				}
				set_variable = { 
					name = realm_update_t
					value = 100
				}
				change_variable = { 
					name = realm_update_t
					add = county.county_opinion
				}
				change_variable = { 
					name = realm_update_t
					divide = 100
				}
				change_variable = { 
					name = realm_tax_pay
					multiply = var:realm_update_t
				}
				change_variable = { 
					name = realm_mp_pay
					multiply = var:realm_update_t
				}
				change_variable = { 
					name = realm_supply_pay
					multiply = var:realm_update_t
				}
				remove_variable = realm_update_t
			}
			change_variable = { 
				name = realm_tax_pay
				divide = 12
			}
			change_variable = { 
				name = realm_mp_pay
				divide = 12
			}
			change_variable = { 
				name = realm_supply_pay
				divide = 12
			}
			if = { 
				limit = { 
					barony = { 
						is_leased_out = yes
					}
				}
				barony.lessee = { 
					add_to_global_variable_list = { 
						name = realm_update_t
						target = this
					}
					add_to_variable_list = { 
						name = realm_update_t
						target = prev
					}
					set_variable = { 
						name = realm_update_t
						value = prev.barony.holder
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable = mil_power
							}
						}
						set_variable = { 
							name = mil_power
							value = 0
						}
					}
				}
				barony.holder = { 
					add_to_variable_list = { 
						name = realm_update_tt
						target = prev.barony.lessee
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable = mil_power
							}
						}
						set_variable = { 
							name = mil_power
							value = 0
						}
					}
				}
				set_variable = { 
					name = realm_suppression
					value = barony.lessee.var:mil_power
				}
			}
			else = { 
				barony.holder = { 
					add_to_global_variable_list = { 
						name = realm_update_t
						target = this
					}
					add_to_variable_list = { 
						name = realm_update_t
						target = prev
					}
					if = { 
						limit = { 
							is_independent_ruler = no
						}
						set_variable = { 
							name = realm_update_t
							value = liege
						}
						liege = { 
							add_to_variable_list = { 
								name = realm_update_tt
								target = prev
							}
							if = { 
								limit = { 
									NOT = { 
										has_variable = mil_power
									}
								}
								set_variable = { 
									name = mil_power
									value = 0
								}
							}
						}
					}
					if = { 
						limit = { 
							NOT = { 
								has_variable = mil_power
							}
						}
						set_variable = { 
							name = mil_power
							value = 0
						}
					}
				}
				set_variable = { 
					name = realm_suppression
					value = barony.holder.var:mil_power
				}
			}
			change_variable = { 
				name = realm_suppression
				divide = { 
					value = var:mil_power
					add = 0.001
				}
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:realm_suppression
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = realm_suppression
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = realm_suppression
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			if = { 
				limit = { 
					has_variable = realm_suppression
					var:realm_suppression > 5
				}
				set_variable = { 
					name = realm_suppression
					value = 5
				}
			}
			change_variable = { 
				name = realm_suppression
				multiply = 10
			}
			if = { 
				limit = { 
					has_variable = realm_privilege
				}
				change_variable = { 
					name = realm_suppression
					add = { 
						value = var:realm_privilege
						multiply = 5
					}
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = realm_resentment
					}
				}
				set_variable = { 
					name = realm_resentment
					value = 0
				}
			}
			change_variable = { 
				name = realm_resentment
				multiply = 0.99
			}
			set_variable = { 
				name = realm_resentment_goal
				value = var:realm_tax_rate
			}
			change_variable = { 
				name = realm_resentment_goal
				add = var:realm_levy_rate
			}
			change_variable = { 
				name = realm_resentment_goal
				divide = 2
			}
			change_variable = { 
				name = realm_resentment
				add = var:realm_resentment_goal
			}
			change_variable = { 
				name = realm_resentment_goal
				multiply = 100
			}
			if = { 
				limit = { 
					has_variable = realm_privilege
				}
				set_variable = { 
					name = math_pow_base
					value = 2
				}
				set_variable = { 
					name = math_pow_exp
					value = var:realm_privilege
				}
				if = { 
					limit = { 
						has_variable = math_pow_base
						var:math_pow_base != 0
					}
					set_variable = { 
						name = realm_privilege_earn
						value = 1
					}
					while = { 
						limit = { 
							var:math_pow_exp >= 1
						}
						change_variable = { 
							name = math_pow_exp
							subtract = 1
						}
						change_variable = { 
							name = realm_privilege_earn
							multiply = var:math_pow_base
						}
					}
					while = { 
						limit = { 
							var:math_pow_exp < 0
						}
						change_variable = { 
							name = math_pow_exp
							add = 1
						}
						change_variable = { 
							name = realm_privilege_earn
							divide = var:math_pow_base
						}
					}
					if = { 
						limit = { 
							var:math_pow_exp != 0
						}
						set_variable = { 
							name = math_ln_inp
							value = var:math_pow_base
						}
						set_variable = { 
							name = math_pow_ln
							value = 0
						}
						set_variable = { 
							name = math_ln_k
							value = 0
						}
						set_variable = { 
							name = math_ln_div
							value = 10000
						}
						while = { 
							limit = { 
								var:math_ln_inp >= 2
							}
							change_variable = { 
								name = math_ln_inp
								divide = 2
							}
							change_variable = { 
								name = math_pow_ln
								add = 6931.472
							}
						}
						while = { 
							limit = { 
								var:math_ln_inp < 1
							}
							change_variable = { 
								name = math_ln_inp
								multiply = 2
							}
							change_variable = { 
								name = math_pow_ln
								subtract = 6931.472
							}
						}
						change_variable = { 
							name = math_ln_inp
							multiply = 10000
						}
						while = { 
							limit = { 
								var:math_ln_k < 10
							}
							change_variable = { 
								name = math_ln_k
								add = 1
							}
							change_variable = { 
								name = math_ln_div
								divide = 2
							}
							set_variable = { 
								name = math_ln_t
								value = 10000
							}
							change_variable = { 
								name = math_ln_t
								add = var:math_ln_div
							}
							if = { 
								limit = { 
									var:math_ln_inp = { 
										compare_value >= prev.var:math_ln_t
									}
								}
								change_variable = { 
									name = math_ln_inp
									divide = var:math_ln_t
								}
								change_variable = { 
									name = math_ln_inp
									multiply = 10000
								}
								set_variable = { 
									name = math_lt_ind
									value = var:math_ln_k
								}
								if = { 
									limit = { 
										var:math_lt_ind >= 6
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 8
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 9
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 10
												}
												set_variable = { 
													name = math_ln_lt
													value = 9.761
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 19.512
												}
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 38.986
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												var:math_lt_ind >= 7
											}
											set_variable = { 
												name = math_ln_lt
												value = 77.821
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 155.042
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											var:math_lt_ind >= 3
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 4
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 5
												}
												set_variable = { 
													name = math_ln_lt
													value = 307.717
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 606.246
												}
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 1177.83
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												var:math_lt_ind >= 2
											}
											set_variable = { 
												name = math_ln_lt
												value = 2231.436
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 4054.651
											}
										}
									}
								}
								remove_variable = math_lt_ind
								change_variable = { 
									name = math_pow_ln
									add = var:math_ln_lt
								}
							}
						}
						change_variable = { 
							name = math_pow_ln
							divide = 10000
						}
						remove_variable = math_ln_k
						remove_variable = math_ln_div
						remove_variable = math_ln_t
						remove_variable = math_ln_lt
						remove_variable = math_ln_inp
						change_variable = { 
							name = math_pow_exp
							multiply = var:math_pow_ln
						}
						set_variable = { 
							name = math_e_exp
							value = var:math_pow_exp
						}
						set_variable = { 
							name = math_pow_e
							value = 1
						}
						while = { 
							limit = { 
								var:math_e_exp >= 1
							}
							change_variable = { 
								name = math_e_exp
								subtract = 1
							}
							change_variable = { 
								name = math_pow_e
								multiply = 2.718
							}
						}
						while = { 
							limit = { 
								var:math_e_exp < 0
							}
							change_variable = { 
								name = math_e_exp
								add = 1
							}
							change_variable = { 
								name = math_pow_e
								divide = 2.718
							}
						}
						set_variable = { 
							name = math_e_sm
							value = 1
						}
						if = { 
							limit = { 
								var:math_e_exp != 0
							}
							set_variable = { 
								name = math_e_sq
								value = var:math_e_exp
							}
							change_variable = { 
								name = math_e_sq
								multiply = var:math_e_exp
							}
							set_variable = { 
								name = math_e_fct
								value = 2
							}
							set_variable = { 
								name = math_e_fctl
								value = 2
							}
							set_variable = { 
								name = math_e_a1
								value = var:math_e_sq
							}
							set_variable = { 
								name = math_e_a2
								value = var:math_e_exp
							}
							set_variable = { 
								name = math_e_a3
								value = 2
							}
							set_variable = { 
								name = math_e_tmp
								value = var:math_e_a2
							}
							change_variable = { 
								name = math_e_tmp
								multiply = var:math_e_a3
							}
							change_variable = { 
								name = math_e_tmp
								add = var:math_e_a1
							}
							change_variable = { 
								name = math_e_tmp
								divide = var:math_e_fct
							}
							change_variable = { 
								name = math_e_sm
								add = var:math_e_tmp
							}
							set_variable = { 
								name = math_e_prec
								value = 3
							}
							change_variable = { 
								name = math_e_prec
								subtract = 1
							}
							while = { 
								limit = { 
									var:math_e_prec >= 1
								}
								change_variable = { 
									name = math_e_prec
									subtract = 1
								}
								change_variable = { 
									name = math_e_fctl
									add = 1
								}
								change_variable = { 
									name = math_e_fct
									multiply = var:math_e_fctl
								}
								change_variable = { 
									name = math_e_fctl
									add = 1
								}
								change_variable = { 
									name = math_e_fct
									multiply = var:math_e_fctl
								}
								change_variable = { 
									name = math_e_a1
									multiply = var:math_e_sq
								}
								change_variable = { 
									name = math_e_a2
									multiply = var:math_e_sq
								}
								change_variable = { 
									name = math_e_a3
									add = 2
								}
								set_variable = { 
									name = math_e_tmp
									value = var:math_e_a2
								}
								change_variable = { 
									name = math_e_tmp
									multiply = var:math_e_a3
								}
								change_variable = { 
									name = math_e_tmp
									add = var:math_e_a1
								}
								change_variable = { 
									name = math_e_tmp
									divide = var:math_e_fct
								}
								change_variable = { 
									name = math_e_sm
									add = var:math_e_tmp
								}
							}
						}
						change_variable = { 
							name = math_pow_e
							multiply = var:math_e_sm
						}
						remove_variable = math_e_sm
						remove_variable = math_e_tmp
						remove_variable = math_e_a1
						remove_variable = math_e_a2
						remove_variable = math_e_a3
						remove_variable = math_e_fctl
						remove_variable = math_e_fct
						remove_variable = math_e_prec
						remove_variable = math_e_sq
						remove_variable = math_e_exp
						change_variable = { 
							name = realm_privilege_earn
							multiply = var:math_pow_e
						}
						remove_variable = math_pow_ln
						remove_variable = math_pow_e
					}
				}
				else_if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = math_pow_exp
							}
							var:math_pow_exp = 0
						}
					}
					set_variable = { 
						name = realm_privilege_earn
						value = 1
					}
				}
				else = { 
					set_variable = { 
						name = realm_privilege_earn
						value = 0
					}
				}
				remove_variable = math_pow_base
				remove_variable = math_pow_exp
				change_variable = { 
					name = realm_privilege_earn
					multiply = { 
						value = 0
						add = { 
							value = var:realm_tax_base
							divide = 200
						}
						add = var:realm_mp_base
						add = var:realm_supply_base
					}
				}
			}
			else = { 
				set_variable = { 
					name = realm_privilege_earn
					value = 0
				}
			}
		}
		every_in_global_list = { 
			variable = realm_update_t
			set_variable = { 
				name = realm_tax_earn
				value = 0
			}
			set_variable = { 
				name = realm_mp_earn
				value = 0
			}
			set_variable = { 
				name = realm_supply_earn
				value = 0
			}
			set_variable = { 
				name = realm_privilege_earn
				value = 0
			}
			set_variable = { 
				name = realm_tax_pay
				value = 0
			}
			set_variable = { 
				name = realm_mp_pay
				value = 0
			}
			set_variable = { 
				name = realm_supply_pay
				value = 0
			}
			set_variable = { 
				name = realm_privilege_pay
				value = 0
			}
			every_in_list = { 
				variable = realm_update_t
				prev = { 
					change_variable = { 
						name = realm_tax_earn
						add = prev.var:realm_tax_pay
					}
					change_variable = { 
						name = realm_mp_earn
						add = prev.var:realm_mp_pay
					}
					change_variable = { 
						name = realm_supply_earn
						add = prev.var:realm_supply_pay
					}
				}
			}
			clear_variable_list = realm_update_t
			if = { 
				limit = { 
					has_variable = realm_update_t
				}
				set_variable = { 
					name = realm_suppression
					value = var:realm_update_t.var:mil_power
				}
				change_variable = { 
					name = realm_suppression
					divide = { 
						value = var:mil_power
						add = 0.001
					}
				}
				set_variable = { 
					name = math_sqrt_i
					value = var:realm_suppression
				}
				if = { 
					limit = { 
						has_variable = math_sqrt_i
						var:math_sqrt_i > 0
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_i
					}
					set_variable = { 
						name = math_sqrt_n
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = 0.5
					}
					while = { 
						limit = { 
							has_variable = math_sqrt_n
							var:math_sqrt_n > 0
							OR = { 
								var:math_sqrt_tt < 0.995
								var:math_sqrt_tt > 1.005
							}
						}
						set_variable = { 
							name = math_sqrt_x
							value = var:math_sqrt_n
						}
						set_variable = { 
							name = math_sqrt_t
							value = var:math_sqrt_i
						}
						change_variable = { 
							name = math_sqrt_t
							divide = var:math_sqrt_n
						}
						change_variable = { 
							name = math_sqrt_n
							add = var:math_sqrt_t
						}
						change_variable = { 
							name = math_sqrt_n
							divide = 2
						}
						set_variable = { 
							name = math_sqrt_tt
							value = var:math_sqrt_x
						}
						change_variable = { 
							name = math_sqrt_tt
							divide = var:math_sqrt_n
						}
					}
					set_variable = { 
						name = realm_suppression
						value = var:math_sqrt_n
					}
					remove_variable = math_sqrt_x
					remove_variable = math_sqrt_t
					remove_variable = math_sqrt_n
					remove_variable = math_sqrt_tt
				}
				else = { 
					set_variable = { 
						name = realm_suppression
						value = 0
					}
				}
				remove_variable = math_sqrt_i
				if = { 
					limit = { 
						has_variable = realm_suppression
						var:realm_suppression > 5
					}
					set_variable = { 
						name = realm_suppression
						value = 5
					}
				}
				change_variable = { 
					name = realm_suppression
					multiply = 10
				}
				if = { 
					limit = { 
						has_variable = realm_privilege
					}
					change_variable = { 
						name = realm_suppression
						add = { 
							value = var:realm_privilege
							multiply = 5
						}
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = realm_resentment
						}
					}
					set_variable = { 
						name = realm_resentment
						value = 0
					}
				}
				change_variable = { 
					name = realm_resentment
					multiply = 0.99
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = realm_tax_rate
						}
					}
					set_variable = { 
						name = realm_tax_rate
						value = 0
					}
				}
				if = { 
					limit = { 
						NOT = { 
							has_variable = realm_levy_rate
						}
					}
					set_variable = { 
						name = realm_levy_rate
						value = 0
					}
				}
				set_variable = { 
					name = realm_resentment_goal
					value = var:realm_tax_rate
				}
				change_variable = { 
					name = realm_resentment_goal
					add = var:realm_levy_rate
				}
				change_variable = { 
					name = realm_resentment_goal
					divide = 2
				}
				change_variable = { 
					name = realm_resentment
					add = var:realm_resentment_goal
				}
				change_variable = { 
					name = realm_resentment_goal
					multiply = 100
				}
				remove_variable = realm_update_t
			}
			else = { 
				set_variable = { 
					name = realm_suppression
					value = 0
				}
				set_variable = { 
					name = realm_resentment
					value = 0
				}
				set_variable = { 
					name = realm_resentment_goal
					value = 0
				}
			}
		}
		while = { 
			limit = { 
				has_global_variable_list = realm_update_t
				global_variable_list_size = { 
					name = realm_update_t
					value > 0
				}
			}
			every_in_global_list = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable_list = realm_update_tt
						}
						NOT = { 
							any_in_list = { 
								variable = realm_update_tt
								is_target_in_global_variable_list = { 
									name = realm_update_t
									target = this
								}
							}
						}
					}
				}
				variable = realm_update_t
				remove_list_global_variable = { 
					name = realm_update_t
					target = this
				}
				if = { 
					limit = { 
						has_variable_list = realm_update_tt
					}
					every_in_list = { 
						variable = realm_update_tt
						set_variable = { 
							name = realm_tax_pay
							value = var:realm_tax_earn
						}
						set_variable = { 
							name = realm_mp_pay
							value = var:realm_mp_earn
						}
						set_variable = { 
							name = realm_supply_pay
							value = var:realm_supply_earn
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable = realm_tax_rate
								}
							}
							set_variable = { 
								name = realm_tax_rate
								value = 0
							}
						}
						if = { 
							limit = { 
								NOT = { 
									has_variable = realm_levy_rate
								}
							}
							set_variable = { 
								name = realm_levy_rate
								value = 0
							}
						}
						change_variable = { 
							name = realm_tax_pay
							multiply = var:realm_tax_rate
						}
						change_variable = { 
							name = realm_mp_pay
							multiply = var:realm_levy_rate
						}
						change_variable = { 
							name = realm_supply_pay
							multiply = var:realm_levy_rate
						}
						if = { 
							limit = { 
								opinion = { 
									value < 0
									target = prev
								}
							}
							if = { 
								limit = { 
									opinion = { 
										value >= 0
										target = prev
									}
								}
								if = { 
									limit = { 
										opinion = { 
											value >= 50
											target = prev
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= 75
												target = prev
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 88
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 94
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 97
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 99
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 100
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 100
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 99
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= 98
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 98
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 97
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 95
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 96
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 96
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 95
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 94
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 91
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 92
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 93
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 93
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 92
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 91
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 89
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 90
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 90
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 89
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 88
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 81
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 84
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 86
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 87
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 87
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 86
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= 85
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 85
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 84
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 82
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 83
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 83
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 82
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 81
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 78
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 79
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 80
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 80
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 79
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 78
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 76
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 77
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 77
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 76
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 75
														}
													}
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 62
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 68
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 71
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 73
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 74
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 74
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 73
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= 72
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 72
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 71
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 69
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 70
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 70
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 69
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 68
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 65
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 66
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 67
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 67
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 66
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 65
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 63
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 64
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 64
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 63
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 62
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 56
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 59
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 60
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 61
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 61
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 60
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 59
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 57
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 58
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 58
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 57
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 56
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 53
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 54
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 55
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 55
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 54
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 53
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 51
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 52
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 52
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 51
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 50
														}
													}
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= 25
												target = prev
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= 37
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 43
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 46
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 48
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 49
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 49
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 48
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= 47
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 47
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 46
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 44
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 45
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 45
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 44
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 43
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 40
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 41
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 42
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 42
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 41
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 40
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 38
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 39
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 39
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 38
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 37
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 31
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 34
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 35
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 36
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 36
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 35
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 34
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 32
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 33
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 33
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 32
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 31
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 28
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 29
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 30
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 30
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 29
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 28
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 26
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 27
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 27
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 26
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 25
														}
													}
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= 12
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= 18
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 21
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 23
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 24
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 24
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 23
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= 22
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 22
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 21
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 19
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 20
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 20
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 19
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 18
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 15
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 16
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 17
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 17
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 16
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 15
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 13
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 14
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 14
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 13
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 12
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= 6
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= 9
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 10
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 11
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 11
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 10
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 9
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 7
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 8
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 8
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 7
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 6
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= 3
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= 4
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 5
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 5
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 4
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 3
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= 1
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= 2
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = 2
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = 1
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = 0
														}
													}
												}
											}
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										opinion = { 
											value >= -50
											target = prev
										}
									}
									if = { 
										limit = { 
											opinion = { 
												value >= -25
												target = prev
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -13
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -7
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -4
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -2
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -1
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -1
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -2
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= -3
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -3
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -4
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -6
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -5
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -5
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -6
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -7
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -10
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -9
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -8
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -8
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -9
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -10
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -12
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -11
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -11
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -12
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -13
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -19
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -16
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -15
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -14
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -14
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -15
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -16
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -18
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -17
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -17
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -18
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -19
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -22
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -21
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -20
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -20
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -21
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -22
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -24
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -23
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -23
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -24
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -25
														}
													}
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -38
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -32
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -29
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -27
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -26
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -26
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -27
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= -28
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -28
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -29
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -31
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -30
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -30
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -31
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -32
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -35
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -34
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -33
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -33
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -34
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -35
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -37
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -36
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -36
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -37
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -38
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -44
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -41
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -40
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -39
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -39
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -40
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -41
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -43
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -42
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -42
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -43
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -44
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -47
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -46
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -45
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -45
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -46
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -47
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -49
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -48
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -48
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -49
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -50
														}
													}
												}
											}
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											opinion = { 
												value >= -75
												target = prev
											}
										}
										if = { 
											limit = { 
												opinion = { 
													value >= -63
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -57
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -54
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -52
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -51
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -51
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -52
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= -53
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -53
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -54
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -56
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -55
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -55
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -56
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -57
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -60
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -59
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -58
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -58
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -59
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -60
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -62
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -61
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -61
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -62
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -63
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -69
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -66
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -65
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -64
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -64
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -65
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -66
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -68
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -67
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -67
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -68
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -69
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -72
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -71
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -70
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -70
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -71
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -72
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -74
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -73
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -73
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -74
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -75
														}
													}
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												opinion = { 
													value >= -88
													target = prev
												}
											}
											if = { 
												limit = { 
													opinion = { 
														value >= -82
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -79
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -77
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -76
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -76
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -77
															}
														}
													}
													else = { 
														if = { 
															limit = { 
																opinion = { 
																	value >= -78
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -78
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -79
															}
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -81
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -80
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -80
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -81
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -82
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -85
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -84
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -83
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -83
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -84
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -85
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -87
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -86
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -86
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -87
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -88
														}
													}
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													opinion = { 
														value >= -94
														target = prev
													}
												}
												if = { 
													limit = { 
														opinion = { 
															value >= -91
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -90
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -89
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -89
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -90
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -91
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -93
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -92
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -92
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -93
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -94
														}
													}
												}
											}
											else = { 
												if = { 
													limit = { 
														opinion = { 
															value >= -97
															target = prev
														}
													}
													if = { 
														limit = { 
															opinion = { 
																value >= -96
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -95
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -95
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -96
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -97
														}
													}
												}
												else = { 
													if = { 
														limit = { 
															opinion = { 
																value >= -99
																target = prev
															}
														}
														if = { 
															limit = { 
																opinion = { 
																	value >= -98
																	target = prev
																}
															}
															set_variable = { 
																name = realm_update_t
																value = -98
															}
														}
														else = { 
															set_variable = { 
																name = realm_update_t
																value = -99
															}
														}
													}
													else = { 
														set_variable = { 
															name = realm_update_t
															value = -100
														}
													}
												}
											}
										}
									}
								}
							}
							change_variable = { 
								name = realm_update_t
								add = 100
							}
							change_variable = { 
								name = realm_update_t
								divide = 100
							}
							change_variable = { 
								name = realm_tax_pay
								multiply = var:realm_update_t
							}
							change_variable = { 
								name = realm_mp_pay
								multiply = var:realm_update_t
							}
							change_variable = { 
								name = realm_supply_pay
								multiply = var:realm_update_t
							}
							remove_variable = realm_update_t
						}
						prev = { 
							change_variable = { 
								name = realm_tax_earn
								add = prev.var:realm_tax_pay
							}
							change_variable = { 
								name = realm_mp_earn
								add = prev.var:realm_mp_pay
							}
							change_variable = { 
								name = realm_supply_earn
								add = prev.var:realm_supply_pay
							}
							change_variable = { 
								name = realm_privilege_pay
								add = prev.var:realm_privilege_earn
							}
						}
					}
					clear_variable_list = realm_update_tt
				}
				if = { 
					limit = { 
						has_variable = realm_privilege
					}
					set_variable = { 
						name = math_pow_base
						value = 2
					}
					set_variable = { 
						name = math_pow_exp
						value = var:realm_privilege
					}
					if = { 
						limit = { 
							has_variable = math_pow_base
							var:math_pow_base != 0
						}
						set_variable = { 
							name = realm_privilege_earn
							value = 1
						}
						while = { 
							limit = { 
								var:math_pow_exp >= 1
							}
							change_variable = { 
								name = math_pow_exp
								subtract = 1
							}
							change_variable = { 
								name = realm_privilege_earn
								multiply = var:math_pow_base
							}
						}
						while = { 
							limit = { 
								var:math_pow_exp < 0
							}
							change_variable = { 
								name = math_pow_exp
								add = 1
							}
							change_variable = { 
								name = realm_privilege_earn
								divide = var:math_pow_base
							}
						}
						if = { 
							limit = { 
								var:math_pow_exp != 0
							}
							set_variable = { 
								name = math_ln_inp
								value = var:math_pow_base
							}
							set_variable = { 
								name = math_pow_ln
								value = 0
							}
							set_variable = { 
								name = math_ln_k
								value = 0
							}
							set_variable = { 
								name = math_ln_div
								value = 10000
							}
							while = { 
								limit = { 
									var:math_ln_inp >= 2
								}
								change_variable = { 
									name = math_ln_inp
									divide = 2
								}
								change_variable = { 
									name = math_pow_ln
									add = 6931.472
								}
							}
							while = { 
								limit = { 
									var:math_ln_inp < 1
								}
								change_variable = { 
									name = math_ln_inp
									multiply = 2
								}
								change_variable = { 
									name = math_pow_ln
									subtract = 6931.472
								}
							}
							change_variable = { 
								name = math_ln_inp
								multiply = 10000
							}
							while = { 
								limit = { 
									var:math_ln_k < 10
								}
								change_variable = { 
									name = math_ln_k
									add = 1
								}
								change_variable = { 
									name = math_ln_div
									divide = 2
								}
								set_variable = { 
									name = math_ln_t
									value = 10000
								}
								change_variable = { 
									name = math_ln_t
									add = var:math_ln_div
								}
								if = { 
									limit = { 
										var:math_ln_inp = { 
											compare_value >= prev.var:math_ln_t
										}
									}
									change_variable = { 
										name = math_ln_inp
										divide = var:math_ln_t
									}
									change_variable = { 
										name = math_ln_inp
										multiply = 10000
									}
									set_variable = { 
										name = math_lt_ind
										value = var:math_ln_k
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 6
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 8
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 9
												}
												if = { 
													limit = { 
														var:math_lt_ind >= 10
													}
													set_variable = { 
														name = math_ln_lt
														value = 9.761
													}
												}
												else = { 
													set_variable = { 
														name = math_ln_lt
														value = 19.512
													}
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 38.986
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													var:math_lt_ind >= 7
												}
												set_variable = { 
													name = math_ln_lt
													value = 77.821
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 155.042
												}
											}
										}
									}
									else = { 
										if = { 
											limit = { 
												var:math_lt_ind >= 3
											}
											if = { 
												limit = { 
													var:math_lt_ind >= 4
												}
												if = { 
													limit = { 
														var:math_lt_ind >= 5
													}
													set_variable = { 
														name = math_ln_lt
														value = 307.717
													}
												}
												else = { 
													set_variable = { 
														name = math_ln_lt
														value = 606.246
													}
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 1177.83
												}
											}
										}
										else = { 
											if = { 
												limit = { 
													var:math_lt_ind >= 2
												}
												set_variable = { 
													name = math_ln_lt
													value = 2231.436
												}
											}
											else = { 
												set_variable = { 
													name = math_ln_lt
													value = 4054.651
												}
											}
										}
									}
									remove_variable = math_lt_ind
									change_variable = { 
										name = math_pow_ln
										add = var:math_ln_lt
									}
								}
							}
							change_variable = { 
								name = math_pow_ln
								divide = 10000
							}
							remove_variable = math_ln_k
							remove_variable = math_ln_div
							remove_variable = math_ln_t
							remove_variable = math_ln_lt
							remove_variable = math_ln_inp
							change_variable = { 
								name = math_pow_exp
								multiply = var:math_pow_ln
							}
							set_variable = { 
								name = math_e_exp
								value = var:math_pow_exp
							}
							set_variable = { 
								name = math_pow_e
								value = 1
							}
							while = { 
								limit = { 
									var:math_e_exp >= 1
								}
								change_variable = { 
									name = math_e_exp
									subtract = 1
								}
								change_variable = { 
									name = math_pow_e
									multiply = 2.718
								}
							}
							while = { 
								limit = { 
									var:math_e_exp < 0
								}
								change_variable = { 
									name = math_e_exp
									add = 1
								}
								change_variable = { 
									name = math_pow_e
									divide = 2.718
								}
							}
							set_variable = { 
								name = math_e_sm
								value = 1
							}
							if = { 
								limit = { 
									var:math_e_exp != 0
								}
								set_variable = { 
									name = math_e_sq
									value = var:math_e_exp
								}
								change_variable = { 
									name = math_e_sq
									multiply = var:math_e_exp
								}
								set_variable = { 
									name = math_e_fct
									value = 2
								}
								set_variable = { 
									name = math_e_fctl
									value = 2
								}
								set_variable = { 
									name = math_e_a1
									value = var:math_e_sq
								}
								set_variable = { 
									name = math_e_a2
									value = var:math_e_exp
								}
								set_variable = { 
									name = math_e_a3
									value = 2
								}
								set_variable = { 
									name = math_e_tmp
									value = var:math_e_a2
								}
								change_variable = { 
									name = math_e_tmp
									multiply = var:math_e_a3
								}
								change_variable = { 
									name = math_e_tmp
									add = var:math_e_a1
								}
								change_variable = { 
									name = math_e_tmp
									divide = var:math_e_fct
								}
								change_variable = { 
									name = math_e_sm
									add = var:math_e_tmp
								}
								set_variable = { 
									name = math_e_prec
									value = 3
								}
								change_variable = { 
									name = math_e_prec
									subtract = 1
								}
								while = { 
									limit = { 
										var:math_e_prec >= 1
									}
									change_variable = { 
										name = math_e_prec
										subtract = 1
									}
									change_variable = { 
										name = math_e_fctl
										add = 1
									}
									change_variable = { 
										name = math_e_fct
										multiply = var:math_e_fctl
									}
									change_variable = { 
										name = math_e_fctl
										add = 1
									}
									change_variable = { 
										name = math_e_fct
										multiply = var:math_e_fctl
									}
									change_variable = { 
										name = math_e_a1
										multiply = var:math_e_sq
									}
									change_variable = { 
										name = math_e_a2
										multiply = var:math_e_sq
									}
									change_variable = { 
										name = math_e_a3
										add = 2
									}
									set_variable = { 
										name = math_e_tmp
										value = var:math_e_a2
									}
									change_variable = { 
										name = math_e_tmp
										multiply = var:math_e_a3
									}
									change_variable = { 
										name = math_e_tmp
										add = var:math_e_a1
									}
									change_variable = { 
										name = math_e_tmp
										divide = var:math_e_fct
									}
									change_variable = { 
										name = math_e_sm
										add = var:math_e_tmp
									}
								}
							}
							change_variable = { 
								name = math_pow_e
								multiply = var:math_e_sm
							}
							remove_variable = math_e_sm
							remove_variable = math_e_tmp
							remove_variable = math_e_a1
							remove_variable = math_e_a2
							remove_variable = math_e_a3
							remove_variable = math_e_fctl
							remove_variable = math_e_fct
							remove_variable = math_e_prec
							remove_variable = math_e_sq
							remove_variable = math_e_exp
							change_variable = { 
								name = realm_privilege_earn
								multiply = var:math_pow_e
							}
							remove_variable = math_pow_ln
							remove_variable = math_pow_e
						}
					}
					else_if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = math_pow_exp
								}
								var:math_pow_exp = 0
							}
						}
						set_variable = { 
							name = realm_privilege_earn
							value = 1
						}
					}
					else = { 
						set_variable = { 
							name = realm_privilege_earn
							value = 0
						}
					}
					remove_variable = math_pow_base
					remove_variable = math_pow_exp
					change_variable = { 
						name = realm_privilege_earn
						multiply = { 
							value = 0
							add = { 
								value = var:realm_tax_earn
								divide = 200
							}
							add = var:realm_mp_earn
							add = var:realm_supply_earn
						}
					}
				}
				else = { 
					set_variable = { 
						name = realm_privilege_earn
						value = 0
					}
				}
			}
		}
		every_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = mil_levy_decay
				value = 0.01
			}
			set_variable = { 
				name = mil_supply_decay
				value = 0.01
			}
			change_variable = { 
				name = mil_levy_decay
				multiply = var:mil_levy
			}
			change_variable = { 
				name = mil_supply_decay
				multiply = var:mil_supply
			}
			set_variable = { 
				name = mil_levy_balance
				value = var:mil_levy_earn
			}
			change_variable = { 
				name = mil_levy_balance
				subtract = var:mil_levy_decay
			}
			if = { 
				limit = { 
					is_city = yes
				}
				change_variable = { 
					name = mil_levy_balance
					subtract = var:realm_mp_pay
				}
			}
			change_variable = { 
				name = mil_levy
				add = var:mil_levy_balance
			}
			set_variable = { 
				name = mil_supply_balance
				value = var:mil_supply_earn
			}
			change_variable = { 
				name = mil_supply_balance
				subtract = var:mil_supply_decay
			}
			if = { 
				limit = { 
					is_city = yes
				}
				change_variable = { 
					name = mil_supply_balance
					subtract = var:realm_supply_pay
				}
			}
			change_variable = { 
				name = mil_supply
				add = var:mil_supply_balance
			}
			set_variable = { 
				name = mil_power
				value = var:mil_levy
			}
			change_variable = { 
				name = mil_power
				multiply = 100
			}
			change_variable = { 
				name = mil_power
				multiply = var:mil_supply
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:mil_power
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = mil_power
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = mil_power
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			change_variable = { 
				name = mil_power
				divide = 10
			}
			if = { 
				limit = { 
					is_city = yes
				}
				if = { 
					limit = { 
						barony = { 
							is_leased_out = yes
						}
					}
					barony.lessee = { 
						add_to_global_variable_list = { 
							name = mil_main_t
							target = this
						}
					}
				}
				else = { 
					province_owner = { 
						add_to_global_variable_list = { 
							name = mil_main_t
							target = this
						}
					}
				}
			}
		}
		every_in_global_list = { 
			variable = mil_main_t
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_mp
					}
				}
				set_variable = { 
					name = mil_mp
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_supply
					}
				}
				set_variable = { 
					name = mil_supply
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_supply_stockpile
					}
				}
				set_variable = { 
					name = mil_supply_stockpile
					value = 0
				}
			}
			if = { 
				limit = { 
					NOT = { 
						has_variable = mil_mismanage
					}
				}
				set_variable = { 
					name = mil_mismanage
					value = 0
				}
			}
			set_variable = { 
				name = mil_mp_supply
				value = 0.005
			}
			change_variable = { 
				name = mil_mp_supply
				multiply = var:mil_supply
			}
			change_variable = { 
				name = mil_mp_supply
				divide = 2
			}
			set_variable = { 
				name = mil_mp_decay
				value = 0.01
			}
			set_variable = { 
				name = mil_supply_decay
				value = 0.01
			}
			change_variable = { 
				name = mil_mp_decay
				multiply = var:mil_mp
			}
			change_variable = { 
				name = mil_supply_decay
				multiply = var:mil_supply
			}
			set_variable = { 
				name = mil_mp_mismanage
				value = var:mil_mismanage
			}
			set_variable = { 
				name = mil_supply_mismanage
				value = var:mil_mismanage
			}
			change_variable = { 
				name = mil_mp_mismanage
				multiply = var:mil_mp
			}
			change_variable = { 
				name = mil_supply_mismanage
				multiply = var:mil_supply
			}
			set_variable = { 
				name = mil_mp_balance
				value = var:mil_mp_supply
			}
			change_variable = { 
				name = mil_mp_balance
				add = var:realm_mp_earn
			}
			change_variable = { 
				name = mil_mp_balance
				subtract = var:realm_mp_pay
			}
			change_variable = { 
				name = mil_mp_balance
				subtract = var:mil_mp_decay
			}
			change_variable = { 
				name = mil_mp_balance
				subtract = var:mil_mp_mismanage
			}
			change_variable = { 
				name = mil_mp
				add = var:mil_mp_balance
			}
			set_variable = { 
				name = mil_supply_balance
				value = var:mil_supply_stockpile
			}
			change_variable = { 
				name = mil_supply_balance
				add = var:realm_supply_earn
			}
			change_variable = { 
				name = mil_supply_balance
				subtract = var:realm_supply_pay
			}
			change_variable = { 
				name = mil_supply_balance
				subtract = var:mil_supply_decay
			}
			change_variable = { 
				name = mil_supply_balance
				subtract = var:mil_supply_mismanage
			}
			change_variable = { 
				name = mil_supply
				add = var:mil_supply_balance
			}
			set_variable = { 
				name = mil_power
				value = var:mil_mp
			}
			change_variable = { 
				name = mil_power
				multiply = var:mil_supply
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:mil_power
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = mil_power
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = mil_power
					value = 0
				}
			}
			remove_variable = math_sqrt_i
		}
		clear_global_variable_list = mil_main_t
		every_province = { 
			limit = { 
				is_valid_prov = yes
				is_city = yes
			}
			add_province_modifier = base_prov
			set_variable = { 
				name = stat_main_t
				value = var:realm_tax_pay
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_province_modifier = stat_tax_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_province_modifier = stat_tax_327.68
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_province_modifier = stat_tax_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_province_modifier = stat_tax_163.84
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_province_modifier = stat_tax_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_province_modifier = stat_tax_81.92
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_province_modifier = stat_tax_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_province_modifier = stat_tax_40.96
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_province_modifier = stat_tax_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_province_modifier = stat_tax_20.48
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_province_modifier = stat_tax_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_province_modifier = stat_tax_10.24
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_province_modifier = stat_tax_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_province_modifier = stat_tax_5.12
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_province_modifier = stat_tax_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_province_modifier = stat_tax_2.56
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_province_modifier = stat_tax_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_province_modifier = stat_tax_1.28
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_province_modifier = stat_tax_0.64
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_province_modifier = stat_tax_0.32
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_province_modifier = stat_tax_0.16
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_province_modifier = stat_tax_0.08
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_province_modifier = stat_tax_0.04
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_province_modifier = stat_tax_0.02
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_tax_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_province_modifier = stat_tax_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_province_modifier = stat_tax_0.01
				}
			}
			set_variable = { 
				name = stat_main_t
				value = var:realm_privilege_earn
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_province_modifier = stat_privilege_pay_327.68
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_province_modifier = stat_privilege_pay_163.84
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_province_modifier = stat_privilege_pay_81.92
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_province_modifier = stat_privilege_pay_40.96
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_province_modifier = stat_privilege_pay_20.48
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_province_modifier = stat_privilege_pay_10.24
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_province_modifier = stat_privilege_pay_5.12
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_province_modifier = stat_privilege_pay_2.56
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_province_modifier = stat_privilege_pay_1.28
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_province_modifier = stat_privilege_pay_0.64
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_province_modifier = stat_privilege_pay_0.32
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_province_modifier = stat_privilege_pay_0.16
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_province_modifier = stat_privilege_pay_0.08
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_province_modifier = stat_privilege_pay_0.04
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_province_modifier = stat_privilege_pay_0.02
				}
			}
			if = { 
				limit = { 
					has_province_modifier = stat_privilege_pay_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_province_modifier = stat_privilege_pay_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_province_modifier = stat_privilege_pay_0.01
				}
			}
			remove_variable = stat_main_t
			if = { 
				limit = { 
					barony = { 
						is_leased_out = yes
					}
				}
				barony.lessee = { 
					add_to_global_variable_list = { 
						name = stat_main_t
						target = this
					}
					add_to_variable_list = { 
						name = stat_main_t
						target = prev
					}
				}
			}
			else = { 
				province_owner = { 
					add_to_global_variable_list = { 
						name = stat_main_t
						target = this
					}
					add_to_variable_list = { 
						name = stat_main_t
						target = prev
					}
				}
			}
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = stat_main_t
				value = 0
			}
			set_variable = { 
				name = stat_main_tt
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_city = yes
				}
				prev = { 
					change_variable = { 
						name = stat_main_t
						add = prev.var:realm_resentment
					}
					change_variable = { 
						name = stat_main_t
						subtract = prev.var:realm_suppression
					}
					change_variable = { 
						name = stat_main_tt
						add = 1
					}
				}
			}
			change_variable = { 
				name = stat_main_t
				divide = var:stat_main_tt
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_128
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_128
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
					add_county_modifier = stat_resentment_128
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
					add_county_modifier = stat_resentment_64
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
					add_county_modifier = stat_resentment_32
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
					add_county_modifier = stat_resentment_16
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_8
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_8
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
					add_county_modifier = stat_resentment_8
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_4
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_4
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
					add_county_modifier = stat_resentment_4
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_2
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_2
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
					add_county_modifier = stat_resentment_2
				}
			}
			if = { 
				limit = { 
					has_county_modifier = stat_resentment_1
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
				}
				else = { 
					remove_county_modifier = stat_resentment_1
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
					add_county_modifier = stat_resentment_1
				}
			}
			remove_variable = stat_main_t
			remove_variable = stat_main_tt
		}
		every_in_global_list = { 
			variable = stat_main_t
			add_character_modifier = base_lord
			set_variable = { 
				name = stat_main_t
				value = var:realm_resentment
			}
			change_variable = { 
				name = stat_main_t
				subtract = var:realm_suppression
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_128
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_128
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
					add_character_modifier = stat_resentment_lord_128
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
					add_character_modifier = stat_resentment_lord_64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
					add_character_modifier = stat_resentment_lord_32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
					add_character_modifier = stat_resentment_lord_16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_8
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_8
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
					add_character_modifier = stat_resentment_lord_8
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_4
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_4
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
					add_character_modifier = stat_resentment_lord_4
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_2
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_2
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
					add_character_modifier = stat_resentment_lord_2
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_resentment_lord_1
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
				}
				else = { 
					remove_character_modifier = stat_resentment_lord_1
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
					add_character_modifier = stat_resentment_lord_1
				}
			}
			set_variable = { 
				name = stat_main_t
				value = var:realm_privilege_earn
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_character_modifier = stat_privilege_327.68
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_character_modifier = stat_privilege_163.84
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_character_modifier = stat_privilege_81.92
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_character_modifier = stat_privilege_40.96
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_character_modifier = stat_privilege_20.48
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_character_modifier = stat_privilege_10.24
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_character_modifier = stat_privilege_5.12
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_character_modifier = stat_privilege_2.56
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_character_modifier = stat_privilege_1.28
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_character_modifier = stat_privilege_0.64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_character_modifier = stat_privilege_0.32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_character_modifier = stat_privilege_0.16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_character_modifier = stat_privilege_0.08
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_character_modifier = stat_privilege_0.04
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_character_modifier = stat_privilege_0.02
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_character_modifier = stat_privilege_0.01
				}
			}
			set_variable = { 
				name = stat_main_t
				value = var:realm_privilege_pay
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_327.68
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_327.68
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 327.68
					}
					change_variable = { 
						name = stat_main_t
						subtract = 327.68
					}
					add_character_modifier = stat_privilege_pay_327.68
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_163.84
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_163.84
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 163.84
					}
					change_variable = { 
						name = stat_main_t
						subtract = 163.84
					}
					add_character_modifier = stat_privilege_pay_163.84
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_81.92
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_81.92
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 81.92
					}
					change_variable = { 
						name = stat_main_t
						subtract = 81.92
					}
					add_character_modifier = stat_privilege_pay_81.92
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_40.96
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_40.96
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 40.96
					}
					change_variable = { 
						name = stat_main_t
						subtract = 40.96
					}
					add_character_modifier = stat_privilege_pay_40.96
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_20.48
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_20.48
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 20.48
					}
					change_variable = { 
						name = stat_main_t
						subtract = 20.48
					}
					add_character_modifier = stat_privilege_pay_20.48
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_10.24
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_10.24
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 10.24
					}
					change_variable = { 
						name = stat_main_t
						subtract = 10.24
					}
					add_character_modifier = stat_privilege_pay_10.24
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_5.12
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_5.12
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 5.12
					}
					change_variable = { 
						name = stat_main_t
						subtract = 5.12
					}
					add_character_modifier = stat_privilege_pay_5.12
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_2.56
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_2.56
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2.56
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2.56
					}
					add_character_modifier = stat_privilege_pay_2.56
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_1.28
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_1.28
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1.28
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1.28
					}
					add_character_modifier = stat_privilege_pay_1.28
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.64
					}
					add_character_modifier = stat_privilege_pay_0.64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.32
					}
					add_character_modifier = stat_privilege_pay_0.32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.16
					}
					add_character_modifier = stat_privilege_pay_0.16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.08
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.08
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.08
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.08
					}
					add_character_modifier = stat_privilege_pay_0.08
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.04
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.04
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.04
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.04
					}
					add_character_modifier = stat_privilege_pay_0.04
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.02
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.02
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.02
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.02
					}
					add_character_modifier = stat_privilege_pay_0.02
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_privilege_pay_0.01
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
				}
				else = { 
					remove_character_modifier = stat_privilege_pay_0.01
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 0.01
					}
					change_variable = { 
						name = stat_main_t
						subtract = 0.01
					}
					add_character_modifier = stat_privilege_pay_0.01
				}
			}
			set_variable = { 
				name = stat_main_t
				value = var:mil_power
			}
			change_variable = { 
				name = stat_main_t
				multiply = 5
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_2048
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2048
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2048
					}
				}
				else = { 
					remove_character_modifier = stat_maa_2048
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2048
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2048
					}
					add_character_modifier = stat_maa_2048
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_1024
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1024
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1024
					}
				}
				else = { 
					remove_character_modifier = stat_maa_1024
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1024
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1024
					}
					add_character_modifier = stat_maa_1024
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_512
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 512
					}
					change_variable = { 
						name = stat_main_t
						subtract = 512
					}
				}
				else = { 
					remove_character_modifier = stat_maa_512
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 512
					}
					change_variable = { 
						name = stat_main_t
						subtract = 512
					}
					add_character_modifier = stat_maa_512
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_256
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 256
					}
					change_variable = { 
						name = stat_main_t
						subtract = 256
					}
				}
				else = { 
					remove_character_modifier = stat_maa_256
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 256
					}
					change_variable = { 
						name = stat_main_t
						subtract = 256
					}
					add_character_modifier = stat_maa_256
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_128
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
				}
				else = { 
					remove_character_modifier = stat_maa_128
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 128
					}
					change_variable = { 
						name = stat_main_t
						subtract = 128
					}
					add_character_modifier = stat_maa_128
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_64
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
				}
				else = { 
					remove_character_modifier = stat_maa_64
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 64
					}
					change_variable = { 
						name = stat_main_t
						subtract = 64
					}
					add_character_modifier = stat_maa_64
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_32
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
				}
				else = { 
					remove_character_modifier = stat_maa_32
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 32
					}
					change_variable = { 
						name = stat_main_t
						subtract = 32
					}
					add_character_modifier = stat_maa_32
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_16
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
				}
				else = { 
					remove_character_modifier = stat_maa_16
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 16
					}
					change_variable = { 
						name = stat_main_t
						subtract = 16
					}
					add_character_modifier = stat_maa_16
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_8
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
				}
				else = { 
					remove_character_modifier = stat_maa_8
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 8
					}
					change_variable = { 
						name = stat_main_t
						subtract = 8
					}
					add_character_modifier = stat_maa_8
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_4
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
				}
				else = { 
					remove_character_modifier = stat_maa_4
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 4
					}
					change_variable = { 
						name = stat_main_t
						subtract = 4
					}
					add_character_modifier = stat_maa_4
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_2
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
				}
				else = { 
					remove_character_modifier = stat_maa_2
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 2
					}
					change_variable = { 
						name = stat_main_t
						subtract = 2
					}
					add_character_modifier = stat_maa_2
				}
			}
			if = { 
				limit = { 
					has_character_modifier = stat_maa_1
				}
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
				}
				else = { 
					remove_character_modifier = stat_maa_1
				}
			}
			else = { 
				if = { 
					limit = { 
						has_variable = stat_main_t
						var:stat_main_t >= 1
					}
					change_variable = { 
						name = stat_main_t
						subtract = 1
					}
					add_character_modifier = stat_maa_1
				}
			}
			set_variable = { 
				name = stat_main_tt
				value = var:mil_power
			}
			change_variable = { 
				name = stat_main_tt
				subtract = { 
					value = number_of_maa_regiments
					divide = 5
				}
			}
			set_variable = { 
				name = stat_main_t
				value = 0.001
			}
			every_in_list = { 
				variable = stat_main_t
				prev = { 
					change_variable = { 
						name = stat_main_t
						add = prev.var:pop_total
					}
				}
			}
			every_in_list = { 
				variable = stat_main_t
				set_variable = { 
					name = stat_main_t
					value = var:pop_total
				}
				change_variable = { 
					name = stat_main_t
					multiply = 100
				}
				change_variable = { 
					name = stat_main_t
					divide = prev.var:stat_main_t
				}
				set_variable = { 
					name = stat_main_tt
					value = var:stat_main_t
				}
				change_variable = { 
					name = stat_main_tt
					multiply = prev.var:stat_main_tt
				}
				change_variable = { 
					name = stat_main_tt
					divide = 10
				}
				set_variable = { 
					name = stat_main_ttt
					value = var:stat_main_tt
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_5242.88
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 5242.88
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 5242.88
						}
					}
					else = { 
						remove_province_modifier = stat_levy_5242.88
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 5242.88
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 5242.88
						}
						add_province_modifier = stat_levy_5242.88
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_2621.44
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 2621.44
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 2621.44
						}
					}
					else = { 
						remove_province_modifier = stat_levy_2621.44
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 2621.44
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 2621.44
						}
						add_province_modifier = stat_levy_2621.44
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_1310.72
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 1310.72
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 1310.72
						}
					}
					else = { 
						remove_province_modifier = stat_levy_1310.72
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 1310.72
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 1310.72
						}
						add_province_modifier = stat_levy_1310.72
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_655.36
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 655.36
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 655.36
						}
					}
					else = { 
						remove_province_modifier = stat_levy_655.36
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 655.36
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 655.36
						}
						add_province_modifier = stat_levy_655.36
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_327.68
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 327.68
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 327.68
						}
					}
					else = { 
						remove_province_modifier = stat_levy_327.68
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 327.68
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 327.68
						}
						add_province_modifier = stat_levy_327.68
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_163.84
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 163.84
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 163.84
						}
					}
					else = { 
						remove_province_modifier = stat_levy_163.84
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 163.84
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 163.84
						}
						add_province_modifier = stat_levy_163.84
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_81.92
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 81.92
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 81.92
						}
					}
					else = { 
						remove_province_modifier = stat_levy_81.92
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 81.92
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 81.92
						}
						add_province_modifier = stat_levy_81.92
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_40.96
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 40.96
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 40.96
						}
					}
					else = { 
						remove_province_modifier = stat_levy_40.96
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 40.96
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 40.96
						}
						add_province_modifier = stat_levy_40.96
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_20.48
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 20.48
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 20.48
						}
					}
					else = { 
						remove_province_modifier = stat_levy_20.48
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 20.48
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 20.48
						}
						add_province_modifier = stat_levy_20.48
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_10.24
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 10.24
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 10.24
						}
					}
					else = { 
						remove_province_modifier = stat_levy_10.24
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 10.24
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 10.24
						}
						add_province_modifier = stat_levy_10.24
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_5.12
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 5.12
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 5.12
						}
					}
					else = { 
						remove_province_modifier = stat_levy_5.12
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 5.12
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 5.12
						}
						add_province_modifier = stat_levy_5.12
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_2.56
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 2.56
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 2.56
						}
					}
					else = { 
						remove_province_modifier = stat_levy_2.56
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 2.56
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 2.56
						}
						add_province_modifier = stat_levy_2.56
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_1.28
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 1.28
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 1.28
						}
					}
					else = { 
						remove_province_modifier = stat_levy_1.28
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 1.28
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 1.28
						}
						add_province_modifier = stat_levy_1.28
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.64
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.64
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.64
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.64
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.64
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.64
						}
						add_province_modifier = stat_levy_0.64
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.32
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.32
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.32
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.32
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.32
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.32
						}
						add_province_modifier = stat_levy_0.32
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.16
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.16
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.16
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.16
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.16
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.16
						}
						add_province_modifier = stat_levy_0.16
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.08
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.08
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.08
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.08
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.08
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.08
						}
						add_province_modifier = stat_levy_0.08
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.04
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.04
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.04
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.04
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.04
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.04
						}
						add_province_modifier = stat_levy_0.04
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.02
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.02
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.02
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.02
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.02
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.02
						}
						add_province_modifier = stat_levy_0.02
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_levy_0.01
					}
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.01
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.01
						}
					}
					else = { 
						remove_province_modifier = stat_levy_0.01
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_tt
							var:stat_main_tt >= 0.01
						}
						change_variable = { 
							name = stat_main_tt
							subtract = 0.01
						}
						add_province_modifier = stat_levy_0.01
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_5242.88
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 5242.88
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 5242.88
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_5242.88
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 5242.88
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 5242.88
						}
						add_province_modifier = stat_garrison_5242.88
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_2621.44
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 2621.44
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 2621.44
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_2621.44
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 2621.44
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 2621.44
						}
						add_province_modifier = stat_garrison_2621.44
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_1310.72
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 1310.72
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 1310.72
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_1310.72
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 1310.72
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 1310.72
						}
						add_province_modifier = stat_garrison_1310.72
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_655.36
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 655.36
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 655.36
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_655.36
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 655.36
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 655.36
						}
						add_province_modifier = stat_garrison_655.36
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_327.68
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 327.68
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 327.68
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_327.68
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 327.68
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 327.68
						}
						add_province_modifier = stat_garrison_327.68
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_163.84
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 163.84
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 163.84
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_163.84
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 163.84
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 163.84
						}
						add_province_modifier = stat_garrison_163.84
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_81.92
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 81.92
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 81.92
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_81.92
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 81.92
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 81.92
						}
						add_province_modifier = stat_garrison_81.92
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_40.96
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 40.96
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 40.96
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_40.96
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 40.96
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 40.96
						}
						add_province_modifier = stat_garrison_40.96
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_20.48
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 20.48
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 20.48
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_20.48
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 20.48
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 20.48
						}
						add_province_modifier = stat_garrison_20.48
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_10.24
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 10.24
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 10.24
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_10.24
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 10.24
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 10.24
						}
						add_province_modifier = stat_garrison_10.24
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_5.12
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 5.12
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 5.12
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_5.12
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 5.12
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 5.12
						}
						add_province_modifier = stat_garrison_5.12
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_2.56
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 2.56
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 2.56
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_2.56
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 2.56
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 2.56
						}
						add_province_modifier = stat_garrison_2.56
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_1.28
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 1.28
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 1.28
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_1.28
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 1.28
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 1.28
						}
						add_province_modifier = stat_garrison_1.28
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.64
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.64
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.64
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.64
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.64
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.64
						}
						add_province_modifier = stat_garrison_0.64
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.32
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.32
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.32
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.32
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.32
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.32
						}
						add_province_modifier = stat_garrison_0.32
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.16
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.16
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.16
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.16
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.16
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.16
						}
						add_province_modifier = stat_garrison_0.16
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.08
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.08
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.08
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.08
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.08
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.08
						}
						add_province_modifier = stat_garrison_0.08
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.04
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.04
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.04
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.04
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.04
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.04
						}
						add_province_modifier = stat_garrison_0.04
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.02
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.02
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.02
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.02
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.02
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.02
						}
						add_province_modifier = stat_garrison_0.02
					}
				}
				if = { 
					limit = { 
						has_province_modifier = stat_garrison_0.01
					}
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.01
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.01
						}
					}
					else = { 
						remove_province_modifier = stat_garrison_0.01
					}
				}
				else = { 
					if = { 
						limit = { 
							has_variable = stat_main_ttt
							var:stat_main_ttt >= 0.01
						}
						change_variable = { 
							name = stat_main_ttt
							subtract = 0.01
						}
						add_province_modifier = stat_garrison_0.01
					}
				}
				remove_variable = stat_main_t
				remove_variable = stat_main_tt
				remove_variable = stat_main_ttt
			}
			clear_variable_list = stat_main_t
			remove_variable = stat_main_t
			remove_variable = stat_main_tt
		}
		clear_global_variable_list = stat_main_t
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
				OR = { 
					is_ai = yes
					has_global_variable = sim_i
				}
			}
			every_sub_realm_barony = { 
				limit = { 
					title_province = { 
						is_valid_prov = yes
						is_city = yes
					}
					OR = { 
						holder = prev
						holder.liege = prev
					}
				}
				title_province = { 
					set_variable = { 
						name = realm_tax_rate
						value = var:realm_suppression
					}
					set_variable = { 
						name = realm_levy_rate
						value = var:realm_suppression
					}
					change_variable = { 
						name = realm_tax_rate
						divide = 100
					}
					change_variable = { 
						name = realm_levy_rate
						divide = 100
					}
				}
			}
			every_held_title = { 
				limit = { 
					is_leased_out = yes
				}
				lessee = { 
					set_variable = { 
						name = realm_tax_rate
						value = var:realm_suppression
					}
					set_variable = { 
						name = realm_levy_rate
						value = var:realm_suppression
					}
					change_variable = { 
						name = realm_tax_rate
						divide = 100
					}
					change_variable = { 
						name = realm_levy_rate
						divide = 100
					}
				}
			}
			every_vassal = { 
				limit = { 
					is_character = yes
					is_landed = yes
				}
				set_variable = { 
					name = realm_tax_rate
					value = var:realm_suppression
				}
				set_variable = { 
					name = realm_levy_rate
					value = var:realm_suppression
				}
				change_variable = { 
					name = realm_tax_rate
					divide = 100
				}
				change_variable = { 
					name = realm_levy_rate
					divide = 100
				}
			}
		}
	}
	option = { }
}
census.13 = { 
	type = empty
	hidden = yes
	immediate = { }
	option = { }
}
census.99 = { 
	type = empty
	hidden = yes
	immediate = { 
		every_province = { 
			limit = { 
				is_valid_prov = yes
				is_city = yes
				OR = { 
					province_owner.capital_province = this
					AND = { 
						has_variable = workshop_total
						var:workshop_total > 1
					}
				}
			}
			set_variable = { 
				name = realm_privilege
				value = 0
			}
			if = { 
				limit = { 
					province_owner.capital_province = this
				}
				change_variable = { 
					name = realm_privilege
					add = 1
				}
			}
			if = { 
				limit = { 
					has_variable = workshop_total
					var:workshop_total > 1
				}
				change_variable = { 
					name = realm_privilege
					add = 1
				}
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = init_main_t
				value = 0
			}
			every_sub_realm_barony = { 
				limit = { 
					title_province = { 
						is_valid_prov = yes
						is_city = yes
					}
				}
				prev = { 
					change_variable = { 
						name = init_main_t
						add = prev.title_province.var:pop_total
					}
				}
			}
			every_vassal = { 
				limit = { 
					is_character = yes
					is_landed = yes
				}
				set_variable = { 
					name = init_main_t
					value = 0
				}
				every_sub_realm_barony = { 
					limit = { 
						title_province = { 
							is_valid_prov = yes
							is_city = yes
						}
					}
					prev = { 
						change_variable = { 
							name = init_main_t
							add = prev.title_province.var:pop_total
						}
					}
				}
				change_variable = { 
					name = init_main_t
					divide = prev.var:init_main_t
				}
				set_variable = { 
					name = realm_privilege
					value = 0
				}
				while = { 
					limit = { 
						has_variable = init_main_t
						var:init_main_t >= 0.1
					}
					change_variable = { 
						name = realm_privilege
						add = 1
					}
					change_variable = { 
						name = init_main_t
						subtract = 0.1
					}
					change_variable = { 
						name = init_main_t
						divide = 2
					}
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = realm_privilege
							}
							var:realm_privilege = 0
						}
					}
					remove_variable = realm_privilege
				}
				remove_variable = init_main_t
			}
			remove_variable = init_main_t
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			save_temporary_scope_as = setup_rulers_t
			set_variable = { 
				name = is_character
				value = 1
			}
			capital_province = { 
				every_in_list = { 
					variable = trade_dat_food
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_food
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_food
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_food
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_food
						value = prev.var:trade_has_food
					}
					set_variable = { 
						name = trade_want_food
						value = prev.var:trade_want_food
					}
					set_variable = { 
						name = trade_in_food
						value = prev.var:trade_in_food
					}
					set_variable = { 
						name = trade_out_food
						value = prev.var:trade_out_food
					}
					set_variable = { 
						name = trade_earn_food
						value = prev.var:trade_earn_food
					}
					set_variable = { 
						name = trade_pay_food
						value = prev.var:trade_pay_food
					}
					set_variable = { 
						name = trade_sply_food
						value = prev.var:trade_sply_food
					}
					set_variable = { 
						name = trade_dmnd_food
						value = prev.var:trade_dmnd_food
					}
					set_variable = { 
						name = trade_price_food
						value = prev.var:trade_price_food
					}
				}
				every_in_list = { 
					variable = trade_dat_cereal
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_cereal
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_cereal
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_cereal
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_cereal
						value = prev.var:trade_has_cereal
					}
					set_variable = { 
						name = trade_want_cereal
						value = prev.var:trade_want_cereal
					}
					set_variable = { 
						name = trade_in_cereal
						value = prev.var:trade_in_cereal
					}
					set_variable = { 
						name = trade_out_cereal
						value = prev.var:trade_out_cereal
					}
					set_variable = { 
						name = trade_earn_cereal
						value = prev.var:trade_earn_cereal
					}
					set_variable = { 
						name = trade_pay_cereal
						value = prev.var:trade_pay_cereal
					}
					set_variable = { 
						name = trade_sply_cereal
						value = prev.var:trade_sply_cereal
					}
					set_variable = { 
						name = trade_dmnd_cereal
						value = prev.var:trade_dmnd_cereal
					}
					set_variable = { 
						name = trade_price_cereal
						value = prev.var:trade_price_cereal
					}
				}
				every_in_list = { 
					variable = trade_dat_salted
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_salted
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_salted
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_salted
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_salted
						value = prev.var:trade_has_salted
					}
					set_variable = { 
						name = trade_want_salted
						value = prev.var:trade_want_salted
					}
					set_variable = { 
						name = trade_in_salted
						value = prev.var:trade_in_salted
					}
					set_variable = { 
						name = trade_out_salted
						value = prev.var:trade_out_salted
					}
					set_variable = { 
						name = trade_earn_salted
						value = prev.var:trade_earn_salted
					}
					set_variable = { 
						name = trade_pay_salted
						value = prev.var:trade_pay_salted
					}
					set_variable = { 
						name = trade_sply_salted
						value = prev.var:trade_sply_salted
					}
					set_variable = { 
						name = trade_dmnd_salted
						value = prev.var:trade_dmnd_salted
					}
					set_variable = { 
						name = trade_price_salted
						value = prev.var:trade_price_salted
					}
				}
				every_in_list = { 
					variable = trade_dat_salt
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_salt
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_salt
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_salt
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_salt
						value = prev.var:trade_has_salt
					}
					set_variable = { 
						name = trade_want_salt
						value = prev.var:trade_want_salt
					}
					set_variable = { 
						name = trade_in_salt
						value = prev.var:trade_in_salt
					}
					set_variable = { 
						name = trade_out_salt
						value = prev.var:trade_out_salt
					}
					set_variable = { 
						name = trade_earn_salt
						value = prev.var:trade_earn_salt
					}
					set_variable = { 
						name = trade_pay_salt
						value = prev.var:trade_pay_salt
					}
					set_variable = { 
						name = trade_sply_salt
						value = prev.var:trade_sply_salt
					}
					set_variable = { 
						name = trade_dmnd_salt
						value = prev.var:trade_dmnd_salt
					}
					set_variable = { 
						name = trade_price_salt
						value = prev.var:trade_price_salt
					}
				}
				every_in_list = { 
					variable = trade_dat_mud
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_mud
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_mud
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_mud
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_mud
						value = prev.var:trade_has_mud
					}
					set_variable = { 
						name = trade_want_mud
						value = prev.var:trade_want_mud
					}
					set_variable = { 
						name = trade_in_mud
						value = prev.var:trade_in_mud
					}
					set_variable = { 
						name = trade_out_mud
						value = prev.var:trade_out_mud
					}
					set_variable = { 
						name = trade_earn_mud
						value = prev.var:trade_earn_mud
					}
					set_variable = { 
						name = trade_pay_mud
						value = prev.var:trade_pay_mud
					}
					set_variable = { 
						name = trade_sply_mud
						value = prev.var:trade_sply_mud
					}
					set_variable = { 
						name = trade_dmnd_mud
						value = prev.var:trade_dmnd_mud
					}
					set_variable = { 
						name = trade_price_mud
						value = prev.var:trade_price_mud
					}
				}
				every_in_list = { 
					variable = trade_dat_fuel
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_fuel
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_fuel
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_fuel
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_fuel
						value = prev.var:trade_has_fuel
					}
					set_variable = { 
						name = trade_want_fuel
						value = prev.var:trade_want_fuel
					}
					set_variable = { 
						name = trade_in_fuel
						value = prev.var:trade_in_fuel
					}
					set_variable = { 
						name = trade_out_fuel
						value = prev.var:trade_out_fuel
					}
					set_variable = { 
						name = trade_earn_fuel
						value = prev.var:trade_earn_fuel
					}
					set_variable = { 
						name = trade_pay_fuel
						value = prev.var:trade_pay_fuel
					}
					set_variable = { 
						name = trade_sply_fuel
						value = prev.var:trade_sply_fuel
					}
					set_variable = { 
						name = trade_dmnd_fuel
						value = prev.var:trade_dmnd_fuel
					}
					set_variable = { 
						name = trade_price_fuel
						value = prev.var:trade_price_fuel
					}
				}
				every_in_list = { 
					variable = trade_dat_fiber
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_fiber
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_fiber
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_fiber
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_fiber
						value = prev.var:trade_has_fiber
					}
					set_variable = { 
						name = trade_want_fiber
						value = prev.var:trade_want_fiber
					}
					set_variable = { 
						name = trade_in_fiber
						value = prev.var:trade_in_fiber
					}
					set_variable = { 
						name = trade_out_fiber
						value = prev.var:trade_out_fiber
					}
					set_variable = { 
						name = trade_earn_fiber
						value = prev.var:trade_earn_fiber
					}
					set_variable = { 
						name = trade_pay_fiber
						value = prev.var:trade_pay_fiber
					}
					set_variable = { 
						name = trade_sply_fiber
						value = prev.var:trade_sply_fiber
					}
					set_variable = { 
						name = trade_dmnd_fiber
						value = prev.var:trade_dmnd_fiber
					}
					set_variable = { 
						name = trade_price_fiber
						value = prev.var:trade_price_fiber
					}
				}
				every_in_list = { 
					variable = trade_dat_timber
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_timber
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_timber
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_timber
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_timber
						value = prev.var:trade_has_timber
					}
					set_variable = { 
						name = trade_want_timber
						value = prev.var:trade_want_timber
					}
					set_variable = { 
						name = trade_in_timber
						value = prev.var:trade_in_timber
					}
					set_variable = { 
						name = trade_out_timber
						value = prev.var:trade_out_timber
					}
					set_variable = { 
						name = trade_earn_timber
						value = prev.var:trade_earn_timber
					}
					set_variable = { 
						name = trade_pay_timber
						value = prev.var:trade_pay_timber
					}
					set_variable = { 
						name = trade_sply_timber
						value = prev.var:trade_sply_timber
					}
					set_variable = { 
						name = trade_dmnd_timber
						value = prev.var:trade_dmnd_timber
					}
					set_variable = { 
						name = trade_price_timber
						value = prev.var:trade_price_timber
					}
				}
				every_in_list = { 
					variable = trade_dat_metal
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_metal
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_metal
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_metal
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_metal
						value = prev.var:trade_has_metal
					}
					set_variable = { 
						name = trade_want_metal
						value = prev.var:trade_want_metal
					}
					set_variable = { 
						name = trade_in_metal
						value = prev.var:trade_in_metal
					}
					set_variable = { 
						name = trade_out_metal
						value = prev.var:trade_out_metal
					}
					set_variable = { 
						name = trade_earn_metal
						value = prev.var:trade_earn_metal
					}
					set_variable = { 
						name = trade_pay_metal
						value = prev.var:trade_pay_metal
					}
					set_variable = { 
						name = trade_sply_metal
						value = prev.var:trade_sply_metal
					}
					set_variable = { 
						name = trade_dmnd_metal
						value = prev.var:trade_dmnd_metal
					}
					set_variable = { 
						name = trade_price_metal
						value = prev.var:trade_price_metal
					}
				}
				every_in_list = { 
					variable = trade_dat_exotics_w
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_exotics_w
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_exotics_w
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_exotics_w
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_exotics_w
						value = prev.var:trade_has_exotics_w
					}
					set_variable = { 
						name = trade_want_exotics_w
						value = prev.var:trade_want_exotics_w
					}
					set_variable = { 
						name = trade_in_exotics_w
						value = prev.var:trade_in_exotics_w
					}
					set_variable = { 
						name = trade_out_exotics_w
						value = prev.var:trade_out_exotics_w
					}
					set_variable = { 
						name = trade_earn_exotics_w
						value = prev.var:trade_earn_exotics_w
					}
					set_variable = { 
						name = trade_pay_exotics_w
						value = prev.var:trade_pay_exotics_w
					}
					set_variable = { 
						name = trade_sply_exotics_w
						value = prev.var:trade_sply_exotics_w
					}
					set_variable = { 
						name = trade_dmnd_exotics_w
						value = prev.var:trade_dmnd_exotics_w
					}
					set_variable = { 
						name = trade_price_exotics_w
						value = prev.var:trade_price_exotics_w
					}
				}
				every_in_list = { 
					variable = trade_dat_exotics_e
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_exotics_e
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_exotics_e
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_exotics_e
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_exotics_e
						value = prev.var:trade_has_exotics_e
					}
					set_variable = { 
						name = trade_want_exotics_e
						value = prev.var:trade_want_exotics_e
					}
					set_variable = { 
						name = trade_in_exotics_e
						value = prev.var:trade_in_exotics_e
					}
					set_variable = { 
						name = trade_out_exotics_e
						value = prev.var:trade_out_exotics_e
					}
					set_variable = { 
						name = trade_earn_exotics_e
						value = prev.var:trade_earn_exotics_e
					}
					set_variable = { 
						name = trade_pay_exotics_e
						value = prev.var:trade_pay_exotics_e
					}
					set_variable = { 
						name = trade_sply_exotics_e
						value = prev.var:trade_sply_exotics_e
					}
					set_variable = { 
						name = trade_dmnd_exotics_e
						value = prev.var:trade_dmnd_exotics_e
					}
					set_variable = { 
						name = trade_price_exotics_e
						value = prev.var:trade_price_exotics_e
					}
				}
				every_in_list = { 
					variable = trade_dat_exotics_g
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_exotics_g
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_exotics_g
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_exotics_g
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_exotics_g
						value = prev.var:trade_has_exotics_g
					}
					set_variable = { 
						name = trade_want_exotics_g
						value = prev.var:trade_want_exotics_g
					}
					set_variable = { 
						name = trade_in_exotics_g
						value = prev.var:trade_in_exotics_g
					}
					set_variable = { 
						name = trade_out_exotics_g
						value = prev.var:trade_out_exotics_g
					}
					set_variable = { 
						name = trade_earn_exotics_g
						value = prev.var:trade_earn_exotics_g
					}
					set_variable = { 
						name = trade_pay_exotics_g
						value = prev.var:trade_pay_exotics_g
					}
					set_variable = { 
						name = trade_sply_exotics_g
						value = prev.var:trade_sply_exotics_g
					}
					set_variable = { 
						name = trade_dmnd_exotics_g
						value = prev.var:trade_dmnd_exotics_g
					}
					set_variable = { 
						name = trade_price_exotics_g
						value = prev.var:trade_price_exotics_g
					}
				}
				every_in_list = { 
					variable = trade_dat_textile
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_textile
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_textile
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_textile
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_textile
						value = prev.var:trade_has_textile
					}
					set_variable = { 
						name = trade_want_textile
						value = prev.var:trade_want_textile
					}
					set_variable = { 
						name = trade_in_textile
						value = prev.var:trade_in_textile
					}
					set_variable = { 
						name = trade_out_textile
						value = prev.var:trade_out_textile
					}
					set_variable = { 
						name = trade_earn_textile
						value = prev.var:trade_earn_textile
					}
					set_variable = { 
						name = trade_pay_textile
						value = prev.var:trade_pay_textile
					}
					set_variable = { 
						name = trade_sply_textile
						value = prev.var:trade_sply_textile
					}
					set_variable = { 
						name = trade_dmnd_textile
						value = prev.var:trade_dmnd_textile
					}
					set_variable = { 
						name = trade_price_textile
						value = prev.var:trade_price_textile
					}
				}
				every_in_list = { 
					variable = trade_dat_pottery
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_pottery
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_pottery
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_pottery
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_pottery
						value = prev.var:trade_has_pottery
					}
					set_variable = { 
						name = trade_want_pottery
						value = prev.var:trade_want_pottery
					}
					set_variable = { 
						name = trade_in_pottery
						value = prev.var:trade_in_pottery
					}
					set_variable = { 
						name = trade_out_pottery
						value = prev.var:trade_out_pottery
					}
					set_variable = { 
						name = trade_earn_pottery
						value = prev.var:trade_earn_pottery
					}
					set_variable = { 
						name = trade_pay_pottery
						value = prev.var:trade_pay_pottery
					}
					set_variable = { 
						name = trade_sply_pottery
						value = prev.var:trade_sply_pottery
					}
					set_variable = { 
						name = trade_dmnd_pottery
						value = prev.var:trade_dmnd_pottery
					}
					set_variable = { 
						name = trade_price_pottery
						value = prev.var:trade_price_pottery
					}
				}
				every_in_list = { 
					variable = trade_dat_tools
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_tools
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_tools
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_tools
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_tools
						value = prev.var:trade_has_tools
					}
					set_variable = { 
						name = trade_want_tools
						value = prev.var:trade_want_tools
					}
					set_variable = { 
						name = trade_in_tools
						value = prev.var:trade_in_tools
					}
					set_variable = { 
						name = trade_out_tools
						value = prev.var:trade_out_tools
					}
					set_variable = { 
						name = trade_earn_tools
						value = prev.var:trade_earn_tools
					}
					set_variable = { 
						name = trade_pay_tools
						value = prev.var:trade_pay_tools
					}
					set_variable = { 
						name = trade_sply_tools
						value = prev.var:trade_sply_tools
					}
					set_variable = { 
						name = trade_dmnd_tools
						value = prev.var:trade_dmnd_tools
					}
					set_variable = { 
						name = trade_price_tools
						value = prev.var:trade_price_tools
					}
				}
				every_in_list = { 
					variable = trade_dat_armaments
					prev = { 
						add_to_variable_list = { 
							name = trade_dat_armaments
							target = prev
						}
					}
				}
				every_in_list = { 
					variable = array_trade_dat_armaments
					prev = { 
						add_to_variable_list = { 
							name = array_trade_dat_armaments
							target = prev
						}
					}
				}
				prev = { 
					set_variable = { 
						name = trade_has_armaments
						value = prev.var:trade_has_armaments
					}
					set_variable = { 
						name = trade_want_armaments
						value = prev.var:trade_want_armaments
					}
					set_variable = { 
						name = trade_in_armaments
						value = prev.var:trade_in_armaments
					}
					set_variable = { 
						name = trade_out_armaments
						value = prev.var:trade_out_armaments
					}
					set_variable = { 
						name = trade_earn_armaments
						value = prev.var:trade_earn_armaments
					}
					set_variable = { 
						name = trade_pay_armaments
						value = prev.var:trade_pay_armaments
					}
					set_variable = { 
						name = trade_sply_armaments
						value = prev.var:trade_sply_armaments
					}
					set_variable = { 
						name = trade_dmnd_armaments
						value = prev.var:trade_dmnd_armaments
					}
					set_variable = { 
						name = trade_price_armaments
						value = prev.var:trade_price_armaments
					}
				}
				prev = { 
					set_variable = { 
						name = trade_gold
						value = prev.var:trade_gold
					}
					set_variable = { 
						name = mil_mp
						value = prev.var:trade_mp
					}
					set_variable = { 
						name = mil_supply
						value = prev.var:trade_supply
					}
					set_variable = { 
						name = mil_power
						value = prev.var:trade_power
					}
				}
				every_in_list = { 
					variable = task_tasks
					set_variable = { 
						name = task_owner
						value = scope:setup_rulers_t
					}
					set_variable = { 
						name = task_worker
						value = scope:setup_rulers_t
					}
					scope:setup_rulers_t = { 
						add_to_variable_list = { 
							name = task_tasks
							target = prev
						}
					}
				}
				set_variable = { 
					name = setup_rulers_t
					value = 1
				}
				every_in_global_list = { 
					variable = trade_merchants
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_food
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_food
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_food
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_food
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_food
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_food
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_cereal
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_cereal
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_cereal
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_cereal
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_cereal
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_cereal
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_salted
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_salted
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_salted
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_salted
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_salted
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_salted
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_salt
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_salt
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_salt
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_salt
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_salt
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_salt
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_mud
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_mud
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_mud
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_mud
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_mud
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_mud
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_fuel
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_fuel
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_fuel
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_fuel
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_fuel
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_fuel
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_fiber
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_fiber
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_fiber
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_fiber
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_fiber
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_fiber
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_timber
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_timber
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_timber
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_timber
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_timber
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_timber
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_metal
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_metal
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_metal
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_metal
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_metal
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_metal
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_exotics_w
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_exotics_w
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_exotics_w
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_exotics_w
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_exotics_w
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_w
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_exotics_e
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_exotics_e
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_exotics_e
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_exotics_e
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_exotics_e
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_e
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_exotics_g
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_exotics_g
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_exotics_g
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_exotics_g
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_exotics_g
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_exotics_g
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_textile
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_textile
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_textile
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_textile
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_textile
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_textile
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_pottery
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_pottery
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_pottery
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_pottery
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_pottery
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_pottery
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_tools
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_tools
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_tools
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_tools
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_tools
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_tools
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
					set_global_variable = { 
						name = setup_rulers_t
						value = 0
					}
					every_in_list = { 
						variable = trade_dat_armaments
						if = { 
							limit = { 
								has_variable = setup_rulers_t
							}
							prev = { 
								remove_list_variable = { 
									name = trade_dat_armaments
									target = prev
								}
								add_to_variable_list = { 
									name = trade_dat_armaments
									target = scope:setup_rulers_t
								}
								ordered_in_list = { 
									variable = array_trade_dat_armaments
									position = global_var:setup_rulers_t
									prev = { 
										remove_list_variable = { 
											name = array_trade_dat_armaments
											target = prev
										}
										add_to_variable_list = { 
											name = array_trade_dat_armaments
											target = prev
										}
									}
								}
							}
						}
						else = { 
							change_global_variable = { 
								name = setup_rulers_t
								add = 1
							}
						}
					}
				}
				remove_variable = setup_rulers_t
			}
			if = { 
				limit = { 
					has_variable = trade_gold
					var:trade_gold > 0
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 3276.8
					}
					add_gold = 3276.8
					change_variable = { 
						name = trade_gold
						subtract = 3276.8
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 1638.4
					}
					add_gold = 1638.4
					change_variable = { 
						name = trade_gold
						subtract = 1638.4
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 819.2
					}
					add_gold = 819.2
					change_variable = { 
						name = trade_gold
						subtract = 819.2
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 409.6
					}
					add_gold = 409.6
					change_variable = { 
						name = trade_gold
						subtract = 409.6
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 204.8
					}
					add_gold = 204.8
					change_variable = { 
						name = trade_gold
						subtract = 204.8
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 102.4
					}
					add_gold = 102.4
					change_variable = { 
						name = trade_gold
						subtract = 102.4
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 51.2
					}
					add_gold = 51.2
					change_variable = { 
						name = trade_gold
						subtract = 51.2
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 25.6
					}
					add_gold = 25.6
					change_variable = { 
						name = trade_gold
						subtract = 25.6
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 12.8
					}
					add_gold = 12.8
					change_variable = { 
						name = trade_gold
						subtract = 12.8
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 6.4
					}
					add_gold = 6.4
					change_variable = { 
						name = trade_gold
						subtract = 6.4
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 3.2
					}
					add_gold = 3.2
					change_variable = { 
						name = trade_gold
						subtract = 3.2
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 1.6
					}
					add_gold = 1.6
					change_variable = { 
						name = trade_gold
						subtract = 1.6
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 0.8
					}
					add_gold = 0.8
					change_variable = { 
						name = trade_gold
						subtract = 0.8
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 0.4
					}
					add_gold = 0.4
					change_variable = { 
						name = trade_gold
						subtract = 0.4
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 0.2
					}
					add_gold = 0.2
					change_variable = { 
						name = trade_gold
						subtract = 0.2
					}
				}
				if = { 
					limit = { 
						has_variable = trade_gold
						var:trade_gold >= 0.1
					}
					add_gold = 0.1
					change_variable = { 
						name = trade_gold
						subtract = 0.1
					}
				}
			}
			remove_variable = trade_gold
		}
		every_province = { 
			remove_variable = trade_has_food
			remove_variable = trade_want_food
			remove_variable = trade_in_food
			remove_variable = trade_out_food
			remove_variable = trade_earn_food
			remove_variable = trade_pay_food
			remove_variable = trade_sply_food
			remove_variable = trade_dmnd_food
			remove_variable = trade_price_food
			clear_variable_list = trade_dat_food
			clear_variable_list = array_trade_dat_food
			remove_variable = trade_has_cereal
			remove_variable = trade_want_cereal
			remove_variable = trade_in_cereal
			remove_variable = trade_out_cereal
			remove_variable = trade_earn_cereal
			remove_variable = trade_pay_cereal
			remove_variable = trade_sply_cereal
			remove_variable = trade_dmnd_cereal
			remove_variable = trade_price_cereal
			clear_variable_list = trade_dat_cereal
			clear_variable_list = array_trade_dat_cereal
			remove_variable = trade_has_salted
			remove_variable = trade_want_salted
			remove_variable = trade_in_salted
			remove_variable = trade_out_salted
			remove_variable = trade_earn_salted
			remove_variable = trade_pay_salted
			remove_variable = trade_sply_salted
			remove_variable = trade_dmnd_salted
			remove_variable = trade_price_salted
			clear_variable_list = trade_dat_salted
			clear_variable_list = array_trade_dat_salted
			remove_variable = trade_has_salt
			remove_variable = trade_want_salt
			remove_variable = trade_in_salt
			remove_variable = trade_out_salt
			remove_variable = trade_earn_salt
			remove_variable = trade_pay_salt
			remove_variable = trade_sply_salt
			remove_variable = trade_dmnd_salt
			remove_variable = trade_price_salt
			clear_variable_list = trade_dat_salt
			clear_variable_list = array_trade_dat_salt
			remove_variable = trade_has_mud
			remove_variable = trade_want_mud
			remove_variable = trade_in_mud
			remove_variable = trade_out_mud
			remove_variable = trade_earn_mud
			remove_variable = trade_pay_mud
			remove_variable = trade_sply_mud
			remove_variable = trade_dmnd_mud
			remove_variable = trade_price_mud
			clear_variable_list = trade_dat_mud
			clear_variable_list = array_trade_dat_mud
			remove_variable = trade_has_fuel
			remove_variable = trade_want_fuel
			remove_variable = trade_in_fuel
			remove_variable = trade_out_fuel
			remove_variable = trade_earn_fuel
			remove_variable = trade_pay_fuel
			remove_variable = trade_sply_fuel
			remove_variable = trade_dmnd_fuel
			remove_variable = trade_price_fuel
			clear_variable_list = trade_dat_fuel
			clear_variable_list = array_trade_dat_fuel
			remove_variable = trade_has_fiber
			remove_variable = trade_want_fiber
			remove_variable = trade_in_fiber
			remove_variable = trade_out_fiber
			remove_variable = trade_earn_fiber
			remove_variable = trade_pay_fiber
			remove_variable = trade_sply_fiber
			remove_variable = trade_dmnd_fiber
			remove_variable = trade_price_fiber
			clear_variable_list = trade_dat_fiber
			clear_variable_list = array_trade_dat_fiber
			remove_variable = trade_has_timber
			remove_variable = trade_want_timber
			remove_variable = trade_in_timber
			remove_variable = trade_out_timber
			remove_variable = trade_earn_timber
			remove_variable = trade_pay_timber
			remove_variable = trade_sply_timber
			remove_variable = trade_dmnd_timber
			remove_variable = trade_price_timber
			clear_variable_list = trade_dat_timber
			clear_variable_list = array_trade_dat_timber
			remove_variable = trade_has_metal
			remove_variable = trade_want_metal
			remove_variable = trade_in_metal
			remove_variable = trade_out_metal
			remove_variable = trade_earn_metal
			remove_variable = trade_pay_metal
			remove_variable = trade_sply_metal
			remove_variable = trade_dmnd_metal
			remove_variable = trade_price_metal
			clear_variable_list = trade_dat_metal
			clear_variable_list = array_trade_dat_metal
			remove_variable = trade_has_exotics_w
			remove_variable = trade_want_exotics_w
			remove_variable = trade_in_exotics_w
			remove_variable = trade_out_exotics_w
			remove_variable = trade_earn_exotics_w
			remove_variable = trade_pay_exotics_w
			remove_variable = trade_sply_exotics_w
			remove_variable = trade_dmnd_exotics_w
			remove_variable = trade_price_exotics_w
			clear_variable_list = trade_dat_exotics_w
			clear_variable_list = array_trade_dat_exotics_w
			remove_variable = trade_has_exotics_e
			remove_variable = trade_want_exotics_e
			remove_variable = trade_in_exotics_e
			remove_variable = trade_out_exotics_e
			remove_variable = trade_earn_exotics_e
			remove_variable = trade_pay_exotics_e
			remove_variable = trade_sply_exotics_e
			remove_variable = trade_dmnd_exotics_e
			remove_variable = trade_price_exotics_e
			clear_variable_list = trade_dat_exotics_e
			clear_variable_list = array_trade_dat_exotics_e
			remove_variable = trade_has_exotics_g
			remove_variable = trade_want_exotics_g
			remove_variable = trade_in_exotics_g
			remove_variable = trade_out_exotics_g
			remove_variable = trade_earn_exotics_g
			remove_variable = trade_pay_exotics_g
			remove_variable = trade_sply_exotics_g
			remove_variable = trade_dmnd_exotics_g
			remove_variable = trade_price_exotics_g
			clear_variable_list = trade_dat_exotics_g
			clear_variable_list = array_trade_dat_exotics_g
			remove_variable = trade_has_textile
			remove_variable = trade_want_textile
			remove_variable = trade_in_textile
			remove_variable = trade_out_textile
			remove_variable = trade_earn_textile
			remove_variable = trade_pay_textile
			remove_variable = trade_sply_textile
			remove_variable = trade_dmnd_textile
			remove_variable = trade_price_textile
			clear_variable_list = trade_dat_textile
			clear_variable_list = array_trade_dat_textile
			remove_variable = trade_has_pottery
			remove_variable = trade_want_pottery
			remove_variable = trade_in_pottery
			remove_variable = trade_out_pottery
			remove_variable = trade_earn_pottery
			remove_variable = trade_pay_pottery
			remove_variable = trade_sply_pottery
			remove_variable = trade_dmnd_pottery
			remove_variable = trade_price_pottery
			clear_variable_list = trade_dat_pottery
			clear_variable_list = array_trade_dat_pottery
			remove_variable = trade_has_tools
			remove_variable = trade_want_tools
			remove_variable = trade_in_tools
			remove_variable = trade_out_tools
			remove_variable = trade_earn_tools
			remove_variable = trade_pay_tools
			remove_variable = trade_sply_tools
			remove_variable = trade_dmnd_tools
			remove_variable = trade_price_tools
			clear_variable_list = trade_dat_tools
			clear_variable_list = array_trade_dat_tools
			remove_variable = trade_has_armaments
			remove_variable = trade_want_armaments
			remove_variable = trade_in_armaments
			remove_variable = trade_out_armaments
			remove_variable = trade_earn_armaments
			remove_variable = trade_pay_armaments
			remove_variable = trade_sply_armaments
			remove_variable = trade_dmnd_armaments
			remove_variable = trade_price_armaments
			clear_variable_list = trade_dat_armaments
			clear_variable_list = array_trade_dat_armaments
			remove_variable = trade_gold
			remove_variable = trade_mp
			remove_variable = trade_supply
			remove_variable = trade_power
			clear_variable_list = task_tasks
		}
		every_county = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = modi_prod_dmnd_food
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_food
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_food
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_food
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_cereal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_cereal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_cereal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_cereal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salted
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salted
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salted
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salted
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_salt
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_salt
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_salt
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_salt
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_mud
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_mud
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_mud
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_mud
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fuel
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fuel
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fuel
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fuel
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_fiber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_fiber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_fiber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_fiber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_timber
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_timber
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_timber
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_timber
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_metal
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_metal
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_metal
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_metal
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_w
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_w
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_w
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_e
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_e
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_e
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_exotics_g
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_exotics_g
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_exotics_g
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_textile
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_textile
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_textile
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_textile
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_pottery
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_pottery
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_pottery
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_pottery
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_tools
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_tools
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_tools
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_tools
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_prod_dmnd_armaments
				value = 1
			}
			set_variable = { 
				name = modi_prod_sply_armaments
				value = 1
			}
			change_variable = { 
				name = modi_prod_dmnd_armaments
				multiply = var:prod_effic
			}
			change_variable = { 
				name = modi_prod_sply_armaments
				multiply = var:prod_effic
			}
			set_variable = { 
				name = modi_pop_calorie
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_calorie_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_nutrient_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_comfort_armaments
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_food
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_cereal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salted
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_salt
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_mud
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fuel
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_fiber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_timber
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_metal
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_textile
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_pottery
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_tools
				value = 1
			}
			set_variable = { 
				name = modi_pop_luxury_armaments
				value = 1
			}
		}
		every_ruler = { 
			limit = { 
				is_character = yes
				is_landed = yes
			}
			set_variable = { 
				name = modi_mil_supply_food
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_cereal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salted
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_salt
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_mud
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fuel
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_fiber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_timber
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_metal
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_w
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_e
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_exotics_g
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_textile
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_pottery
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_tools
				value = 1
			}
			set_variable = { 
				name = modi_mil_supply_armaments
				value = 1
			}
		}
		set_global_variable = { 
			name = sim_i
			value = 1
		}
		set_variable = { 
			name = sim_ii
			value = 5
		}
		while = { 
			limit = { 
				has_variable = sim_ii
				var:sim_ii > 0
			}
			change_variable = { 
				name = sim_ii
				subtract = 1
			}
			trigger_event = { 
				id = census.01
			}
			trigger_event = { 
				id = census.02
			}
			trigger_event = { 
				id = census.03
			}
			trigger_event = { 
				id = census.04
			}
			trigger_event = { 
				id = census.06
			}
			trigger_event = { 
				id = census.07
			}
			trigger_event = { 
				id = census.08
			}
			trigger_event = { 
				id = census.09
			}
			trigger_event = { 
				id = census.10
			}
			trigger_event = { 
				id = census.11
			}
			set_variable = { 
				name = sim_t
				value = 12
			}
			while = { 
				limit = { 
					has_variable = sim_t
					var:sim_t > 0
				}
				change_variable = { 
					name = sim_t
					subtract = 1
				}
				trigger_event = { 
					id = census.12
				}
				every_province = { 
					limit = { 
						is_valid_prov = yes
						is_city = yes
					}
					change_variable = { 
						name = pop_wealth
						subtract = var:realm_tax_pay
					}
					if = { 
						limit = { 
							barony = { 
								OR = { 
									is_leased_out = yes
									NOT = { 
										de_facto_liege.holder = holder
									}
								}
							}
						}
						change_variable = { 
							name = pop_wealth
							add = { 
								value = var:realm_tax_pay
								divide = 2
							}
						}
					}
				}
				every_ruler = { 
					limit = { 
						is_character = yes
						is_landed = yes
					}
					set_variable = { 
						name = sim_balance
						value = monthly_character_balance
					}
					if = { 
						limit = { 
							has_variable = sim_balance
							var:sim_balance > 0
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 3276.8
							}
							add_gold = 3276.8
							change_variable = { 
								name = sim_balance
								subtract = 3276.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 1638.4
							}
							add_gold = 1638.4
							change_variable = { 
								name = sim_balance
								subtract = 1638.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 819.2
							}
							add_gold = 819.2
							change_variable = { 
								name = sim_balance
								subtract = 819.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 409.6
							}
							add_gold = 409.6
							change_variable = { 
								name = sim_balance
								subtract = 409.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 204.8
							}
							add_gold = 204.8
							change_variable = { 
								name = sim_balance
								subtract = 204.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 102.4
							}
							add_gold = 102.4
							change_variable = { 
								name = sim_balance
								subtract = 102.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 51.2
							}
							add_gold = 51.2
							change_variable = { 
								name = sim_balance
								subtract = 51.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 25.6
							}
							add_gold = 25.6
							change_variable = { 
								name = sim_balance
								subtract = 25.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 12.8
							}
							add_gold = 12.8
							change_variable = { 
								name = sim_balance
								subtract = 12.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 6.4
							}
							add_gold = 6.4
							change_variable = { 
								name = sim_balance
								subtract = 6.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 3.2
							}
							add_gold = 3.2
							change_variable = { 
								name = sim_balance
								subtract = 3.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 1.6
							}
							add_gold = 1.6
							change_variable = { 
								name = sim_balance
								subtract = 1.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.8
							}
							add_gold = 0.8
							change_variable = { 
								name = sim_balance
								subtract = 0.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.4
							}
							add_gold = 0.4
							change_variable = { 
								name = sim_balance
								subtract = 0.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.2
							}
							add_gold = 0.2
							change_variable = { 
								name = sim_balance
								subtract = 0.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.1
							}
							add_gold = 0.1
							change_variable = { 
								name = sim_balance
								subtract = 0.1
							}
						}
					}
					else = { 
						change_variable = { 
							name = sim_balance
							multiply = -1
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 3276.8
							}
							remove_short_term_gold = 3276.8
							change_variable = { 
								name = sim_balance
								subtract = 3276.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 1638.4
							}
							remove_short_term_gold = 1638.4
							change_variable = { 
								name = sim_balance
								subtract = 1638.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 819.2
							}
							remove_short_term_gold = 819.2
							change_variable = { 
								name = sim_balance
								subtract = 819.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 409.6
							}
							remove_short_term_gold = 409.6
							change_variable = { 
								name = sim_balance
								subtract = 409.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 204.8
							}
							remove_short_term_gold = 204.8
							change_variable = { 
								name = sim_balance
								subtract = 204.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 102.4
							}
							remove_short_term_gold = 102.4
							change_variable = { 
								name = sim_balance
								subtract = 102.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 51.2
							}
							remove_short_term_gold = 51.2
							change_variable = { 
								name = sim_balance
								subtract = 51.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 25.6
							}
							remove_short_term_gold = 25.6
							change_variable = { 
								name = sim_balance
								subtract = 25.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 12.8
							}
							remove_short_term_gold = 12.8
							change_variable = { 
								name = sim_balance
								subtract = 12.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 6.4
							}
							remove_short_term_gold = 6.4
							change_variable = { 
								name = sim_balance
								subtract = 6.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 3.2
							}
							remove_short_term_gold = 3.2
							change_variable = { 
								name = sim_balance
								subtract = 3.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 1.6
							}
							remove_short_term_gold = 1.6
							change_variable = { 
								name = sim_balance
								subtract = 1.6
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.8
							}
							remove_short_term_gold = 0.8
							change_variable = { 
								name = sim_balance
								subtract = 0.8
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.4
							}
							remove_short_term_gold = 0.4
							change_variable = { 
								name = sim_balance
								subtract = 0.4
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.2
							}
							remove_short_term_gold = 0.2
							change_variable = { 
								name = sim_balance
								subtract = 0.2
							}
						}
						if = { 
							limit = { 
								has_variable = sim_balance
								var:sim_balance >= 0.1
							}
							remove_short_term_gold = 0.1
							change_variable = { 
								name = sim_balance
								subtract = 0.1
							}
						}
					}
					remove_variable = sim_balance
				}
			}
			remove_variable = sim_t
		}
		remove_global_variable = sim_i
		remove_variable = sim_ii
		remove_global_variable = setup_rulers_t
	}
	option = { }
}
