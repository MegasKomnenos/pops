every_province = { 
	limit = { 
		is_valid_prov = yes
	}
	every_in_list = { 
		variable = prod_instances
		prev = { 
			if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_0
					}
				}
				set_variable = { 
					name = prod_slot_0
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_1
					}
				}
				set_variable = { 
					name = prod_slot_1
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_2
					}
				}
				set_variable = { 
					name = prod_slot_2
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_3
					}
				}
				set_variable = { 
					name = prod_slot_3
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_4
					}
				}
				set_variable = { 
					name = prod_slot_4
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_5
					}
				}
				set_variable = { 
					name = prod_slot_5
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_6
					}
				}
				set_variable = { 
					name = prod_slot_6
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_7
					}
				}
				set_variable = { 
					name = prod_slot_7
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_8
					}
				}
				set_variable = { 
					name = prod_slot_8
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_9
					}
				}
				set_variable = { 
					name = prod_slot_9
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_10
					}
				}
				set_variable = { 
					name = prod_slot_10
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_11
					}
				}
				set_variable = { 
					name = prod_slot_11
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_12
					}
				}
				set_variable = { 
					name = prod_slot_12
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_13
					}
				}
				set_variable = { 
					name = prod_slot_13
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_14
					}
				}
				set_variable = { 
					name = prod_slot_14
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_15
					}
				}
				set_variable = { 
					name = prod_slot_15
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_16
					}
				}
				set_variable = { 
					name = prod_slot_16
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_17
					}
				}
				set_variable = { 
					name = prod_slot_17
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_18
					}
				}
				set_variable = { 
					name = prod_slot_18
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_19
					}
				}
				set_variable = { 
					name = prod_slot_19
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_20
					}
				}
				set_variable = { 
					name = prod_slot_20
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_21
					}
				}
				set_variable = { 
					name = prod_slot_21
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_22
					}
				}
				set_variable = { 
					name = prod_slot_22
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_23
					}
				}
				set_variable = { 
					name = prod_slot_23
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_24
					}
				}
				set_variable = { 
					name = prod_slot_24
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_25
					}
				}
				set_variable = { 
					name = prod_slot_25
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_26
					}
				}
				set_variable = { 
					name = prod_slot_26
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_27
					}
				}
				set_variable = { 
					name = prod_slot_27
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_28
					}
				}
				set_variable = { 
					name = prod_slot_28
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = prod_slot_29
					}
				}
				set_variable = { 
					name = prod_slot_29
					value = prev
				}
			}
		}
	}
	every_in_list = { 
		variable = build_slots
		prev = { 
			if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_0
					}
				}
				set_variable = { 
					name = build_slot_0
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_1
					}
				}
				set_variable = { 
					name = build_slot_1
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_2
					}
				}
				set_variable = { 
					name = build_slot_2
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_3
					}
				}
				set_variable = { 
					name = build_slot_3
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_4
					}
				}
				set_variable = { 
					name = build_slot_4
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_5
					}
				}
				set_variable = { 
					name = build_slot_5
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_6
					}
				}
				set_variable = { 
					name = build_slot_6
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_7
					}
				}
				set_variable = { 
					name = build_slot_7
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_8
					}
				}
				set_variable = { 
					name = build_slot_8
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_9
					}
				}
				set_variable = { 
					name = build_slot_9
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_10
					}
				}
				set_variable = { 
					name = build_slot_10
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_11
					}
				}
				set_variable = { 
					name = build_slot_11
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_12
					}
				}
				set_variable = { 
					name = build_slot_12
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_13
					}
				}
				set_variable = { 
					name = build_slot_13
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_14
					}
				}
				set_variable = { 
					name = build_slot_14
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_15
					}
				}
				set_variable = { 
					name = build_slot_15
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_16
					}
				}
				set_variable = { 
					name = build_slot_16
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_17
					}
				}
				set_variable = { 
					name = build_slot_17
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_18
					}
				}
				set_variable = { 
					name = build_slot_18
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_19
					}
				}
				set_variable = { 
					name = build_slot_19
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_20
					}
				}
				set_variable = { 
					name = build_slot_20
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_21
					}
				}
				set_variable = { 
					name = build_slot_21
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_22
					}
				}
				set_variable = { 
					name = build_slot_22
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_23
					}
				}
				set_variable = { 
					name = build_slot_23
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_24
					}
				}
				set_variable = { 
					name = build_slot_24
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_25
					}
				}
				set_variable = { 
					name = build_slot_25
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_26
					}
				}
				set_variable = { 
					name = build_slot_26
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_27
					}
				}
				set_variable = { 
					name = build_slot_27
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_28
					}
				}
				set_variable = { 
					name = build_slot_28
					value = prev
				}
			}
			else_if = { 
				limit = { 
					NOT = { 
						has_variable = build_slot_29
					}
				}
				set_variable = { 
					name = build_slot_29
					value = prev
				}
			}
		}
	}
}
