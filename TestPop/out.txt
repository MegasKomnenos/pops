while = { 
	count = 100
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = modi_prod_dmnd_food
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_food
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_food
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_food
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_cereal
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_cereal
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_cereal
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_cereal
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_salted
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_salted
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_salted
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_salted
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_salt
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_salt
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_salt
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_salt
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_mud
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_mud
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_mud
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_mud
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_fuel
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_fuel
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_fuel
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_fuel
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_fiber
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_fiber
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_fiber
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_fiber
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_timber
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_timber
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_timber
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_timber
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_metal
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_metal
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_metal
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_metal
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_w
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_w
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_w
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_e
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_e
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_e
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_g
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_g
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_g
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_textile
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_textile
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_textile
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_textile
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_pottery
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_pottery
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_pottery
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_pottery
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_tools
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_tools
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_tools
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_tools
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_pop_calorie
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_food
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_cereal
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_salted
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_salt
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_mud
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_fuel
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_fiber
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_timber
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_metal
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_textile
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_pottery
			value = 1
		}
		set_variable = { 
			name = modi_pop_calorie_tools
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_food
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_cereal
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_salted
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_salt
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_mud
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_fuel
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_fiber
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_timber
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_metal
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_textile
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_pottery
			value = 1
		}
		set_variable = { 
			name = modi_pop_nutrient_tools
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_food
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_cereal
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_salted
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_salt
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_mud
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_fuel
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_fiber
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_timber
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_metal
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_textile
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_pottery
			value = 1
		}
		set_variable = { 
			name = modi_pop_comfort_tools
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_food
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_cereal
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_salted
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_salt
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_mud
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_fuel
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_fiber
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_timber
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_metal
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_textile
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_pottery
			value = 1
		}
		set_variable = { 
			name = modi_pop_luxury_tools
			value = 1
		}
	}
	every_in_global_list = { 
		variable = prod_instances
		if = { 
			limit = { 
				has_variable = prod_sply_food
			}
			set_variable = { 
				name = prod_sply_old_food
				value = var:prod_sply_food
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_cereal
			}
			set_variable = { 
				name = prod_sply_old_cereal
				value = var:prod_sply_cereal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_salted
			}
			set_variable = { 
				name = prod_sply_old_salted
				value = var:prod_sply_salted
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_salt
			}
			set_variable = { 
				name = prod_sply_old_salt
				value = var:prod_sply_salt
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_mud
			}
			set_variable = { 
				name = prod_sply_old_mud
				value = var:prod_sply_mud
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_fuel
			}
			set_variable = { 
				name = prod_sply_old_fuel
				value = var:prod_sply_fuel
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_fiber
			}
			set_variable = { 
				name = prod_sply_old_fiber
				value = var:prod_sply_fiber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_timber
			}
			set_variable = { 
				name = prod_sply_old_timber
				value = var:prod_sply_timber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_metal
			}
			set_variable = { 
				name = prod_sply_old_metal
				value = var:prod_sply_metal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_w
			}
			set_variable = { 
				name = prod_sply_old_exotics_w
				value = var:prod_sply_exotics_w
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_e
			}
			set_variable = { 
				name = prod_sply_old_exotics_e
				value = var:prod_sply_exotics_e
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_g
			}
			set_variable = { 
				name = prod_sply_old_exotics_g
				value = var:prod_sply_exotics_g
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_textile
			}
			set_variable = { 
				name = prod_sply_old_textile
				value = var:prod_sply_textile
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_pottery
			}
			set_variable = { 
				name = prod_sply_old_pottery
				value = var:prod_sply_pottery
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_tools
			}
			set_variable = { 
				name = prod_sply_old_tools
				value = var:prod_sply_tools
			}
		}
		if = { 
			limit = { 
				has_variable = prod_size
				var:prod_size > 0
				var:prod_template = { 
					has_variable = prod_dmnd
				}
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			if = { 
				limit = { 
					has_variable = prod_in_food
					var:prod_in_food > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_food
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_food
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_food
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_food
					}
				}
				set_variable = { 
					name = prod_dmnd_old_food
					value = var:prod_dmnd_food
				}
				set_variable = { 
					name = prod_in_old_food
					value = var:prod_in_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_cereal
					var:prod_in_cereal > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_cereal
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_cereal
					}
				}
				set_variable = { 
					name = prod_dmnd_old_cereal
					value = var:prod_dmnd_cereal
				}
				set_variable = { 
					name = prod_in_old_cereal
					value = var:prod_in_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_salted
					var:prod_in_salted > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_salted
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_salted
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_salted
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_salted
					}
				}
				set_variable = { 
					name = prod_dmnd_old_salted
					value = var:prod_dmnd_salted
				}
				set_variable = { 
					name = prod_in_old_salted
					value = var:prod_in_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_salt
					var:prod_in_salt > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_salt
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_salt
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_salt
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_salt
					}
				}
				set_variable = { 
					name = prod_dmnd_old_salt
					value = var:prod_dmnd_salt
				}
				set_variable = { 
					name = prod_in_old_salt
					value = var:prod_in_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_mud
					var:prod_in_mud > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_mud
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_mud
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_mud
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_mud
					}
				}
				set_variable = { 
					name = prod_dmnd_old_mud
					value = var:prod_dmnd_mud
				}
				set_variable = { 
					name = prod_in_old_mud
					value = var:prod_in_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_fuel
					var:prod_in_fuel > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_fuel
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_fuel
					}
				}
				set_variable = { 
					name = prod_dmnd_old_fuel
					value = var:prod_dmnd_fuel
				}
				set_variable = { 
					name = prod_in_old_fuel
					value = var:prod_in_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_fiber
					var:prod_in_fiber > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_fiber
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_fiber
					}
				}
				set_variable = { 
					name = prod_dmnd_old_fiber
					value = var:prod_dmnd_fiber
				}
				set_variable = { 
					name = prod_in_old_fiber
					value = var:prod_in_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_timber
					var:prod_in_timber > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_timber
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_timber
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_timber
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_timber
					}
				}
				set_variable = { 
					name = prod_dmnd_old_timber
					value = var:prod_dmnd_timber
				}
				set_variable = { 
					name = prod_in_old_timber
					value = var:prod_in_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_metal
					var:prod_in_metal > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_metal
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_metal
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_metal
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_metal
					}
				}
				set_variable = { 
					name = prod_dmnd_old_metal
					value = var:prod_dmnd_metal
				}
				set_variable = { 
					name = prod_in_old_metal
					value = var:prod_in_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_exotics_w
					var:prod_in_exotics_w > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = prod_dmnd_old_exotics_w
					value = var:prod_dmnd_exotics_w
				}
				set_variable = { 
					name = prod_in_old_exotics_w
					value = var:prod_in_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_exotics_e
					var:prod_in_exotics_e > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = prod_dmnd_old_exotics_e
					value = var:prod_dmnd_exotics_e
				}
				set_variable = { 
					name = prod_in_old_exotics_e
					value = var:prod_in_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_exotics_g
					var:prod_in_exotics_g > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = prod_dmnd_old_exotics_g
					value = var:prod_dmnd_exotics_g
				}
				set_variable = { 
					name = prod_in_old_exotics_g
					value = var:prod_in_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_textile
					var:prod_in_textile > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_textile
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_textile
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_textile
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_textile
					}
				}
				set_variable = { 
					name = prod_dmnd_old_textile
					value = var:prod_dmnd_textile
				}
				set_variable = { 
					name = prod_in_old_textile
					value = var:prod_in_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_pottery
					var:prod_in_pottery > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_pottery
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_pottery
					}
				}
				set_variable = { 
					name = prod_dmnd_old_pottery
					value = var:prod_dmnd_pottery
				}
				set_variable = { 
					name = prod_in_old_pottery
					value = var:prod_in_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_in_tools
					var:prod_in_tools > 0
				}
				set_variable = { 
					name = prod_update_instances_tt
					value = var:prod_in_tools
				}
				change_variable = { 
					name = prod_update_instances_tt
					multiply = var:prod_template.var:prod_dmnd_tools
				}
				change_variable = { 
					name = prod_update_instances_tt
					divide = var:prod_location.county.var:modi_prod_dmnd_tools
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_update_instances_tt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_tools
					}
				}
				set_variable = { 
					name = prod_dmnd_old_tools
					value = var:prod_dmnd_tools
				}
				set_variable = { 
					name = prod_in_old_tools
					value = var:prod_in_tools
				}
			}
			change_variable = { 
				name = prod_update_instances_t
				divide = var:prod_size
			}
			if = { 
				limit = { 
					has_variable = prod_sply_food
				}
				change_variable = { 
					name = prod_sply_old_food
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_cereal
				}
				change_variable = { 
					name = prod_sply_old_cereal
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salted
				}
				change_variable = { 
					name = prod_sply_old_salted
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_salt
				}
				change_variable = { 
					name = prod_sply_old_salt
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_mud
				}
				change_variable = { 
					name = prod_sply_old_mud
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fuel
				}
				change_variable = { 
					name = prod_sply_old_fuel
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_fiber
				}
				change_variable = { 
					name = prod_sply_old_fiber
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_timber
				}
				change_variable = { 
					name = prod_sply_old_timber
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_metal
				}
				change_variable = { 
					name = prod_sply_old_metal
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_w
				}
				change_variable = { 
					name = prod_sply_old_exotics_w
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_e
				}
				change_variable = { 
					name = prod_sply_old_exotics_e
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_exotics_g
				}
				change_variable = { 
					name = prod_sply_old_exotics_g
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_textile
				}
				change_variable = { 
					name = prod_sply_old_textile
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_pottery
				}
				change_variable = { 
					name = prod_sply_old_pottery
					multiply = var:prod_update_instances_t
				}
			}
			if = { 
				limit = { 
					has_variable = prod_sply_tools
				}
				change_variable = { 
					name = prod_sply_old_tools
					multiply = var:prod_update_instances_t
				}
			}
		}
	}
	every_in_global_list = { 
		variable = prod_instances
		set_variable = { 
			name = prod_labor
			value = 0
		}
		set_variable = { 
			name = prod_land
			value = 0
		}
		set_variable = { 
			name = prod_update_instances_t
			value = var:prod_earn
		}
		change_variable = { 
			name = prod_update_instances_t
			subtract = var:prod_pay
		}
		change_variable = { 
			name = prod_update_instances_t
			divide = 10
		}
		if = { 
			limit = { 
				has_variable = prod_update_instances_t
				var:prod_update_instances_t < 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
		}
		change_variable = { 
			name = prod_profit
			multiply = 0.9
		}
		change_variable = { 
			name = prod_profit
			add = var:prod_update_instances_t
		}
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		if = { 
			limit = { 
				has_variable = farm_total
				var:farm_total > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				limit = { 
					var:prod_template = { 
						has_character_flag = prod_land_farm
					}
				}
				variable = prod_instances
				set_variable = { 
					name = prod_land
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_land
					add = 0.01
				}
				change_variable = { 
					name = prod_land
					multiply = var:prod_template.var:prod_land
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_land
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_farm
						}
					}
					variable = prod_instances
					change_variable = { 
						name = prod_land
						multiply = 100
					}
					change_variable = { 
						name = prod_land
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_land
						multiply = prev.var:farm_total
					}
					change_variable = { 
						name = prod_land
						divide = 100
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_farm
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = pasture_total
				var:pasture_total > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				limit = { 
					var:prod_template = { 
						has_character_flag = prod_land_pasture
					}
				}
				variable = prod_instances
				set_variable = { 
					name = prod_land
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_land
					add = 0.01
				}
				change_variable = { 
					name = prod_land
					multiply = var:prod_template.var:prod_land
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_land
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_pasture
						}
					}
					variable = prod_instances
					change_variable = { 
						name = prod_land
						multiply = 100
					}
					change_variable = { 
						name = prod_land
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_land
						multiply = prev.var:pasture_total
					}
					change_variable = { 
						name = prod_land
						divide = 100
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_pasture
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = forest_total
				var:forest_total > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				limit = { 
					var:prod_template = { 
						has_character_flag = prod_land_forest
					}
				}
				variable = prod_instances
				set_variable = { 
					name = prod_land
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_land
					add = 0.01
				}
				change_variable = { 
					name = prod_land
					multiply = var:prod_template.var:prod_land
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_land
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_forest
						}
					}
					variable = prod_instances
					change_variable = { 
						name = prod_land
						multiply = 100
					}
					change_variable = { 
						name = prod_land
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_land
						multiply = prev.var:forest_total
					}
					change_variable = { 
						name = prod_land
						divide = 100
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_forest
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = workshop_total
				var:workshop_total > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				limit = { 
					var:prod_template = { 
						has_character_flag = prod_land_workshop
					}
				}
				variable = prod_instances
				set_variable = { 
					name = prod_land
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_land
					add = 0.01
				}
				change_variable = { 
					name = prod_land
					multiply = var:prod_template.var:prod_land
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_land
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_workshop
						}
					}
					variable = prod_instances
					change_variable = { 
						name = prod_land
						multiply = 100
					}
					change_variable = { 
						name = prod_land
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_land
						multiply = prev.var:workshop_total
					}
					change_variable = { 
						name = prod_land
						divide = 100
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_workshop
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = extraction_total
				var:extraction_total > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			every_in_list = { 
				limit = { 
					var:prod_template = { 
						has_character_flag = prod_land_extraction
					}
				}
				variable = prod_instances
				set_variable = { 
					name = prod_land
					value = var:prod_profit
				}
				change_variable = { 
					name = prod_land
					add = 0.01
				}
				change_variable = { 
					name = prod_land
					multiply = var:prod_template.var:prod_land
				}
				prev = { 
					change_variable = { 
						name = prod_update_instances_t
						add = prev.var:prod_land
					}
				}
			}
			if = { 
				limit = { 
					has_variable = prod_update_instances_t
					var:prod_update_instances_t > 0
				}
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_extraction
						}
					}
					variable = prod_instances
					change_variable = { 
						name = prod_land
						multiply = 100
					}
					change_variable = { 
						name = prod_land
						divide = prev.var:prod_update_instances_t
					}
					change_variable = { 
						name = prod_land
						multiply = prev.var:extraction_total
					}
					change_variable = { 
						name = prod_land
						divide = 100
					}
				}
			}
			else = { 
				every_in_list = { 
					limit = { 
						var:prod_template = { 
							has_character_flag = prod_land_extraction
						}
					}
					variable = prod_instances
					set_variable = { 
						name = prod_land
						value = 0
					}
				}
			}
		}
		set_variable = { 
			name = prod_update_instances_t
			value = 0
		}
		every_in_list = { 
			variable = prod_instances
			set_variable = { 
				name = prod_labor
				value = var:prod_profit
			}
			change_variable = { 
				name = prod_labor
				add = 0.01
			}
			change_variable = { 
				name = prod_labor
				multiply = var:prod_template.var:prod_labor
			}
			prev = { 
				change_variable = { 
					name = prod_update_instances_t
					add = prev.var:prod_labor
				}
			}
		}
		if = { 
			limit = { 
				has_variable = prod_update_instances_t
				var:prod_update_instances_t > 0
			}
			every_in_list = { 
				variable = prod_instances
				change_variable = { 
					name = prod_labor
					multiply = 100
				}
				change_variable = { 
					name = prod_labor
					divide = prev.var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_labor
					multiply = prev.var:pop_total
				}
				change_variable = { 
					name = prod_labor
					divide = 100
				}
			}
		}
		else = { 
			every_in_list = { 
				variable = prod_instances
				set_variable = { 
					name = prod_labor
					value = 0
				}
			}
		}
		remove_variable = prod_update_instances_t
	}
	every_in_global_list = { 
		variable = prod_instances
		if = { 
			limit = { 
				var:prod_template.var:prod_labor = 0.5
			}
			set_variable = { 
				name = math_sqrt_i
				value = var:prod_labor
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = prod_size
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = prod_size
					value = 0
				}
			}
			remove_variable = math_sqrt_i
			set_variable = { 
				name = math_sqrt_i
				value = var:prod_land
			}
			if = { 
				limit = { 
					has_variable = math_sqrt_i
					var:math_sqrt_i > 0
				}
				set_variable = { 
					name = math_sqrt_x
					value = var:math_sqrt_i
				}
				set_variable = { 
					name = math_sqrt_n
					value = var:math_sqrt_i
				}
				change_variable = { 
					name = math_sqrt_n
					divide = 2
				}
				set_variable = { 
					name = math_sqrt_tt
					value = 0.5
				}
				while = { 
					limit = { 
						has_variable = math_sqrt_n
						var:math_sqrt_n > 0
						OR = { 
							var:math_sqrt_tt < 0.995
							var:math_sqrt_tt > 1.005
						}
					}
					set_variable = { 
						name = math_sqrt_x
						value = var:math_sqrt_n
					}
					set_variable = { 
						name = math_sqrt_t
						value = var:math_sqrt_i
					}
					change_variable = { 
						name = math_sqrt_t
						divide = var:math_sqrt_n
					}
					change_variable = { 
						name = math_sqrt_n
						add = var:math_sqrt_t
					}
					change_variable = { 
						name = math_sqrt_n
						divide = 2
					}
					set_variable = { 
						name = math_sqrt_tt
						value = var:math_sqrt_x
					}
					change_variable = { 
						name = math_sqrt_tt
						divide = var:math_sqrt_n
					}
				}
				set_variable = { 
					name = prod_update_instances_t
					value = var:math_sqrt_n
				}
				remove_variable = math_sqrt_x
				remove_variable = math_sqrt_t
				remove_variable = math_sqrt_n
				remove_variable = math_sqrt_tt
			}
			else = { 
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
			}
			remove_variable = math_sqrt_i
		}
		else = { 
			set_variable = { 
				name = math_pow_base
				value = var:prod_labor
			}
			set_variable = { 
				name = math_pow_exp
				value = var:prod_template.var:prod_labor
			}
			if = { 
				limit = { 
					has_variable = math_pow_base
					var:math_pow_base != 0
				}
				set_variable = { 
					name = prod_size
					value = 1
				}
				while = { 
					limit = { 
						var:math_pow_exp >= 1
					}
					change_variable = { 
						name = math_pow_exp
						subtract = 1
					}
					change_variable = { 
						name = prod_size
						multiply = var:math_pow_base
					}
				}
				while = { 
					limit = { 
						var:math_pow_exp < 0
					}
					change_variable = { 
						name = math_pow_exp
						add = 1
					}
					change_variable = { 
						name = prod_size
						divide = var:math_pow_base
					}
				}
				if = { 
					limit = { 
						var:math_pow_exp != 0
					}
					set_variable = { 
						name = math_ln_inp
						value = var:math_pow_base
					}
					set_variable = { 
						name = math_pow_ln
						value = 0
					}
					set_variable = { 
						name = math_ln_k
						value = 0
					}
					set_variable = { 
						name = math_ln_div
						value = 10000
					}
					while = { 
						limit = { 
							var:math_ln_inp >= 2
						}
						change_variable = { 
							name = math_ln_inp
							divide = 2
						}
						change_variable = { 
							name = math_pow_ln
							add = 6931.472
						}
					}
					while = { 
						limit = { 
							var:math_ln_inp < 1
						}
						change_variable = { 
							name = math_ln_inp
							multiply = 2
						}
						change_variable = { 
							name = math_pow_ln
							subtract = 6931.472
						}
					}
					change_variable = { 
						name = math_ln_inp
						multiply = 10000
					}
					while = { 
						limit = { 
							var:math_ln_k < 10
						}
						change_variable = { 
							name = math_ln_k
							add = 1
						}
						change_variable = { 
							name = math_ln_div
							divide = 2
						}
						set_variable = { 
							name = math_ln_t
							value = 10000
						}
						change_variable = { 
							name = math_ln_t
							add = var:math_ln_div
						}
						if = { 
							limit = { 
								var:math_ln_inp = { 
									compare_value >= prev.var:math_ln_t
								}
							}
							change_variable = { 
								name = math_ln_inp
								divide = var:math_ln_t
							}
							change_variable = { 
								name = math_ln_inp
								multiply = 10000
							}
							set_variable = { 
								name = math_lt_ind
								value = var:math_ln_k
							}
							if = { 
								limit = { 
									var:math_lt_ind >= 6
								}
								if = { 
									limit = { 
										var:math_lt_ind >= 8
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 9
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 10
											}
											set_variable = { 
												name = math_ln_lt
												value = 9.761
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 19.512
											}
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 38.986
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											var:math_lt_ind >= 7
										}
										set_variable = { 
											name = math_ln_lt
											value = 77.821
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 155.042
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										var:math_lt_ind >= 3
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 4
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 5
											}
											set_variable = { 
												name = math_ln_lt
												value = 307.717
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 606.246
											}
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 1177.83
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											var:math_lt_ind >= 2
										}
										set_variable = { 
											name = math_ln_lt
											value = 2231.436
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 4054.651
										}
									}
								}
							}
							remove_variable = math_lt_ind
							change_variable = { 
								name = math_pow_ln
								add = var:math_ln_lt
							}
						}
					}
					change_variable = { 
						name = math_pow_ln
						divide = 10000
					}
					remove_variable = math_ln_k
					remove_variable = math_ln_div
					remove_variable = math_ln_t
					remove_variable = math_ln_lt
					remove_variable = math_ln_inp
					change_variable = { 
						name = math_pow_exp
						multiply = var:math_pow_ln
					}
					set_variable = { 
						name = math_e_exp
						value = var:math_pow_exp
					}
					set_variable = { 
						name = math_pow_e
						value = 1
					}
					while = { 
						limit = { 
							var:math_e_exp >= 1
						}
						change_variable = { 
							name = math_e_exp
							subtract = 1
						}
						change_variable = { 
							name = math_pow_e
							multiply = 2.718
						}
					}
					while = { 
						limit = { 
							var:math_e_exp < 0
						}
						change_variable = { 
							name = math_e_exp
							add = 1
						}
						change_variable = { 
							name = math_pow_e
							divide = 2.718
						}
					}
					set_variable = { 
						name = math_e_sm
						value = 1
					}
					if = { 
						limit = { 
							var:math_e_exp != 0
						}
						set_variable = { 
							name = math_e_sq
							value = var:math_e_exp
						}
						change_variable = { 
							name = math_e_sq
							multiply = var:math_e_exp
						}
						set_variable = { 
							name = math_e_fct
							value = 2
						}
						set_variable = { 
							name = math_e_fctl
							value = 2
						}
						set_variable = { 
							name = math_e_a1
							value = var:math_e_sq
						}
						set_variable = { 
							name = math_e_a2
							value = var:math_e_exp
						}
						set_variable = { 
							name = math_e_a3
							value = 2
						}
						set_variable = { 
							name = math_e_tmp
							value = var:math_e_a2
						}
						change_variable = { 
							name = math_e_tmp
							multiply = var:math_e_a3
						}
						change_variable = { 
							name = math_e_tmp
							add = var:math_e_a1
						}
						change_variable = { 
							name = math_e_tmp
							divide = var:math_e_fct
						}
						change_variable = { 
							name = math_e_sm
							add = var:math_e_tmp
						}
						set_variable = { 
							name = math_e_prec
							value = 3
						}
						change_variable = { 
							name = math_e_prec
							subtract = 1
						}
						while = { 
							limit = { 
								var:math_e_prec >= 1
							}
							change_variable = { 
								name = math_e_prec
								subtract = 1
							}
							change_variable = { 
								name = math_e_fctl
								add = 1
							}
							change_variable = { 
								name = math_e_fct
								multiply = var:math_e_fctl
							}
							change_variable = { 
								name = math_e_fctl
								add = 1
							}
							change_variable = { 
								name = math_e_fct
								multiply = var:math_e_fctl
							}
							change_variable = { 
								name = math_e_a1
								multiply = var:math_e_sq
							}
							change_variable = { 
								name = math_e_a2
								multiply = var:math_e_sq
							}
							change_variable = { 
								name = math_e_a3
								add = 2
							}
							set_variable = { 
								name = math_e_tmp
								value = var:math_e_a2
							}
							change_variable = { 
								name = math_e_tmp
								multiply = var:math_e_a3
							}
							change_variable = { 
								name = math_e_tmp
								add = var:math_e_a1
							}
							change_variable = { 
								name = math_e_tmp
								divide = var:math_e_fct
							}
							change_variable = { 
								name = math_e_sm
								add = var:math_e_tmp
							}
						}
					}
					change_variable = { 
						name = math_pow_e
						multiply = var:math_e_sm
					}
					remove_variable = math_e_sm
					remove_variable = math_e_tmp
					remove_variable = math_e_a1
					remove_variable = math_e_a2
					remove_variable = math_e_a3
					remove_variable = math_e_fctl
					remove_variable = math_e_fct
					remove_variable = math_e_prec
					remove_variable = math_e_sq
					remove_variable = math_e_exp
					change_variable = { 
						name = prod_size
						multiply = var:math_pow_e
					}
					remove_variable = math_pow_ln
					remove_variable = math_pow_e
				}
			}
			else_if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = math_pow_exp
						}
						var:math_pow_exp = 0
					}
				}
				set_variable = { 
					name = prod_size
					value = 1
				}
			}
			else = { 
				set_variable = { 
					name = prod_size
					value = 0
				}
			}
			remove_variable = math_pow_base
			remove_variable = math_pow_exp
			set_variable = { 
				name = math_pow_base
				value = var:prod_land
			}
			set_variable = { 
				name = math_pow_exp
				value = var:prod_template.var:prod_land
			}
			if = { 
				limit = { 
					has_variable = math_pow_base
					var:math_pow_base != 0
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 1
				}
				while = { 
					limit = { 
						var:math_pow_exp >= 1
					}
					change_variable = { 
						name = math_pow_exp
						subtract = 1
					}
					change_variable = { 
						name = prod_update_instances_t
						multiply = var:math_pow_base
					}
				}
				while = { 
					limit = { 
						var:math_pow_exp < 0
					}
					change_variable = { 
						name = math_pow_exp
						add = 1
					}
					change_variable = { 
						name = prod_update_instances_t
						divide = var:math_pow_base
					}
				}
				if = { 
					limit = { 
						var:math_pow_exp != 0
					}
					set_variable = { 
						name = math_ln_inp
						value = var:math_pow_base
					}
					set_variable = { 
						name = math_pow_ln
						value = 0
					}
					set_variable = { 
						name = math_ln_k
						value = 0
					}
					set_variable = { 
						name = math_ln_div
						value = 10000
					}
					while = { 
						limit = { 
							var:math_ln_inp >= 2
						}
						change_variable = { 
							name = math_ln_inp
							divide = 2
						}
						change_variable = { 
							name = math_pow_ln
							add = 6931.472
						}
					}
					while = { 
						limit = { 
							var:math_ln_inp < 1
						}
						change_variable = { 
							name = math_ln_inp
							multiply = 2
						}
						change_variable = { 
							name = math_pow_ln
							subtract = 6931.472
						}
					}
					change_variable = { 
						name = math_ln_inp
						multiply = 10000
					}
					while = { 
						limit = { 
							var:math_ln_k < 10
						}
						change_variable = { 
							name = math_ln_k
							add = 1
						}
						change_variable = { 
							name = math_ln_div
							divide = 2
						}
						set_variable = { 
							name = math_ln_t
							value = 10000
						}
						change_variable = { 
							name = math_ln_t
							add = var:math_ln_div
						}
						if = { 
							limit = { 
								var:math_ln_inp = { 
									compare_value >= prev.var:math_ln_t
								}
							}
							change_variable = { 
								name = math_ln_inp
								divide = var:math_ln_t
							}
							change_variable = { 
								name = math_ln_inp
								multiply = 10000
							}
							set_variable = { 
								name = math_lt_ind
								value = var:math_ln_k
							}
							if = { 
								limit = { 
									var:math_lt_ind >= 6
								}
								if = { 
									limit = { 
										var:math_lt_ind >= 8
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 9
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 10
											}
											set_variable = { 
												name = math_ln_lt
												value = 9.761
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 19.512
											}
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 38.986
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											var:math_lt_ind >= 7
										}
										set_variable = { 
											name = math_ln_lt
											value = 77.821
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 155.042
										}
									}
								}
							}
							else = { 
								if = { 
									limit = { 
										var:math_lt_ind >= 3
									}
									if = { 
										limit = { 
											var:math_lt_ind >= 4
										}
										if = { 
											limit = { 
												var:math_lt_ind >= 5
											}
											set_variable = { 
												name = math_ln_lt
												value = 307.717
											}
										}
										else = { 
											set_variable = { 
												name = math_ln_lt
												value = 606.246
											}
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 1177.83
										}
									}
								}
								else = { 
									if = { 
										limit = { 
											var:math_lt_ind >= 2
										}
										set_variable = { 
											name = math_ln_lt
											value = 2231.436
										}
									}
									else = { 
										set_variable = { 
											name = math_ln_lt
											value = 4054.651
										}
									}
								}
							}
							remove_variable = math_lt_ind
							change_variable = { 
								name = math_pow_ln
								add = var:math_ln_lt
							}
						}
					}
					change_variable = { 
						name = math_pow_ln
						divide = 10000
					}
					remove_variable = math_ln_k
					remove_variable = math_ln_div
					remove_variable = math_ln_t
					remove_variable = math_ln_lt
					remove_variable = math_ln_inp
					change_variable = { 
						name = math_pow_exp
						multiply = var:math_pow_ln
					}
					set_variable = { 
						name = math_e_exp
						value = var:math_pow_exp
					}
					set_variable = { 
						name = math_pow_e
						value = 1
					}
					while = { 
						limit = { 
							var:math_e_exp >= 1
						}
						change_variable = { 
							name = math_e_exp
							subtract = 1
						}
						change_variable = { 
							name = math_pow_e
							multiply = 2.718
						}
					}
					while = { 
						limit = { 
							var:math_e_exp < 0
						}
						change_variable = { 
							name = math_e_exp
							add = 1
						}
						change_variable = { 
							name = math_pow_e
							divide = 2.718
						}
					}
					set_variable = { 
						name = math_e_sm
						value = 1
					}
					if = { 
						limit = { 
							var:math_e_exp != 0
						}
						set_variable = { 
							name = math_e_sq
							value = var:math_e_exp
						}
						change_variable = { 
							name = math_e_sq
							multiply = var:math_e_exp
						}
						set_variable = { 
							name = math_e_fct
							value = 2
						}
						set_variable = { 
							name = math_e_fctl
							value = 2
						}
						set_variable = { 
							name = math_e_a1
							value = var:math_e_sq
						}
						set_variable = { 
							name = math_e_a2
							value = var:math_e_exp
						}
						set_variable = { 
							name = math_e_a3
							value = 2
						}
						set_variable = { 
							name = math_e_tmp
							value = var:math_e_a2
						}
						change_variable = { 
							name = math_e_tmp
							multiply = var:math_e_a3
						}
						change_variable = { 
							name = math_e_tmp
							add = var:math_e_a1
						}
						change_variable = { 
							name = math_e_tmp
							divide = var:math_e_fct
						}
						change_variable = { 
							name = math_e_sm
							add = var:math_e_tmp
						}
						set_variable = { 
							name = math_e_prec
							value = 3
						}
						change_variable = { 
							name = math_e_prec
							subtract = 1
						}
						while = { 
							limit = { 
								var:math_e_prec >= 1
							}
							change_variable = { 
								name = math_e_prec
								subtract = 1
							}
							change_variable = { 
								name = math_e_fctl
								add = 1
							}
							change_variable = { 
								name = math_e_fct
								multiply = var:math_e_fctl
							}
							change_variable = { 
								name = math_e_fctl
								add = 1
							}
							change_variable = { 
								name = math_e_fct
								multiply = var:math_e_fctl
							}
							change_variable = { 
								name = math_e_a1
								multiply = var:math_e_sq
							}
							change_variable = { 
								name = math_e_a2
								multiply = var:math_e_sq
							}
							change_variable = { 
								name = math_e_a3
								add = 2
							}
							set_variable = { 
								name = math_e_tmp
								value = var:math_e_a2
							}
							change_variable = { 
								name = math_e_tmp
								multiply = var:math_e_a3
							}
							change_variable = { 
								name = math_e_tmp
								add = var:math_e_a1
							}
							change_variable = { 
								name = math_e_tmp
								divide = var:math_e_fct
							}
							change_variable = { 
								name = math_e_sm
								add = var:math_e_tmp
							}
						}
					}
					change_variable = { 
						name = math_pow_e
						multiply = var:math_e_sm
					}
					remove_variable = math_e_sm
					remove_variable = math_e_tmp
					remove_variable = math_e_a1
					remove_variable = math_e_a2
					remove_variable = math_e_a3
					remove_variable = math_e_fctl
					remove_variable = math_e_fct
					remove_variable = math_e_prec
					remove_variable = math_e_sq
					remove_variable = math_e_exp
					change_variable = { 
						name = prod_update_instances_t
						multiply = var:math_pow_e
					}
					remove_variable = math_pow_ln
					remove_variable = math_pow_e
				}
			}
			else_if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = math_pow_exp
						}
						var:math_pow_exp = 0
					}
				}
				set_variable = { 
					name = prod_update_instances_t
					value = 1
				}
			}
			else = { 
				set_variable = { 
					name = prod_update_instances_t
					value = 0
				}
			}
			remove_variable = math_pow_base
			remove_variable = math_pow_exp
		}
		change_variable = { 
			name = prod_size
			multiply = var:prod_update_instances_t
		}
		remove_variable = prod_update_instances_t
		remove_variable = prod_update_instances_tt
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		change_variable = { 
			name = prod_tools
			multiply = 0.9
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_food
				var:prod_tools_in_food > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_food
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_food
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_cereal
				var:prod_tools_in_cereal > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_cereal
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_cereal
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_salted
				var:prod_tools_in_salted > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_salted
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_salted
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_salt
				var:prod_tools_in_salt > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_salt
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_salt
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_mud
				var:prod_tools_in_mud > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_mud
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_mud
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_fuel
				var:prod_tools_in_fuel > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_fuel
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_fuel
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_fiber
				var:prod_tools_in_fiber > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_fiber
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_fiber
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_timber
				var:prod_tools_in_timber > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_timber
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_timber
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_metal
				var:prod_tools_in_metal > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_metal
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_metal
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_exotics_w
				var:prod_tools_in_exotics_w > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_exotics_w
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_exotics_w
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_exotics_e
				var:prod_tools_in_exotics_e > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_exotics_e
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_exotics_e
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_exotics_g
				var:prod_tools_in_exotics_g > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_exotics_g
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_exotics_g
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_textile
				var:prod_tools_in_textile > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_textile
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_textile
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_pottery
				var:prod_tools_in_pottery > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_pottery
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_pottery
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_in_tools
				var:prod_tools_in_tools > 0
			}
			set_variable = { 
				name = prod_update_instances_t
				value = var:prod_tools_in_tools
			}
			change_variable = { 
				name = prod_update_instances_t
				multiply = var:prod_tools_tools
			}
			change_variable = { 
				name = prod_tools
				add = var:prod_update_instances_t
			}
		}
		set_variable = { 
			name = prod_update_instances_t
			value = 0
		}
		every_in_list = { 
			variable = prod_instances
			prev = { 
				change_variable = { 
					name = prod_update_instances_t
					add = prev.var:prod_size
				}
			}
		}
		if = { 
			limit = { 
				OR = { 
					NOT = { 
						has_variable = prod_update_instances_t
					}
					var:prod_update_instances_t = 0
				}
			}
			set_variable = { 
				name = prod_effic
				value = 1
			}
		}
		else = { 
			set_variable = { 
				name = prod_effic
				value = var:prod_tools
			}
			change_variable = { 
				name = prod_effic
				divide = var:prod_update_instances_t
			}
			change_variable = { 
				name = prod_effic
				divide = 10
			}
			change_variable = { 
				name = prod_effic
				add = 1
			}
		}
		set_variable = { 
			name = modi_prod_dmnd_food
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_food
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_food
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_food
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_cereal
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_cereal
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_cereal
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_cereal
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_salted
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_salted
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_salted
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_salted
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_salt
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_salt
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_salt
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_salt
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_mud
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_mud
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_mud
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_mud
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_fuel
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_fuel
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_fuel
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_fuel
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_fiber
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_fiber
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_fiber
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_fiber
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_timber
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_timber
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_timber
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_timber
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_metal
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_metal
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_metal
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_metal
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_w
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_w
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_w
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_w
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_e
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_e
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_e
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_e
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_exotics_g
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_exotics_g
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_exotics_g
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_exotics_g
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_textile
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_textile
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_textile
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_textile
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_pottery
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_pottery
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_pottery
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_pottery
			multiply = var:prod_effic
		}
		set_variable = { 
			name = modi_prod_dmnd_tools
			value = 1
		}
		set_variable = { 
			name = modi_prod_sply_tools
			value = 1
		}
		change_variable = { 
			name = modi_prod_dmnd_tools
			multiply = var:prod_effic
		}
		change_variable = { 
			name = modi_prod_sply_tools
			multiply = var:prod_effic
		}
		set_variable = { 
			name = prod_update_instances_t
			value = 0
		}
		if = { 
			limit = { 
				has_variable = prod_tools_food
			}
			set_variable = { 
				name = prod_tools_dmnd_old_food
				value = var:prod_tools_dmnd_food
			}
			set_variable = { 
				name = prod_tools_in_old_food
				value = var:prod_tools_in_food
			}
			set_variable = { 
				name = prod_tools_dmnd_food
				value = var:prod_tools_food
			}
			change_variable = { 
				name = prod_tools_dmnd_food
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_food
				divide = var:trade_price_food
			}
			change_variable = { 
				name = prod_tools_dmnd_food
				multiply = var:prod_tools_dmnd_food
			}
			change_variable = { 
				name = prod_tools_dmnd_food
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_food
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_cereal
			}
			set_variable = { 
				name = prod_tools_dmnd_old_cereal
				value = var:prod_tools_dmnd_cereal
			}
			set_variable = { 
				name = prod_tools_in_old_cereal
				value = var:prod_tools_in_cereal
			}
			set_variable = { 
				name = prod_tools_dmnd_cereal
				value = var:prod_tools_cereal
			}
			change_variable = { 
				name = prod_tools_dmnd_cereal
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_cereal
				divide = var:trade_price_cereal
			}
			change_variable = { 
				name = prod_tools_dmnd_cereal
				multiply = var:prod_tools_dmnd_cereal
			}
			change_variable = { 
				name = prod_tools_dmnd_cereal
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_cereal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_salted
			}
			set_variable = { 
				name = prod_tools_dmnd_old_salted
				value = var:prod_tools_dmnd_salted
			}
			set_variable = { 
				name = prod_tools_in_old_salted
				value = var:prod_tools_in_salted
			}
			set_variable = { 
				name = prod_tools_dmnd_salted
				value = var:prod_tools_salted
			}
			change_variable = { 
				name = prod_tools_dmnd_salted
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_salted
				divide = var:trade_price_salted
			}
			change_variable = { 
				name = prod_tools_dmnd_salted
				multiply = var:prod_tools_dmnd_salted
			}
			change_variable = { 
				name = prod_tools_dmnd_salted
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_salted
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_salt
			}
			set_variable = { 
				name = prod_tools_dmnd_old_salt
				value = var:prod_tools_dmnd_salt
			}
			set_variable = { 
				name = prod_tools_in_old_salt
				value = var:prod_tools_in_salt
			}
			set_variable = { 
				name = prod_tools_dmnd_salt
				value = var:prod_tools_salt
			}
			change_variable = { 
				name = prod_tools_dmnd_salt
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_salt
				divide = var:trade_price_salt
			}
			change_variable = { 
				name = prod_tools_dmnd_salt
				multiply = var:prod_tools_dmnd_salt
			}
			change_variable = { 
				name = prod_tools_dmnd_salt
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_salt
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_mud
			}
			set_variable = { 
				name = prod_tools_dmnd_old_mud
				value = var:prod_tools_dmnd_mud
			}
			set_variable = { 
				name = prod_tools_in_old_mud
				value = var:prod_tools_in_mud
			}
			set_variable = { 
				name = prod_tools_dmnd_mud
				value = var:prod_tools_mud
			}
			change_variable = { 
				name = prod_tools_dmnd_mud
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_mud
				divide = var:trade_price_mud
			}
			change_variable = { 
				name = prod_tools_dmnd_mud
				multiply = var:prod_tools_dmnd_mud
			}
			change_variable = { 
				name = prod_tools_dmnd_mud
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_mud
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_fuel
			}
			set_variable = { 
				name = prod_tools_dmnd_old_fuel
				value = var:prod_tools_dmnd_fuel
			}
			set_variable = { 
				name = prod_tools_in_old_fuel
				value = var:prod_tools_in_fuel
			}
			set_variable = { 
				name = prod_tools_dmnd_fuel
				value = var:prod_tools_fuel
			}
			change_variable = { 
				name = prod_tools_dmnd_fuel
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_fuel
				divide = var:trade_price_fuel
			}
			change_variable = { 
				name = prod_tools_dmnd_fuel
				multiply = var:prod_tools_dmnd_fuel
			}
			change_variable = { 
				name = prod_tools_dmnd_fuel
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_fuel
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_fiber
			}
			set_variable = { 
				name = prod_tools_dmnd_old_fiber
				value = var:prod_tools_dmnd_fiber
			}
			set_variable = { 
				name = prod_tools_in_old_fiber
				value = var:prod_tools_in_fiber
			}
			set_variable = { 
				name = prod_tools_dmnd_fiber
				value = var:prod_tools_fiber
			}
			change_variable = { 
				name = prod_tools_dmnd_fiber
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_fiber
				divide = var:trade_price_fiber
			}
			change_variable = { 
				name = prod_tools_dmnd_fiber
				multiply = var:prod_tools_dmnd_fiber
			}
			change_variable = { 
				name = prod_tools_dmnd_fiber
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_fiber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_timber
			}
			set_variable = { 
				name = prod_tools_dmnd_old_timber
				value = var:prod_tools_dmnd_timber
			}
			set_variable = { 
				name = prod_tools_in_old_timber
				value = var:prod_tools_in_timber
			}
			set_variable = { 
				name = prod_tools_dmnd_timber
				value = var:prod_tools_timber
			}
			change_variable = { 
				name = prod_tools_dmnd_timber
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_timber
				divide = var:trade_price_timber
			}
			change_variable = { 
				name = prod_tools_dmnd_timber
				multiply = var:prod_tools_dmnd_timber
			}
			change_variable = { 
				name = prod_tools_dmnd_timber
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_timber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_metal
			}
			set_variable = { 
				name = prod_tools_dmnd_old_metal
				value = var:prod_tools_dmnd_metal
			}
			set_variable = { 
				name = prod_tools_in_old_metal
				value = var:prod_tools_in_metal
			}
			set_variable = { 
				name = prod_tools_dmnd_metal
				value = var:prod_tools_metal
			}
			change_variable = { 
				name = prod_tools_dmnd_metal
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_metal
				divide = var:trade_price_metal
			}
			change_variable = { 
				name = prod_tools_dmnd_metal
				multiply = var:prod_tools_dmnd_metal
			}
			change_variable = { 
				name = prod_tools_dmnd_metal
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_metal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_exotics_w
			}
			set_variable = { 
				name = prod_tools_dmnd_old_exotics_w
				value = var:prod_tools_dmnd_exotics_w
			}
			set_variable = { 
				name = prod_tools_in_old_exotics_w
				value = var:prod_tools_in_exotics_w
			}
			set_variable = { 
				name = prod_tools_dmnd_exotics_w
				value = var:prod_tools_exotics_w
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_w
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_w
				divide = var:trade_price_exotics_w
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_w
				multiply = var:prod_tools_dmnd_exotics_w
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_w
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_exotics_w
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_exotics_e
			}
			set_variable = { 
				name = prod_tools_dmnd_old_exotics_e
				value = var:prod_tools_dmnd_exotics_e
			}
			set_variable = { 
				name = prod_tools_in_old_exotics_e
				value = var:prod_tools_in_exotics_e
			}
			set_variable = { 
				name = prod_tools_dmnd_exotics_e
				value = var:prod_tools_exotics_e
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_e
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_e
				divide = var:trade_price_exotics_e
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_e
				multiply = var:prod_tools_dmnd_exotics_e
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_e
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_exotics_e
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_exotics_g
			}
			set_variable = { 
				name = prod_tools_dmnd_old_exotics_g
				value = var:prod_tools_dmnd_exotics_g
			}
			set_variable = { 
				name = prod_tools_in_old_exotics_g
				value = var:prod_tools_in_exotics_g
			}
			set_variable = { 
				name = prod_tools_dmnd_exotics_g
				value = var:prod_tools_exotics_g
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_g
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_g
				divide = var:trade_price_exotics_g
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_g
				multiply = var:prod_tools_dmnd_exotics_g
			}
			change_variable = { 
				name = prod_tools_dmnd_exotics_g
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_exotics_g
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_textile
			}
			set_variable = { 
				name = prod_tools_dmnd_old_textile
				value = var:prod_tools_dmnd_textile
			}
			set_variable = { 
				name = prod_tools_in_old_textile
				value = var:prod_tools_in_textile
			}
			set_variable = { 
				name = prod_tools_dmnd_textile
				value = var:prod_tools_textile
			}
			change_variable = { 
				name = prod_tools_dmnd_textile
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_textile
				divide = var:trade_price_textile
			}
			change_variable = { 
				name = prod_tools_dmnd_textile
				multiply = var:prod_tools_dmnd_textile
			}
			change_variable = { 
				name = prod_tools_dmnd_textile
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_textile
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_pottery
			}
			set_variable = { 
				name = prod_tools_dmnd_old_pottery
				value = var:prod_tools_dmnd_pottery
			}
			set_variable = { 
				name = prod_tools_in_old_pottery
				value = var:prod_tools_in_pottery
			}
			set_variable = { 
				name = prod_tools_dmnd_pottery
				value = var:prod_tools_pottery
			}
			change_variable = { 
				name = prod_tools_dmnd_pottery
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_pottery
				divide = var:trade_price_pottery
			}
			change_variable = { 
				name = prod_tools_dmnd_pottery
				multiply = var:prod_tools_dmnd_pottery
			}
			change_variable = { 
				name = prod_tools_dmnd_pottery
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_pottery
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_tools
			}
			set_variable = { 
				name = prod_tools_dmnd_old_tools
				value = var:prod_tools_dmnd_tools
			}
			set_variable = { 
				name = prod_tools_in_old_tools
				value = var:prod_tools_in_tools
			}
			set_variable = { 
				name = prod_tools_dmnd_tools
				value = var:prod_tools_tools
			}
			change_variable = { 
				name = prod_tools_dmnd_tools
				multiply = 10
			}
			change_variable = { 
				name = prod_tools_dmnd_tools
				divide = var:trade_price_tools
			}
			change_variable = { 
				name = prod_tools_dmnd_tools
				multiply = var:prod_tools_dmnd_tools
			}
			change_variable = { 
				name = prod_tools_dmnd_tools
				add = 0.001
			}
			change_variable = { 
				name = prod_update_instances_t
				add = var:prod_tools_dmnd_tools
			}
		}
		if = { 
			limit = { 
				has_variable = prod_update_instances_t
				var:prod_update_instances_t > 0
			}
			set_variable = { 
				name = prod_update_instances_tt
				value = 0.001
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_food
					var:prod_tools_dmnd_food > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					divide = var:prod_tools_food
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_food
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_food
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_cereal
					var:prod_tools_dmnd_cereal > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					divide = var:prod_tools_cereal
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_cereal
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_cereal
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salted
					var:prod_tools_dmnd_salted > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					divide = var:prod_tools_salted
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_salted
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_salted
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salt
					var:prod_tools_dmnd_salt > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					divide = var:prod_tools_salt
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_salt
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_salt
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_mud
					var:prod_tools_dmnd_mud > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					divide = var:prod_tools_mud
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_mud
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_mud
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fuel
					var:prod_tools_dmnd_fuel > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					divide = var:prod_tools_fuel
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_fuel
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_fuel
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fiber
					var:prod_tools_dmnd_fiber > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					divide = var:prod_tools_fiber
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_fiber
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_fiber
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_timber
					var:prod_tools_dmnd_timber > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					divide = var:prod_tools_timber
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_timber
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_timber
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_metal
					var:prod_tools_dmnd_metal > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					divide = var:prod_tools_metal
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_metal
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_metal
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_w
					var:prod_tools_dmnd_exotics_w > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					divide = var:prod_tools_exotics_w
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_exotics_w
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_e
					var:prod_tools_dmnd_exotics_e > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					divide = var:prod_tools_exotics_e
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_exotics_e
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_g
					var:prod_tools_dmnd_exotics_g > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					divide = var:prod_tools_exotics_g
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_exotics_g
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_textile
					var:prod_tools_dmnd_textile > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					divide = var:prod_tools_textile
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_textile
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_textile
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_pottery
					var:prod_tools_dmnd_pottery > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					divide = var:prod_tools_pottery
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_pottery
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_pottery
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_tools
					var:prod_tools_dmnd_tools > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					multiply = 10
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					divide = var:prod_tools_tools
				}
				set_variable = { 
					name = prod_update_instances_ttt
					value = var:prod_tools_dmnd_tools
				}
				change_variable = { 
					name = prod_update_instances_ttt
					multiply = var:trade_price_tools
				}
				change_variable = { 
					name = prod_update_instances_ttt
					divide = 10
				}
				change_variable = { 
					name = prod_update_instances_tt
					add = var:prod_update_instances_ttt
				}
			}
			set_variable = { 
				name = prod_update_instances_ttt
				value = 0
			}
			every_in_list = { 
				variable = prod_instances
				prev = { 
					change_variable = { 
						name = prod_update_instances_ttt
						add = prev.var:prod_earn
					}
				}
			}
			change_variable = { 
				name = prod_update_instances_ttt
				multiply = 0.1
			}
			change_variable = { 
				name = prod_update_instances_ttt
				divide = var:prod_update_instances_tt
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_food
					var:prod_tools_dmnd_food > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_food
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_cereal
					var:prod_tools_dmnd_cereal > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_cereal
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salted
					var:prod_tools_dmnd_salted > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_salted
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salt
					var:prod_tools_dmnd_salt > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_salt
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_mud
					var:prod_tools_dmnd_mud > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_mud
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fuel
					var:prod_tools_dmnd_fuel > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_fuel
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fiber
					var:prod_tools_dmnd_fiber > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_fiber
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_timber
					var:prod_tools_dmnd_timber > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_timber
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_metal
					var:prod_tools_dmnd_metal > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_metal
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_w
					var:prod_tools_dmnd_exotics_w > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_w
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_e
					var:prod_tools_dmnd_exotics_e > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_e
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_g
					var:prod_tools_dmnd_exotics_g > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_exotics_g
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_textile
					var:prod_tools_dmnd_textile > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_textile
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_pottery
					var:prod_tools_dmnd_pottery > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_pottery
					divide = 10
				}
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_tools
					var:prod_tools_dmnd_tools > 0
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					multiply = var:prod_update_instances_ttt
				}
				change_variable = { 
					name = prod_tools_dmnd_tools
					divide = 10
				}
			}
			remove_variable = prod_update_instances_tt
			remove_variable = prod_update_instances_ttt
		}
		remove_variable = prod_update_instances_t
	}
	every_in_global_list = { 
		variable = prod_instances
		if = { 
			limit = { 
				has_variable = prod_sply_food
			}
			set_variable = { 
				name = prod_sply_food
				value = var:prod_template.var:prod_sply_food
			}
			change_variable = { 
				name = prod_sply_food
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_food
				multiply = var:prod_location.county.var:modi_prod_sply_food
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_cereal
			}
			set_variable = { 
				name = prod_sply_cereal
				value = var:prod_template.var:prod_sply_cereal
			}
			change_variable = { 
				name = prod_sply_cereal
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_cereal
				multiply = var:prod_location.county.var:modi_prod_sply_cereal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_salted
			}
			set_variable = { 
				name = prod_sply_salted
				value = var:prod_template.var:prod_sply_salted
			}
			change_variable = { 
				name = prod_sply_salted
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_salted
				multiply = var:prod_location.county.var:modi_prod_sply_salted
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_salt
			}
			set_variable = { 
				name = prod_sply_salt
				value = var:prod_template.var:prod_sply_salt
			}
			change_variable = { 
				name = prod_sply_salt
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_salt
				multiply = var:prod_location.county.var:modi_prod_sply_salt
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_mud
			}
			set_variable = { 
				name = prod_sply_mud
				value = var:prod_template.var:prod_sply_mud
			}
			change_variable = { 
				name = prod_sply_mud
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_mud
				multiply = var:prod_location.county.var:modi_prod_sply_mud
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_fuel
			}
			set_variable = { 
				name = prod_sply_fuel
				value = var:prod_template.var:prod_sply_fuel
			}
			change_variable = { 
				name = prod_sply_fuel
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_fuel
				multiply = var:prod_location.county.var:modi_prod_sply_fuel
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_fiber
			}
			set_variable = { 
				name = prod_sply_fiber
				value = var:prod_template.var:prod_sply_fiber
			}
			change_variable = { 
				name = prod_sply_fiber
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_fiber
				multiply = var:prod_location.county.var:modi_prod_sply_fiber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_timber
			}
			set_variable = { 
				name = prod_sply_timber
				value = var:prod_template.var:prod_sply_timber
			}
			change_variable = { 
				name = prod_sply_timber
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_timber
				multiply = var:prod_location.county.var:modi_prod_sply_timber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_metal
			}
			set_variable = { 
				name = prod_sply_metal
				value = var:prod_template.var:prod_sply_metal
			}
			change_variable = { 
				name = prod_sply_metal
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_metal
				multiply = var:prod_location.county.var:modi_prod_sply_metal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_w
			}
			set_variable = { 
				name = prod_sply_exotics_w
				value = var:prod_template.var:prod_sply_exotics_w
			}
			change_variable = { 
				name = prod_sply_exotics_w
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_exotics_w
				multiply = var:prod_location.county.var:modi_prod_sply_exotics_w
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_e
			}
			set_variable = { 
				name = prod_sply_exotics_e
				value = var:prod_template.var:prod_sply_exotics_e
			}
			change_variable = { 
				name = prod_sply_exotics_e
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_exotics_e
				multiply = var:prod_location.county.var:modi_prod_sply_exotics_e
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_exotics_g
			}
			set_variable = { 
				name = prod_sply_exotics_g
				value = var:prod_template.var:prod_sply_exotics_g
			}
			change_variable = { 
				name = prod_sply_exotics_g
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_exotics_g
				multiply = var:prod_location.county.var:modi_prod_sply_exotics_g
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_textile
			}
			set_variable = { 
				name = prod_sply_textile
				value = var:prod_template.var:prod_sply_textile
			}
			change_variable = { 
				name = prod_sply_textile
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_textile
				multiply = var:prod_location.county.var:modi_prod_sply_textile
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_pottery
			}
			set_variable = { 
				name = prod_sply_pottery
				value = var:prod_template.var:prod_sply_pottery
			}
			change_variable = { 
				name = prod_sply_pottery
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_pottery
				multiply = var:prod_location.county.var:modi_prod_sply_pottery
			}
		}
		if = { 
			limit = { 
				has_variable = prod_sply_tools
			}
			set_variable = { 
				name = prod_sply_tools
				value = var:prod_template.var:prod_sply_tools
			}
			change_variable = { 
				name = prod_sply_tools
				multiply = var:prod_size
			}
			change_variable = { 
				name = prod_sply_tools
				multiply = var:prod_location.county.var:modi_prod_sply_tools
			}
		}
		if = { 
			limit = { 
				var:prod_template = { 
					has_variable = prod_dmnd
				}
			}
			set_variable = { 
				name = prod_update_instances_t
				value = 0
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_food
					}
				}
				set_variable = { 
					name = prod_dmnd_food
					value = var:prod_template.var:prod_dmnd_food
				}
				change_variable = { 
					name = prod_dmnd_food
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_food
					divide = var:prod_location.county.var:trade_price_food
				}
				change_variable = { 
					name = prod_dmnd_food
					multiply = var:prod_dmnd_food
				}
				change_variable = { 
					name = prod_dmnd_food
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_food
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_cereal
					}
				}
				set_variable = { 
					name = prod_dmnd_cereal
					value = var:prod_template.var:prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_dmnd_cereal
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_cereal
					divide = var:prod_location.county.var:trade_price_cereal
				}
				change_variable = { 
					name = prod_dmnd_cereal
					multiply = var:prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_dmnd_cereal
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_cereal
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_salted
					}
				}
				set_variable = { 
					name = prod_dmnd_salted
					value = var:prod_template.var:prod_dmnd_salted
				}
				change_variable = { 
					name = prod_dmnd_salted
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_salted
					divide = var:prod_location.county.var:trade_price_salted
				}
				change_variable = { 
					name = prod_dmnd_salted
					multiply = var:prod_dmnd_salted
				}
				change_variable = { 
					name = prod_dmnd_salted
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_salted
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_salt
					}
				}
				set_variable = { 
					name = prod_dmnd_salt
					value = var:prod_template.var:prod_dmnd_salt
				}
				change_variable = { 
					name = prod_dmnd_salt
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_salt
					divide = var:prod_location.county.var:trade_price_salt
				}
				change_variable = { 
					name = prod_dmnd_salt
					multiply = var:prod_dmnd_salt
				}
				change_variable = { 
					name = prod_dmnd_salt
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_salt
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_mud
					}
				}
				set_variable = { 
					name = prod_dmnd_mud
					value = var:prod_template.var:prod_dmnd_mud
				}
				change_variable = { 
					name = prod_dmnd_mud
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_mud
					divide = var:prod_location.county.var:trade_price_mud
				}
				change_variable = { 
					name = prod_dmnd_mud
					multiply = var:prod_dmnd_mud
				}
				change_variable = { 
					name = prod_dmnd_mud
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_mud
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_fuel
					}
				}
				set_variable = { 
					name = prod_dmnd_fuel
					value = var:prod_template.var:prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_dmnd_fuel
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_fuel
					divide = var:prod_location.county.var:trade_price_fuel
				}
				change_variable = { 
					name = prod_dmnd_fuel
					multiply = var:prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_dmnd_fuel
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_fuel
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_fiber
					}
				}
				set_variable = { 
					name = prod_dmnd_fiber
					value = var:prod_template.var:prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_dmnd_fiber
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_fiber
					divide = var:prod_location.county.var:trade_price_fiber
				}
				change_variable = { 
					name = prod_dmnd_fiber
					multiply = var:prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_dmnd_fiber
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_fiber
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_timber
					}
				}
				set_variable = { 
					name = prod_dmnd_timber
					value = var:prod_template.var:prod_dmnd_timber
				}
				change_variable = { 
					name = prod_dmnd_timber
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_timber
					divide = var:prod_location.county.var:trade_price_timber
				}
				change_variable = { 
					name = prod_dmnd_timber
					multiply = var:prod_dmnd_timber
				}
				change_variable = { 
					name = prod_dmnd_timber
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_timber
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_metal
					}
				}
				set_variable = { 
					name = prod_dmnd_metal
					value = var:prod_template.var:prod_dmnd_metal
				}
				change_variable = { 
					name = prod_dmnd_metal
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_metal
					divide = var:prod_location.county.var:trade_price_metal
				}
				change_variable = { 
					name = prod_dmnd_metal
					multiply = var:prod_dmnd_metal
				}
				change_variable = { 
					name = prod_dmnd_metal
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_metal
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = prod_dmnd_exotics_w
					value = var:prod_template.var:prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					divide = var:prod_location.county.var:trade_price_exotics_w
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					multiply = var:prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_exotics_w
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = prod_dmnd_exotics_e
					value = var:prod_template.var:prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					divide = var:prod_location.county.var:trade_price_exotics_e
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					multiply = var:prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_exotics_e
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = prod_dmnd_exotics_g
					value = var:prod_template.var:prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					divide = var:prod_location.county.var:trade_price_exotics_g
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					multiply = var:prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_exotics_g
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_textile
					}
				}
				set_variable = { 
					name = prod_dmnd_textile
					value = var:prod_template.var:prod_dmnd_textile
				}
				change_variable = { 
					name = prod_dmnd_textile
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_textile
					divide = var:prod_location.county.var:trade_price_textile
				}
				change_variable = { 
					name = prod_dmnd_textile
					multiply = var:prod_dmnd_textile
				}
				change_variable = { 
					name = prod_dmnd_textile
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_textile
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_pottery
					}
				}
				set_variable = { 
					name = prod_dmnd_pottery
					value = var:prod_template.var:prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_dmnd_pottery
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_pottery
					divide = var:prod_location.county.var:trade_price_pottery
				}
				change_variable = { 
					name = prod_dmnd_pottery
					multiply = var:prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_dmnd_pottery
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_pottery
				}
			}
			if = { 
				limit = { 
					var:prod_template = { 
						has_variable = prod_dmnd_tools
					}
				}
				set_variable = { 
					name = prod_dmnd_tools
					value = var:prod_template.var:prod_dmnd_tools
				}
				change_variable = { 
					name = prod_dmnd_tools
					multiply = 4
				}
				change_variable = { 
					name = prod_dmnd_tools
					divide = var:prod_location.county.var:trade_price_tools
				}
				change_variable = { 
					name = prod_dmnd_tools
					multiply = var:prod_dmnd_tools
				}
				change_variable = { 
					name = prod_dmnd_tools
					add = 0.001
				}
				change_variable = { 
					name = prod_update_instances_t
					add = var:prod_dmnd_tools
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_food
				}
				change_variable = { 
					name = prod_dmnd_food
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_food
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_food
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_food
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_food
					divide = var:prod_template.var:prod_dmnd_food
				}
				change_variable = { 
					name = prod_dmnd_food
					multiply = var:prod_location.county.var:modi_prod_dmnd_food
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_dmnd_cereal
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_cereal
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_cereal
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_cereal
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_cereal
					divide = var:prod_template.var:prod_dmnd_cereal
				}
				change_variable = { 
					name = prod_dmnd_cereal
					multiply = var:prod_location.county.var:modi_prod_dmnd_cereal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_salted
				}
				change_variable = { 
					name = prod_dmnd_salted
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_salted
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_salted
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_salted
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_salted
					divide = var:prod_template.var:prod_dmnd_salted
				}
				change_variable = { 
					name = prod_dmnd_salted
					multiply = var:prod_location.county.var:modi_prod_dmnd_salted
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_salt
				}
				change_variable = { 
					name = prod_dmnd_salt
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_salt
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_salt
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_salt
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_salt
					divide = var:prod_template.var:prod_dmnd_salt
				}
				change_variable = { 
					name = prod_dmnd_salt
					multiply = var:prod_location.county.var:modi_prod_dmnd_salt
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_mud
				}
				change_variable = { 
					name = prod_dmnd_mud
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_mud
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_mud
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_mud
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_mud
					divide = var:prod_template.var:prod_dmnd_mud
				}
				change_variable = { 
					name = prod_dmnd_mud
					multiply = var:prod_location.county.var:modi_prod_dmnd_mud
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_dmnd_fuel
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_fuel
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_fuel
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_fuel
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_fuel
					divide = var:prod_template.var:prod_dmnd_fuel
				}
				change_variable = { 
					name = prod_dmnd_fuel
					multiply = var:prod_location.county.var:modi_prod_dmnd_fuel
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_dmnd_fiber
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_fiber
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_fiber
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_fiber
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_fiber
					divide = var:prod_template.var:prod_dmnd_fiber
				}
				change_variable = { 
					name = prod_dmnd_fiber
					multiply = var:prod_location.county.var:modi_prod_dmnd_fiber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_timber
				}
				change_variable = { 
					name = prod_dmnd_timber
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_timber
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_timber
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_timber
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_timber
					divide = var:prod_template.var:prod_dmnd_timber
				}
				change_variable = { 
					name = prod_dmnd_timber
					multiply = var:prod_location.county.var:modi_prod_dmnd_timber
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_metal
				}
				change_variable = { 
					name = prod_dmnd_metal
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_metal
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_metal
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_metal
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_metal
					divide = var:prod_template.var:prod_dmnd_metal
				}
				change_variable = { 
					name = prod_dmnd_metal
					multiply = var:prod_location.county.var:modi_prod_dmnd_metal
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					divide = var:prod_template.var:prod_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_dmnd_exotics_w
					multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_w
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					divide = var:prod_template.var:prod_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_dmnd_exotics_e
					multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_e
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					divide = var:prod_template.var:prod_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_dmnd_exotics_g
					multiply = var:prod_location.county.var:modi_prod_dmnd_exotics_g
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_textile
				}
				change_variable = { 
					name = prod_dmnd_textile
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_textile
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_textile
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_textile
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_textile
					divide = var:prod_template.var:prod_dmnd_textile
				}
				change_variable = { 
					name = prod_dmnd_textile
					multiply = var:prod_location.county.var:modi_prod_dmnd_textile
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_dmnd_pottery
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_pottery
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_pottery
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_pottery
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_pottery
					divide = var:prod_template.var:prod_dmnd_pottery
				}
				change_variable = { 
					name = prod_dmnd_pottery
					multiply = var:prod_location.county.var:modi_prod_dmnd_pottery
				}
			}
			if = { 
				limit = { 
					has_variable = prod_dmnd_tools
				}
				change_variable = { 
					name = prod_dmnd_tools
					multiply = 10
				}
				change_variable = { 
					name = prod_dmnd_tools
					divide = var:prod_update_instances_t
				}
				change_variable = { 
					name = prod_dmnd_tools
					multiply = var:prod_size
				}
				change_variable = { 
					name = prod_dmnd_tools
					divide = 10
				}
				change_variable = { 
					name = prod_dmnd_tools
					divide = var:prod_template.var:prod_dmnd_tools
				}
				change_variable = { 
					name = prod_dmnd_tools
					multiply = var:prod_location.county.var:modi_prod_dmnd_tools
				}
			}
			remove_variable = prod_update_instances_t
		}
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = pop_calorie_food
			value = pop_calorie_food
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_food
				var:pop_calorie_food > 0
			}
			change_variable = { 
				name = pop_calorie_food
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_food
				divide = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_calorie_food
				multiply = var:pop_calorie_food
			}
			change_variable = { 
				name = pop_calorie_food
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_food
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_cereal
			value = pop_calorie_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_cereal
				var:pop_calorie_cereal > 0
			}
			change_variable = { 
				name = pop_calorie_cereal
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_cereal
				divide = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_calorie_cereal
				multiply = var:pop_calorie_cereal
			}
			change_variable = { 
				name = pop_calorie_cereal
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_cereal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_salted
			value = pop_calorie_salted
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salted
				var:pop_calorie_salted > 0
			}
			change_variable = { 
				name = pop_calorie_salted
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_salted
				divide = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_calorie_salted
				multiply = var:pop_calorie_salted
			}
			change_variable = { 
				name = pop_calorie_salted
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_salted
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_salt
			value = pop_calorie_salt
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salt
				var:pop_calorie_salt > 0
			}
			change_variable = { 
				name = pop_calorie_salt
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_salt
				divide = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_calorie_salt
				multiply = var:pop_calorie_salt
			}
			change_variable = { 
				name = pop_calorie_salt
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_salt
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_mud
			value = pop_calorie_mud
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_mud
				var:pop_calorie_mud > 0
			}
			change_variable = { 
				name = pop_calorie_mud
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_mud
				divide = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_calorie_mud
				multiply = var:pop_calorie_mud
			}
			change_variable = { 
				name = pop_calorie_mud
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_mud
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_fuel
			value = pop_calorie_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fuel
				var:pop_calorie_fuel > 0
			}
			change_variable = { 
				name = pop_calorie_fuel
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_fuel
				divide = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_calorie_fuel
				multiply = var:pop_calorie_fuel
			}
			change_variable = { 
				name = pop_calorie_fuel
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_fuel
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_fiber
			value = pop_calorie_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fiber
				var:pop_calorie_fiber > 0
			}
			change_variable = { 
				name = pop_calorie_fiber
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_fiber
				divide = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_calorie_fiber
				multiply = var:pop_calorie_fiber
			}
			change_variable = { 
				name = pop_calorie_fiber
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_fiber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_timber
			value = pop_calorie_timber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_timber
				var:pop_calorie_timber > 0
			}
			change_variable = { 
				name = pop_calorie_timber
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_timber
				divide = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_calorie_timber
				multiply = var:pop_calorie_timber
			}
			change_variable = { 
				name = pop_calorie_timber
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_timber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_metal
			value = pop_calorie_metal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_metal
				var:pop_calorie_metal > 0
			}
			change_variable = { 
				name = pop_calorie_metal
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_metal
				divide = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_calorie_metal
				multiply = var:pop_calorie_metal
			}
			change_variable = { 
				name = pop_calorie_metal
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_metal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_exotics_w
			value = pop_calorie_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_w
				var:pop_calorie_exotics_w > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				divide = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				multiply = var:pop_calorie_exotics_w
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_exotics_e
			value = pop_calorie_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_e
				var:pop_calorie_exotics_e > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				divide = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				multiply = var:pop_calorie_exotics_e
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_exotics_g
			value = pop_calorie_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_g
				var:pop_calorie_exotics_g > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				divide = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				multiply = var:pop_calorie_exotics_g
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_textile
			value = pop_calorie_textile
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_textile
				var:pop_calorie_textile > 0
			}
			change_variable = { 
				name = pop_calorie_textile
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_textile
				divide = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_calorie_textile
				multiply = var:pop_calorie_textile
			}
			change_variable = { 
				name = pop_calorie_textile
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_textile
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_pottery
			value = pop_calorie_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_pottery
				var:pop_calorie_pottery > 0
			}
			change_variable = { 
				name = pop_calorie_pottery
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_pottery
				divide = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_calorie_pottery
				multiply = var:pop_calorie_pottery
			}
			change_variable = { 
				name = pop_calorie_pottery
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_pottery
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_calorie_tools
			value = pop_calorie_tools
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_tools
				var:pop_calorie_tools > 0
			}
			change_variable = { 
				name = pop_calorie_tools
				multiply = 50
			}
			change_variable = { 
				name = pop_calorie_tools
				divide = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_calorie_tools
				multiply = var:pop_calorie_tools
			}
			change_variable = { 
				name = pop_calorie_tools
				divide = 50
			}
			change_variable = { 
				name = pop_calorie_tools
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 0
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_food
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_cereal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_salted
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_salt
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_mud
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_fuel
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_fiber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_timber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_metal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_exotics_w
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_exotics_e
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_exotics_g
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_textile
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_pottery
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_calorie_tools
		}
		change_variable = { 
			name = pop_calorie_food
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_cereal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_salted
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_salt
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_mud
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_fuel
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_fiber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_timber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_metal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_exotics_w
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_exotics_e
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_exotics_g
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_textile
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_pottery
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie_tools
			divide = var:pop_update_demand_t
		}
		set_variable = { 
			name = pop_nutrient_food
			value = pop_nutrient_food
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_food
				var:pop_nutrient_food > 0
			}
			change_variable = { 
				name = pop_nutrient_food
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_food
				divide = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_nutrient_food
				multiply = var:pop_nutrient_food
			}
			change_variable = { 
				name = pop_nutrient_food
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_food
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_cereal
			value = pop_nutrient_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_cereal
				var:pop_nutrient_cereal > 0
			}
			change_variable = { 
				name = pop_nutrient_cereal
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_cereal
				divide = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_nutrient_cereal
				multiply = var:pop_nutrient_cereal
			}
			change_variable = { 
				name = pop_nutrient_cereal
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_cereal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_salted
			value = pop_nutrient_salted
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salted
				var:pop_nutrient_salted > 0
			}
			change_variable = { 
				name = pop_nutrient_salted
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_salted
				divide = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_nutrient_salted
				multiply = var:pop_nutrient_salted
			}
			change_variable = { 
				name = pop_nutrient_salted
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_salted
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_salt
			value = pop_nutrient_salt
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salt
				var:pop_nutrient_salt > 0
			}
			change_variable = { 
				name = pop_nutrient_salt
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_salt
				divide = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_nutrient_salt
				multiply = var:pop_nutrient_salt
			}
			change_variable = { 
				name = pop_nutrient_salt
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_salt
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_mud
			value = pop_nutrient_mud
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_mud
				var:pop_nutrient_mud > 0
			}
			change_variable = { 
				name = pop_nutrient_mud
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_mud
				divide = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_nutrient_mud
				multiply = var:pop_nutrient_mud
			}
			change_variable = { 
				name = pop_nutrient_mud
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_mud
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_fuel
			value = pop_nutrient_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fuel
				var:pop_nutrient_fuel > 0
			}
			change_variable = { 
				name = pop_nutrient_fuel
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_fuel
				divide = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_nutrient_fuel
				multiply = var:pop_nutrient_fuel
			}
			change_variable = { 
				name = pop_nutrient_fuel
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_fuel
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_fiber
			value = pop_nutrient_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fiber
				var:pop_nutrient_fiber > 0
			}
			change_variable = { 
				name = pop_nutrient_fiber
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_fiber
				divide = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_nutrient_fiber
				multiply = var:pop_nutrient_fiber
			}
			change_variable = { 
				name = pop_nutrient_fiber
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_fiber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_timber
			value = pop_nutrient_timber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_timber
				var:pop_nutrient_timber > 0
			}
			change_variable = { 
				name = pop_nutrient_timber
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_timber
				divide = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_nutrient_timber
				multiply = var:pop_nutrient_timber
			}
			change_variable = { 
				name = pop_nutrient_timber
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_timber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_metal
			value = pop_nutrient_metal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_metal
				var:pop_nutrient_metal > 0
			}
			change_variable = { 
				name = pop_nutrient_metal
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_metal
				divide = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_nutrient_metal
				multiply = var:pop_nutrient_metal
			}
			change_variable = { 
				name = pop_nutrient_metal
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_metal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_exotics_w
			value = pop_nutrient_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_w
				var:pop_nutrient_exotics_w > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				divide = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				multiply = var:pop_nutrient_exotics_w
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_exotics_e
			value = pop_nutrient_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_e
				var:pop_nutrient_exotics_e > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				divide = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				multiply = var:pop_nutrient_exotics_e
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_exotics_g
			value = pop_nutrient_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_g
				var:pop_nutrient_exotics_g > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				divide = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				multiply = var:pop_nutrient_exotics_g
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_textile
			value = pop_nutrient_textile
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_textile
				var:pop_nutrient_textile > 0
			}
			change_variable = { 
				name = pop_nutrient_textile
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_textile
				divide = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_nutrient_textile
				multiply = var:pop_nutrient_textile
			}
			change_variable = { 
				name = pop_nutrient_textile
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_textile
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_pottery
			value = pop_nutrient_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_pottery
				var:pop_nutrient_pottery > 0
			}
			change_variable = { 
				name = pop_nutrient_pottery
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_pottery
				divide = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_nutrient_pottery
				multiply = var:pop_nutrient_pottery
			}
			change_variable = { 
				name = pop_nutrient_pottery
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_pottery
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_nutrient_tools
			value = pop_nutrient_tools
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_tools
				var:pop_nutrient_tools > 0
			}
			change_variable = { 
				name = pop_nutrient_tools
				multiply = 50
			}
			change_variable = { 
				name = pop_nutrient_tools
				divide = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_nutrient_tools
				multiply = var:pop_nutrient_tools
			}
			change_variable = { 
				name = pop_nutrient_tools
				divide = 50
			}
			change_variable = { 
				name = pop_nutrient_tools
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 0
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_food
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_cereal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_salted
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_salt
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_mud
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_fuel
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_fiber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_timber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_metal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_exotics_w
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_exotics_e
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_exotics_g
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_textile
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_pottery
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_nutrient_tools
		}
		change_variable = { 
			name = pop_nutrient_food
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_cereal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_salted
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_salt
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_mud
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_fuel
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_fiber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_timber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_metal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_exotics_w
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_exotics_e
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_exotics_g
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_textile
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_pottery
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient_tools
			divide = var:pop_update_demand_t
		}
		set_variable = { 
			name = pop_comfort_food
			value = pop_comfort_food
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_food
				var:pop_comfort_food > 0
			}
			change_variable = { 
				name = pop_comfort_food
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_food
				divide = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_comfort_food
				multiply = var:pop_comfort_food
			}
			change_variable = { 
				name = pop_comfort_food
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_food
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_cereal
			value = pop_comfort_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_cereal
				var:pop_comfort_cereal > 0
			}
			change_variable = { 
				name = pop_comfort_cereal
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_cereal
				divide = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_comfort_cereal
				multiply = var:pop_comfort_cereal
			}
			change_variable = { 
				name = pop_comfort_cereal
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_cereal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_salted
			value = pop_comfort_salted
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salted
				var:pop_comfort_salted > 0
			}
			change_variable = { 
				name = pop_comfort_salted
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_salted
				divide = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_comfort_salted
				multiply = var:pop_comfort_salted
			}
			change_variable = { 
				name = pop_comfort_salted
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_salted
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_salt
			value = pop_comfort_salt
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salt
				var:pop_comfort_salt > 0
			}
			change_variable = { 
				name = pop_comfort_salt
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_salt
				divide = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_comfort_salt
				multiply = var:pop_comfort_salt
			}
			change_variable = { 
				name = pop_comfort_salt
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_salt
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_mud
			value = pop_comfort_mud
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_mud
				var:pop_comfort_mud > 0
			}
			change_variable = { 
				name = pop_comfort_mud
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_mud
				divide = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_comfort_mud
				multiply = var:pop_comfort_mud
			}
			change_variable = { 
				name = pop_comfort_mud
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_mud
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_fuel
			value = pop_comfort_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fuel
				var:pop_comfort_fuel > 0
			}
			change_variable = { 
				name = pop_comfort_fuel
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_fuel
				divide = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_comfort_fuel
				multiply = var:pop_comfort_fuel
			}
			change_variable = { 
				name = pop_comfort_fuel
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_fuel
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_fiber
			value = pop_comfort_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fiber
				var:pop_comfort_fiber > 0
			}
			change_variable = { 
				name = pop_comfort_fiber
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_fiber
				divide = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_comfort_fiber
				multiply = var:pop_comfort_fiber
			}
			change_variable = { 
				name = pop_comfort_fiber
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_fiber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_timber
			value = pop_comfort_timber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_timber
				var:pop_comfort_timber > 0
			}
			change_variable = { 
				name = pop_comfort_timber
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_timber
				divide = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_comfort_timber
				multiply = var:pop_comfort_timber
			}
			change_variable = { 
				name = pop_comfort_timber
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_timber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_metal
			value = pop_comfort_metal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_metal
				var:pop_comfort_metal > 0
			}
			change_variable = { 
				name = pop_comfort_metal
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_metal
				divide = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_comfort_metal
				multiply = var:pop_comfort_metal
			}
			change_variable = { 
				name = pop_comfort_metal
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_metal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_exotics_w
			value = pop_comfort_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_w
				var:pop_comfort_exotics_w > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				divide = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				multiply = var:pop_comfort_exotics_w
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_exotics_e
			value = pop_comfort_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_e
				var:pop_comfort_exotics_e > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				divide = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				multiply = var:pop_comfort_exotics_e
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_exotics_g
			value = pop_comfort_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_g
				var:pop_comfort_exotics_g > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				divide = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				multiply = var:pop_comfort_exotics_g
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_textile
			value = pop_comfort_textile
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_textile
				var:pop_comfort_textile > 0
			}
			change_variable = { 
				name = pop_comfort_textile
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_textile
				divide = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_comfort_textile
				multiply = var:pop_comfort_textile
			}
			change_variable = { 
				name = pop_comfort_textile
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_textile
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_pottery
			value = pop_comfort_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_pottery
				var:pop_comfort_pottery > 0
			}
			change_variable = { 
				name = pop_comfort_pottery
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_pottery
				divide = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_comfort_pottery
				multiply = var:pop_comfort_pottery
			}
			change_variable = { 
				name = pop_comfort_pottery
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_pottery
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_comfort_tools
			value = pop_comfort_tools
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_tools
				var:pop_comfort_tools > 0
			}
			change_variable = { 
				name = pop_comfort_tools
				multiply = 50
			}
			change_variable = { 
				name = pop_comfort_tools
				divide = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_comfort_tools
				multiply = var:pop_comfort_tools
			}
			change_variable = { 
				name = pop_comfort_tools
				divide = 50
			}
			change_variable = { 
				name = pop_comfort_tools
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 0
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_food
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_cereal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_salted
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_salt
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_mud
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_fuel
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_fiber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_timber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_metal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_exotics_w
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_exotics_e
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_exotics_g
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_textile
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_pottery
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_comfort_tools
		}
		change_variable = { 
			name = pop_comfort_food
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_cereal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_salted
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_salt
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_mud
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_fuel
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_fiber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_timber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_metal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_exotics_w
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_exotics_e
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_exotics_g
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_textile
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_pottery
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort_tools
			divide = var:pop_update_demand_t
		}
		set_variable = { 
			name = pop_luxury_food
			value = pop_luxury_food
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_food
				var:pop_luxury_food > 0
			}
			change_variable = { 
				name = pop_luxury_food
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_food
				divide = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_luxury_food
				multiply = var:pop_luxury_food
			}
			change_variable = { 
				name = pop_luxury_food
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_food
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_cereal
			value = pop_luxury_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_cereal
				var:pop_luxury_cereal > 0
			}
			change_variable = { 
				name = pop_luxury_cereal
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_cereal
				divide = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_luxury_cereal
				multiply = var:pop_luxury_cereal
			}
			change_variable = { 
				name = pop_luxury_cereal
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_cereal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_salted
			value = pop_luxury_salted
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salted
				var:pop_luxury_salted > 0
			}
			change_variable = { 
				name = pop_luxury_salted
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_salted
				divide = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_luxury_salted
				multiply = var:pop_luxury_salted
			}
			change_variable = { 
				name = pop_luxury_salted
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_salted
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_salt
			value = pop_luxury_salt
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salt
				var:pop_luxury_salt > 0
			}
			change_variable = { 
				name = pop_luxury_salt
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_salt
				divide = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_luxury_salt
				multiply = var:pop_luxury_salt
			}
			change_variable = { 
				name = pop_luxury_salt
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_salt
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_mud
			value = pop_luxury_mud
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_mud
				var:pop_luxury_mud > 0
			}
			change_variable = { 
				name = pop_luxury_mud
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_mud
				divide = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_luxury_mud
				multiply = var:pop_luxury_mud
			}
			change_variable = { 
				name = pop_luxury_mud
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_mud
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_fuel
			value = pop_luxury_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fuel
				var:pop_luxury_fuel > 0
			}
			change_variable = { 
				name = pop_luxury_fuel
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_fuel
				divide = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_luxury_fuel
				multiply = var:pop_luxury_fuel
			}
			change_variable = { 
				name = pop_luxury_fuel
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_fuel
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_fiber
			value = pop_luxury_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fiber
				var:pop_luxury_fiber > 0
			}
			change_variable = { 
				name = pop_luxury_fiber
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_fiber
				divide = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_luxury_fiber
				multiply = var:pop_luxury_fiber
			}
			change_variable = { 
				name = pop_luxury_fiber
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_fiber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_timber
			value = pop_luxury_timber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_timber
				var:pop_luxury_timber > 0
			}
			change_variable = { 
				name = pop_luxury_timber
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_timber
				divide = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_luxury_timber
				multiply = var:pop_luxury_timber
			}
			change_variable = { 
				name = pop_luxury_timber
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_timber
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_metal
			value = pop_luxury_metal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_metal
				var:pop_luxury_metal > 0
			}
			change_variable = { 
				name = pop_luxury_metal
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_metal
				divide = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_luxury_metal
				multiply = var:pop_luxury_metal
			}
			change_variable = { 
				name = pop_luxury_metal
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_metal
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_exotics_w
			value = pop_luxury_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_w
				var:pop_luxury_exotics_w > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				divide = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				multiply = var:pop_luxury_exotics_w
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_exotics_e
			value = pop_luxury_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_e
				var:pop_luxury_exotics_e > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				divide = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				multiply = var:pop_luxury_exotics_e
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_exotics_g
			value = pop_luxury_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_g
				var:pop_luxury_exotics_g > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				divide = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				multiply = var:pop_luxury_exotics_g
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_textile
			value = pop_luxury_textile
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_textile
				var:pop_luxury_textile > 0
			}
			change_variable = { 
				name = pop_luxury_textile
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_textile
				divide = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_luxury_textile
				multiply = var:pop_luxury_textile
			}
			change_variable = { 
				name = pop_luxury_textile
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_textile
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_pottery
			value = pop_luxury_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_pottery
				var:pop_luxury_pottery > 0
			}
			change_variable = { 
				name = pop_luxury_pottery
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_pottery
				divide = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_luxury_pottery
				multiply = var:pop_luxury_pottery
			}
			change_variable = { 
				name = pop_luxury_pottery
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_pottery
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_luxury_tools
			value = pop_luxury_tools
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_tools
				var:pop_luxury_tools > 0
			}
			change_variable = { 
				name = pop_luxury_tools
				multiply = 50
			}
			change_variable = { 
				name = pop_luxury_tools
				divide = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_luxury_tools
				multiply = var:pop_luxury_tools
			}
			change_variable = { 
				name = pop_luxury_tools
				divide = 50
			}
			change_variable = { 
				name = pop_luxury_tools
				add = 0.001
			}
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 0
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_food
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_cereal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_salted
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_salt
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_mud
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_fuel
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_fiber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_timber
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_metal
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_exotics_w
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_exotics_e
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_exotics_g
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_textile
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_pottery
		}
		change_variable = { 
			name = pop_update_demand_t
			add = var:pop_luxury_tools
		}
		change_variable = { 
			name = pop_luxury_food
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_cereal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_salted
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_salt
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_mud
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_fuel
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_fiber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_timber
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_metal
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_exotics_w
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_exotics_e
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_exotics_g
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_textile
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_pottery
			divide = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury_tools
			divide = var:pop_update_demand_t
		}
		set_variable = { 
			name = pop_calorie_cost
			value = 0
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_food
				var:pop_calorie_food > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_food
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_food
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_cereal
				var:pop_calorie_cereal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salted
				var:pop_calorie_salted > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salt
				var:pop_calorie_salt > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_mud
				var:pop_calorie_mud > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fuel
				var:pop_calorie_fuel > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fiber
				var:pop_calorie_fiber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_timber
				var:pop_calorie_timber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_metal
				var:pop_calorie_metal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_w
				var:pop_calorie_exotics_w > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_e
				var:pop_calorie_exotics_e > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_g
				var:pop_calorie_exotics_g > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_textile
				var:pop_calorie_textile > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_pottery
				var:pop_calorie_pottery > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_tools
				var:pop_calorie_tools > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_calorie_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_calorie_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_calorie_cost
				add = var:pop_update_demand_t
			}
		}
		change_variable = { 
			name = pop_calorie_cost
			multiply = this.county.var:modi_pop_calorie
		}
		set_variable = { 
			name = pop_nutrient_cost
			value = 0
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_food
				var:pop_nutrient_food > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_food
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_food
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_cereal
				var:pop_nutrient_cereal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salted
				var:pop_nutrient_salted > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salt
				var:pop_nutrient_salt > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_mud
				var:pop_nutrient_mud > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fuel
				var:pop_nutrient_fuel > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fiber
				var:pop_nutrient_fiber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_timber
				var:pop_nutrient_timber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_metal
				var:pop_nutrient_metal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_w
				var:pop_nutrient_exotics_w > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_e
				var:pop_nutrient_exotics_e > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_g
				var:pop_nutrient_exotics_g > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_textile
				var:pop_nutrient_textile > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_pottery
				var:pop_nutrient_pottery > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_tools
				var:pop_nutrient_tools > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_nutrient_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_nutrient_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_nutrient_cost
				add = var:pop_update_demand_t
			}
		}
		change_variable = { 
			name = pop_nutrient_cost
			multiply = this.county.var:modi_pop_nutrient
		}
		set_variable = { 
			name = pop_comfort_cost
			value = 0
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_food
				var:pop_comfort_food > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_food
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_food
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_cereal
				var:pop_comfort_cereal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salted
				var:pop_comfort_salted > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salt
				var:pop_comfort_salt > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_mud
				var:pop_comfort_mud > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fuel
				var:pop_comfort_fuel > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fiber
				var:pop_comfort_fiber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_timber
				var:pop_comfort_timber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_metal
				var:pop_comfort_metal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_w
				var:pop_comfort_exotics_w > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_e
				var:pop_comfort_exotics_e > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_g
				var:pop_comfort_exotics_g > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_textile
				var:pop_comfort_textile > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_pottery
				var:pop_comfort_pottery > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_tools
				var:pop_comfort_tools > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_comfort_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_comfort_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_comfort_cost
				add = var:pop_update_demand_t
			}
		}
		change_variable = { 
			name = pop_comfort_cost
			multiply = this.county.var:modi_pop_comfort
		}
		set_variable = { 
			name = pop_luxury_cost
			value = 0
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_food
				var:pop_luxury_food > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_food
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_food
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_food
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_cereal
				var:pop_luxury_cereal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_cereal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_cereal
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salted
				var:pop_luxury_salted > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_salted
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salted
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salt
				var:pop_luxury_salt > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_salt
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_salt
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_mud
				var:pop_luxury_mud > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_mud
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_mud
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fuel
				var:pop_luxury_fuel > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_fuel
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fuel
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fiber
				var:pop_luxury_fiber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_fiber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_fiber
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_timber
				var:pop_luxury_timber > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_timber
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_timber
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_metal
				var:pop_luxury_metal > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_metal
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_metal
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_w
				var:pop_luxury_exotics_w > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_exotics_w
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_e
				var:pop_luxury_exotics_e > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_exotics_e
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_g
				var:pop_luxury_exotics_g > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_exotics_g
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_textile
				var:pop_luxury_textile > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_textile
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_textile
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_pottery
				var:pop_luxury_pottery > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_pottery
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_pottery
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_tools
				var:pop_luxury_tools > 0
			}
			set_variable = { 
				name = pop_update_demand_t
				value = var:pop_luxury_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				divide = pop_luxury_tools
			}
			change_variable = { 
				name = pop_update_demand_t
				multiply = this.county.var:trade_price_tools
			}
			change_variable = { 
				name = pop_luxury_cost
				add = var:pop_update_demand_t
			}
		}
		change_variable = { 
			name = pop_luxury_cost
			multiply = this.county.var:modi_pop_luxury
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 0
		}
		set_variable = { 
			name = pop_update_demand_calorie
			value = 0
		}
		set_variable = { 
			name = pop_update_demand_nutrient
			value = 0
		}
		set_variable = { 
			name = pop_update_demand_comfort
			value = 0
		}
		set_variable = { 
			name = pop_update_demand_luxury
			value = 0
		}
		while = { 
			limit = { 
				var:pop_update_demand_t <= 4
			}
			if = { 
				limit = { 
					OR = { 
						NOT = { 
							has_variable = pop_update_demand_t
						}
						var:pop_update_demand_t = 0
					}
				}
				set_variable = { 
					name = pop_free_calorie
					value = 0.5
				}
				set_variable = { 
					name = pop_free_nutrient
					value = 0.1
				}
				set_variable = { 
					name = pop_free_comfort
					value = 0.02
				}
				set_variable = { 
					name = pop_free_luxury
					value = 0
				}
			}
			else_if = { 
				limit = { 
					var:pop_update_demand_t = 1
				}
				set_variable = { 
					name = pop_free_calorie
					value = 1
				}
				set_variable = { 
					name = pop_free_nutrient
					value = 0.5
				}
				set_variable = { 
					name = pop_free_comfort
					value = 0.1
				}
				set_variable = { 
					name = pop_free_luxury
					value = 0.02
				}
			}
			else_if = { 
				limit = { 
					var:pop_update_demand_t = 2
				}
				set_variable = { 
					name = pop_free_calorie
					value = 1
				}
				set_variable = { 
					name = pop_free_nutrient
					value = 1
				}
				set_variable = { 
					name = pop_free_comfort
					value = 0.5
				}
				set_variable = { 
					name = pop_free_luxury
					value = 0.1
				}
			}
			else_if = { 
				limit = { 
					var:pop_update_demand_t = 3
				}
				set_variable = { 
					name = pop_free_calorie
					value = 1
				}
				set_variable = { 
					name = pop_free_nutrient
					value = 1
				}
				set_variable = { 
					name = pop_free_comfort
					value = 1
				}
				set_variable = { 
					name = pop_free_luxury
					value = 0.5
				}
			}
			else = { 
				set_variable = { 
					name = pop_free_calorie
					value = 1
				}
				set_variable = { 
					name = pop_free_nutrient
					value = 1
				}
				set_variable = { 
					name = pop_free_comfort
					value = 1
				}
				set_variable = { 
					name = pop_free_luxury
					value = 1
				}
			}
			set_variable = { 
				name = pop_update_demand_tt
				value = 0
			}
			set_variable = { 
				name = pop_update_demand_ttt
				value = var:pop_free_calorie
			}
			change_variable = { 
				name = pop_update_demand_ttt
				multiply = var:pop_calorie_cost
			}
			change_variable = { 
				name = pop_update_demand_tt
				add = var:pop_update_demand_ttt
			}
			set_variable = { 
				name = pop_update_demand_ttt
				value = var:pop_free_nutrient
			}
			change_variable = { 
				name = pop_update_demand_ttt
				multiply = var:pop_nutrient_cost
			}
			change_variable = { 
				name = pop_update_demand_tt
				add = var:pop_update_demand_ttt
			}
			set_variable = { 
				name = pop_update_demand_ttt
				value = var:pop_free_comfort
			}
			change_variable = { 
				name = pop_update_demand_ttt
				multiply = var:pop_comfort_cost
			}
			change_variable = { 
				name = pop_update_demand_tt
				add = var:pop_update_demand_ttt
			}
			set_variable = { 
				name = pop_update_demand_ttt
				value = var:pop_free_luxury
			}
			change_variable = { 
				name = pop_update_demand_ttt
				multiply = var:pop_luxury_cost
			}
			change_variable = { 
				name = pop_update_demand_tt
				add = var:pop_update_demand_ttt
			}
			change_variable = { 
				name = pop_update_demand_tt
				multiply = var:pop_total
			}
			change_variable = { 
				name = pop_update_demand_tt
				multiply = var:pop_freedom
			}
			set_variable = { 
				name = pop_update_demand_ttt
				value = var:pop_wealth
			}
			change_variable = { 
				name = pop_update_demand_ttt
				divide = 3
			}
			if = { 
				limit = { 
					has_variable = pop_update_demand_tt
					var:pop_update_demand_tt = { 
						compare_value <= prev.var:pop_update_demand_ttt
					}
				}
				change_variable = { 
					name = pop_update_demand_t
					add = 1
				}
				set_variable = { 
					name = pop_update_demand_calorie
					value = var:pop_free_calorie
				}
				set_variable = { 
					name = pop_update_demand_nutrient
					value = var:pop_free_nutrient
				}
				set_variable = { 
					name = pop_update_demand_comfort
					value = var:pop_free_comfort
				}
				set_variable = { 
					name = pop_update_demand_luxury
					value = var:pop_free_luxury
				}
			}
			else = { 
				set_variable = { 
					name = pop_update_demand_t
					value = 5
				}
				change_variable = { 
					name = pop_free_calorie
					add = var:pop_update_demand_calorie
				}
				change_variable = { 
					name = pop_free_nutrient
					add = var:pop_update_demand_nutrient
				}
				change_variable = { 
					name = pop_free_comfort
					add = var:pop_update_demand_comfort
				}
				change_variable = { 
					name = pop_free_luxury
					add = var:pop_update_demand_luxury
				}
				change_variable = { 
					name = pop_free_calorie
					divide = 2
				}
				change_variable = { 
					name = pop_free_nutrient
					divide = 2
				}
				change_variable = { 
					name = pop_free_comfort
					divide = 2
				}
				change_variable = { 
					name = pop_free_luxury
					divide = 2
				}
			}
		}
		if = { 
			limit = { 
				OR = { 
					NOT = { 
						has_variable = pop_pay_level
					}
					var:pop_pay_level = 0
				}
			}
			set_variable = { 
				name = pop_serf_calorie
				value = 0.5
			}
			set_variable = { 
				name = pop_serf_nutrient
				value = 0.1
			}
			set_variable = { 
				name = pop_serf_comfort
				value = 0.02
			}
			set_variable = { 
				name = pop_serf_luxury
				value = 0
			}
		}
		else_if = { 
			limit = { 
				var:pop_pay_level = 1
			}
			set_variable = { 
				name = pop_serf_calorie
				value = 1
			}
			set_variable = { 
				name = pop_serf_nutrient
				value = 0.5
			}
			set_variable = { 
				name = pop_serf_comfort
				value = 0.1
			}
			set_variable = { 
				name = pop_serf_luxury
				value = 0.02
			}
		}
		else_if = { 
			limit = { 
				var:pop_pay_level = 2
			}
			set_variable = { 
				name = pop_serf_calorie
				value = 1
			}
			set_variable = { 
				name = pop_serf_nutrient
				value = 1
			}
			set_variable = { 
				name = pop_serf_comfort
				value = 0.5
			}
			set_variable = { 
				name = pop_serf_luxury
				value = 0.1
			}
		}
		else_if = { 
			limit = { 
				var:pop_pay_level = 3
			}
			set_variable = { 
				name = pop_serf_calorie
				value = 1
			}
			set_variable = { 
				name = pop_serf_nutrient
				value = 1
			}
			set_variable = { 
				name = pop_serf_comfort
				value = 1
			}
			set_variable = { 
				name = pop_serf_luxury
				value = 0.5
			}
		}
		else = { 
			set_variable = { 
				name = pop_serf_calorie
				value = 1
			}
			set_variable = { 
				name = pop_serf_nutrient
				value = 1
			}
			set_variable = { 
				name = pop_serf_comfort
				value = 1
			}
			set_variable = { 
				name = pop_serf_luxury
				value = 1
			}
		}
		set_variable = { 
			name = pop_calorie
			value = 0
		}
		set_variable = { 
			name = pop_nutrient
			value = 0
		}
		set_variable = { 
			name = pop_comfort
			value = 0
		}
		set_variable = { 
			name = pop_luxury
			value = 0
		}
		set_variable = { 
			name = pop_update_demand_t
			value = 1
		}
		change_variable = { 
			name = pop_update_demand_t
			subtract = var:pop_freedom
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_serf_calorie
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_calorie
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_serf_nutrient
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_nutrient
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_serf_comfort
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_comfort
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_serf_luxury
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_update_demand_t
		}
		change_variable = { 
			name = pop_luxury
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_free_calorie
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_calorie
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_free_nutrient
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_nutrient
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_free_comfort
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_comfort
			add = var:pop_update_demand_tt
		}
		set_variable = { 
			name = pop_update_demand_tt
			value = var:pop_free_luxury
		}
		change_variable = { 
			name = pop_update_demand_tt
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_luxury
			add = var:pop_update_demand_tt
		}
		change_variable = { 
			name = pop_free_calorie
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_free_nutrient
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_free_comfort
			multiply = var:pop_freedom
		}
		change_variable = { 
			name = pop_free_luxury
			multiply = var:pop_freedom
		}
		if = { 
			limit = { 
				has_variable = pop_calorie
				var:pop_calorie > 0
			}
			change_variable = { 
				name = pop_free_calorie
				divide = var:pop_calorie
			}
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient
				var:pop_nutrient > 0
			}
			change_variable = { 
				name = pop_free_nutrient
				divide = var:pop_nutrient
			}
		}
		if = { 
			limit = { 
				has_variable = pop_comfort
				var:pop_comfort > 0
			}
			change_variable = { 
				name = pop_free_comfort
				divide = var:pop_comfort
			}
		}
		if = { 
			limit = { 
				has_variable = pop_luxury
				var:pop_luxury > 0
			}
			change_variable = { 
				name = pop_free_luxury
				divide = var:pop_luxury
			}
		}
		change_variable = { 
			name = pop_calorie
			multiply = var:pop_total
		}
		change_variable = { 
			name = pop_calorie
			multiply = this.county.var:modi_pop_calorie
		}
		change_variable = { 
			name = pop_nutrient
			multiply = var:pop_total
		}
		change_variable = { 
			name = pop_nutrient
			multiply = this.county.var:modi_pop_nutrient
		}
		change_variable = { 
			name = pop_comfort
			multiply = var:pop_total
		}
		change_variable = { 
			name = pop_comfort
			multiply = this.county.var:modi_pop_comfort
		}
		change_variable = { 
			name = pop_luxury
			multiply = var:pop_total
		}
		change_variable = { 
			name = pop_luxury
			multiply = this.county.var:modi_pop_luxury
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_food
				var:pop_calorie_food > 0
			}
			change_variable = { 
				name = pop_calorie_food
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_food
				divide = pop_calorie_food
			}
		}
		else = { 
			remove_variable = pop_calorie_food
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_food
				var:pop_nutrient_food > 0
			}
			change_variable = { 
				name = pop_nutrient_food
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_food
				divide = pop_nutrient_food
			}
		}
		else = { 
			remove_variable = pop_nutrient_food
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_food
				var:pop_comfort_food > 0
			}
			change_variable = { 
				name = pop_comfort_food
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_food
				divide = pop_comfort_food
			}
		}
		else = { 
			remove_variable = pop_comfort_food
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_food
				var:pop_luxury_food > 0
			}
			change_variable = { 
				name = pop_luxury_food
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_food
				divide = pop_luxury_food
			}
		}
		else = { 
			remove_variable = pop_luxury_food
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_cereal
				var:pop_calorie_cereal > 0
			}
			change_variable = { 
				name = pop_calorie_cereal
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_cereal
				divide = pop_calorie_cereal
			}
		}
		else = { 
			remove_variable = pop_calorie_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_cereal
				var:pop_nutrient_cereal > 0
			}
			change_variable = { 
				name = pop_nutrient_cereal
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_cereal
				divide = pop_nutrient_cereal
			}
		}
		else = { 
			remove_variable = pop_nutrient_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_cereal
				var:pop_comfort_cereal > 0
			}
			change_variable = { 
				name = pop_comfort_cereal
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_cereal
				divide = pop_comfort_cereal
			}
		}
		else = { 
			remove_variable = pop_comfort_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_cereal
				var:pop_luxury_cereal > 0
			}
			change_variable = { 
				name = pop_luxury_cereal
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_cereal
				divide = pop_luxury_cereal
			}
		}
		else = { 
			remove_variable = pop_luxury_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salted
				var:pop_calorie_salted > 0
			}
			change_variable = { 
				name = pop_calorie_salted
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_salted
				divide = pop_calorie_salted
			}
		}
		else = { 
			remove_variable = pop_calorie_salted
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salted
				var:pop_nutrient_salted > 0
			}
			change_variable = { 
				name = pop_nutrient_salted
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_salted
				divide = pop_nutrient_salted
			}
		}
		else = { 
			remove_variable = pop_nutrient_salted
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salted
				var:pop_comfort_salted > 0
			}
			change_variable = { 
				name = pop_comfort_salted
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_salted
				divide = pop_comfort_salted
			}
		}
		else = { 
			remove_variable = pop_comfort_salted
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salted
				var:pop_luxury_salted > 0
			}
			change_variable = { 
				name = pop_luxury_salted
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_salted
				divide = pop_luxury_salted
			}
		}
		else = { 
			remove_variable = pop_luxury_salted
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_salt
				var:pop_calorie_salt > 0
			}
			change_variable = { 
				name = pop_calorie_salt
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_salt
				divide = pop_calorie_salt
			}
		}
		else = { 
			remove_variable = pop_calorie_salt
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_salt
				var:pop_nutrient_salt > 0
			}
			change_variable = { 
				name = pop_nutrient_salt
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_salt
				divide = pop_nutrient_salt
			}
		}
		else = { 
			remove_variable = pop_nutrient_salt
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_salt
				var:pop_comfort_salt > 0
			}
			change_variable = { 
				name = pop_comfort_salt
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_salt
				divide = pop_comfort_salt
			}
		}
		else = { 
			remove_variable = pop_comfort_salt
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_salt
				var:pop_luxury_salt > 0
			}
			change_variable = { 
				name = pop_luxury_salt
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_salt
				divide = pop_luxury_salt
			}
		}
		else = { 
			remove_variable = pop_luxury_salt
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_mud
				var:pop_calorie_mud > 0
			}
			change_variable = { 
				name = pop_calorie_mud
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_mud
				divide = pop_calorie_mud
			}
		}
		else = { 
			remove_variable = pop_calorie_mud
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_mud
				var:pop_nutrient_mud > 0
			}
			change_variable = { 
				name = pop_nutrient_mud
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_mud
				divide = pop_nutrient_mud
			}
		}
		else = { 
			remove_variable = pop_nutrient_mud
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_mud
				var:pop_comfort_mud > 0
			}
			change_variable = { 
				name = pop_comfort_mud
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_mud
				divide = pop_comfort_mud
			}
		}
		else = { 
			remove_variable = pop_comfort_mud
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_mud
				var:pop_luxury_mud > 0
			}
			change_variable = { 
				name = pop_luxury_mud
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_mud
				divide = pop_luxury_mud
			}
		}
		else = { 
			remove_variable = pop_luxury_mud
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fuel
				var:pop_calorie_fuel > 0
			}
			change_variable = { 
				name = pop_calorie_fuel
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_fuel
				divide = pop_calorie_fuel
			}
		}
		else = { 
			remove_variable = pop_calorie_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fuel
				var:pop_nutrient_fuel > 0
			}
			change_variable = { 
				name = pop_nutrient_fuel
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_fuel
				divide = pop_nutrient_fuel
			}
		}
		else = { 
			remove_variable = pop_nutrient_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fuel
				var:pop_comfort_fuel > 0
			}
			change_variable = { 
				name = pop_comfort_fuel
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_fuel
				divide = pop_comfort_fuel
			}
		}
		else = { 
			remove_variable = pop_comfort_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fuel
				var:pop_luxury_fuel > 0
			}
			change_variable = { 
				name = pop_luxury_fuel
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_fuel
				divide = pop_luxury_fuel
			}
		}
		else = { 
			remove_variable = pop_luxury_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_fiber
				var:pop_calorie_fiber > 0
			}
			change_variable = { 
				name = pop_calorie_fiber
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_fiber
				divide = pop_calorie_fiber
			}
		}
		else = { 
			remove_variable = pop_calorie_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_fiber
				var:pop_nutrient_fiber > 0
			}
			change_variable = { 
				name = pop_nutrient_fiber
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_fiber
				divide = pop_nutrient_fiber
			}
		}
		else = { 
			remove_variable = pop_nutrient_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_fiber
				var:pop_comfort_fiber > 0
			}
			change_variable = { 
				name = pop_comfort_fiber
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_fiber
				divide = pop_comfort_fiber
			}
		}
		else = { 
			remove_variable = pop_comfort_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_fiber
				var:pop_luxury_fiber > 0
			}
			change_variable = { 
				name = pop_luxury_fiber
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_fiber
				divide = pop_luxury_fiber
			}
		}
		else = { 
			remove_variable = pop_luxury_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_timber
				var:pop_calorie_timber > 0
			}
			change_variable = { 
				name = pop_calorie_timber
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_timber
				divide = pop_calorie_timber
			}
		}
		else = { 
			remove_variable = pop_calorie_timber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_timber
				var:pop_nutrient_timber > 0
			}
			change_variable = { 
				name = pop_nutrient_timber
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_timber
				divide = pop_nutrient_timber
			}
		}
		else = { 
			remove_variable = pop_nutrient_timber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_timber
				var:pop_comfort_timber > 0
			}
			change_variable = { 
				name = pop_comfort_timber
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_timber
				divide = pop_comfort_timber
			}
		}
		else = { 
			remove_variable = pop_comfort_timber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_timber
				var:pop_luxury_timber > 0
			}
			change_variable = { 
				name = pop_luxury_timber
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_timber
				divide = pop_luxury_timber
			}
		}
		else = { 
			remove_variable = pop_luxury_timber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_metal
				var:pop_calorie_metal > 0
			}
			change_variable = { 
				name = pop_calorie_metal
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_metal
				divide = pop_calorie_metal
			}
		}
		else = { 
			remove_variable = pop_calorie_metal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_metal
				var:pop_nutrient_metal > 0
			}
			change_variable = { 
				name = pop_nutrient_metal
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_metal
				divide = pop_nutrient_metal
			}
		}
		else = { 
			remove_variable = pop_nutrient_metal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_metal
				var:pop_comfort_metal > 0
			}
			change_variable = { 
				name = pop_comfort_metal
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_metal
				divide = pop_comfort_metal
			}
		}
		else = { 
			remove_variable = pop_comfort_metal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_metal
				var:pop_luxury_metal > 0
			}
			change_variable = { 
				name = pop_luxury_metal
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_metal
				divide = pop_luxury_metal
			}
		}
		else = { 
			remove_variable = pop_luxury_metal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_w
				var:pop_calorie_exotics_w > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_exotics_w
				divide = pop_calorie_exotics_w
			}
		}
		else = { 
			remove_variable = pop_calorie_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_w
				var:pop_nutrient_exotics_w > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_exotics_w
				divide = pop_nutrient_exotics_w
			}
		}
		else = { 
			remove_variable = pop_nutrient_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_w
				var:pop_comfort_exotics_w > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_exotics_w
				divide = pop_comfort_exotics_w
			}
		}
		else = { 
			remove_variable = pop_comfort_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_w
				var:pop_luxury_exotics_w > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_exotics_w
				divide = pop_luxury_exotics_w
			}
		}
		else = { 
			remove_variable = pop_luxury_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_e
				var:pop_calorie_exotics_e > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_exotics_e
				divide = pop_calorie_exotics_e
			}
		}
		else = { 
			remove_variable = pop_calorie_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_e
				var:pop_nutrient_exotics_e > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_exotics_e
				divide = pop_nutrient_exotics_e
			}
		}
		else = { 
			remove_variable = pop_nutrient_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_e
				var:pop_comfort_exotics_e > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_exotics_e
				divide = pop_comfort_exotics_e
			}
		}
		else = { 
			remove_variable = pop_comfort_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_e
				var:pop_luxury_exotics_e > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_exotics_e
				divide = pop_luxury_exotics_e
			}
		}
		else = { 
			remove_variable = pop_luxury_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_exotics_g
				var:pop_calorie_exotics_g > 0
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_exotics_g
				divide = pop_calorie_exotics_g
			}
		}
		else = { 
			remove_variable = pop_calorie_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_exotics_g
				var:pop_nutrient_exotics_g > 0
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_exotics_g
				divide = pop_nutrient_exotics_g
			}
		}
		else = { 
			remove_variable = pop_nutrient_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_exotics_g
				var:pop_comfort_exotics_g > 0
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_exotics_g
				divide = pop_comfort_exotics_g
			}
		}
		else = { 
			remove_variable = pop_comfort_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_exotics_g
				var:pop_luxury_exotics_g > 0
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_exotics_g
				divide = pop_luxury_exotics_g
			}
		}
		else = { 
			remove_variable = pop_luxury_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_textile
				var:pop_calorie_textile > 0
			}
			change_variable = { 
				name = pop_calorie_textile
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_textile
				divide = pop_calorie_textile
			}
		}
		else = { 
			remove_variable = pop_calorie_textile
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_textile
				var:pop_nutrient_textile > 0
			}
			change_variable = { 
				name = pop_nutrient_textile
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_textile
				divide = pop_nutrient_textile
			}
		}
		else = { 
			remove_variable = pop_nutrient_textile
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_textile
				var:pop_comfort_textile > 0
			}
			change_variable = { 
				name = pop_comfort_textile
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_textile
				divide = pop_comfort_textile
			}
		}
		else = { 
			remove_variable = pop_comfort_textile
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_textile
				var:pop_luxury_textile > 0
			}
			change_variable = { 
				name = pop_luxury_textile
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_textile
				divide = pop_luxury_textile
			}
		}
		else = { 
			remove_variable = pop_luxury_textile
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_pottery
				var:pop_calorie_pottery > 0
			}
			change_variable = { 
				name = pop_calorie_pottery
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_pottery
				divide = pop_calorie_pottery
			}
		}
		else = { 
			remove_variable = pop_calorie_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_pottery
				var:pop_nutrient_pottery > 0
			}
			change_variable = { 
				name = pop_nutrient_pottery
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_pottery
				divide = pop_nutrient_pottery
			}
		}
		else = { 
			remove_variable = pop_nutrient_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_pottery
				var:pop_comfort_pottery > 0
			}
			change_variable = { 
				name = pop_comfort_pottery
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_pottery
				divide = pop_comfort_pottery
			}
		}
		else = { 
			remove_variable = pop_comfort_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_pottery
				var:pop_luxury_pottery > 0
			}
			change_variable = { 
				name = pop_luxury_pottery
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_pottery
				divide = pop_luxury_pottery
			}
		}
		else = { 
			remove_variable = pop_luxury_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_tools
				var:pop_calorie_tools > 0
			}
			change_variable = { 
				name = pop_calorie_tools
				multiply = var:pop_calorie
			}
			change_variable = { 
				name = pop_calorie_tools
				divide = pop_calorie_tools
			}
		}
		else = { 
			remove_variable = pop_calorie_tools
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_tools
				var:pop_nutrient_tools > 0
			}
			change_variable = { 
				name = pop_nutrient_tools
				multiply = var:pop_nutrient
			}
			change_variable = { 
				name = pop_nutrient_tools
				divide = pop_nutrient_tools
			}
		}
		else = { 
			remove_variable = pop_nutrient_tools
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_tools
				var:pop_comfort_tools > 0
			}
			change_variable = { 
				name = pop_comfort_tools
				multiply = var:pop_comfort
			}
			change_variable = { 
				name = pop_comfort_tools
				divide = pop_comfort_tools
			}
		}
		else = { 
			remove_variable = pop_comfort_tools
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_tools
				var:pop_luxury_tools > 0
			}
			change_variable = { 
				name = pop_luxury_tools
				multiply = var:pop_luxury
			}
			change_variable = { 
				name = pop_luxury_tools
				divide = pop_luxury_tools
			}
		}
		else = { 
			remove_variable = pop_luxury_tools
		}
		remove_variable = pop_update_demand_t
		remove_variable = pop_update_demand_tt
		remove_variable = pop_update_demand_ttt
		remove_variable = pop_update_demand_calorie
		remove_variable = pop_update_demand_nutrient
		remove_variable = pop_update_demand_comfort
		remove_variable = pop_update_demand_luxury
		remove_variable = pop_serf_calorie
		remove_variable = pop_serf_nutrient
		remove_variable = pop_serf_comfort
		remove_variable = pop_serf_luxury
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = trade_sply_food
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_food
			value = 0
		}
		set_variable = { 
			name = trade_sply_cereal
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_cereal
			value = 0
		}
		set_variable = { 
			name = trade_sply_salted
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_salted
			value = 0
		}
		set_variable = { 
			name = trade_sply_salt
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_salt
			value = 0
		}
		set_variable = { 
			name = trade_sply_mud
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_mud
			value = 0
		}
		set_variable = { 
			name = trade_sply_fuel
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_fuel
			value = 0
		}
		set_variable = { 
			name = trade_sply_fiber
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_fiber
			value = 0
		}
		set_variable = { 
			name = trade_sply_timber
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_timber
			value = 0
		}
		set_variable = { 
			name = trade_sply_metal
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_metal
			value = 0
		}
		set_variable = { 
			name = trade_sply_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_sply_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_sply_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_sply_textile
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_textile
			value = 0
		}
		set_variable = { 
			name = trade_sply_pottery
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_pottery
			value = 0
		}
		set_variable = { 
			name = trade_sply_tools
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_tools
			value = 0
		}
		save_temporary_scope_as = trade_do_trade_select
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			every_in_list = { 
				variable = prod_instances
				if = { 
					limit = { 
						has_variable = prod_dmnd_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:prod_dmnd_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_food
							add = prev.var:prod_sply_old_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:prod_dmnd_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_cereal
							add = prev.var:prod_sply_old_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:prod_dmnd_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_salted
							add = prev.var:prod_sply_old_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:prod_dmnd_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_salt
							add = prev.var:prod_sply_old_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:prod_dmnd_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_mud
							add = prev.var:prod_sply_old_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:prod_dmnd_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_fuel
							add = prev.var:prod_sply_old_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:prod_dmnd_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_fiber
							add = prev.var:prod_sply_old_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:prod_dmnd_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_timber
							add = prev.var:prod_sply_old_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:prod_dmnd_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_metal
							add = prev.var:prod_sply_old_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:prod_dmnd_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_exotics_w
							add = prev.var:prod_sply_old_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:prod_dmnd_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_exotics_e
							add = prev.var:prod_sply_old_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:prod_dmnd_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_exotics_g
							add = prev.var:prod_sply_old_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:prod_dmnd_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_textile
							add = prev.var:prod_sply_old_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:prod_dmnd_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_pottery
							add = prev.var:prod_sply_old_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_dmnd_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:prod_dmnd_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = prod_sply_old_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_sply_tools
							add = prev.var:prod_sply_old_tools
						}
					}
				}
			}
			every_in_list = { 
				limit = { 
					has_variable = build_active
				}
				variable = build_slots
				if = { 
					limit = { 
						has_variable = build_food
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_food
							add = prev.var:build_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_cereal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_cereal
							add = prev.var:build_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_salted
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salted
							add = prev.var:build_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_salt
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_salt
							add = prev.var:build_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_mud
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_mud
							add = prev.var:build_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_fuel
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fuel
							add = prev.var:build_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_fiber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_fiber
							add = prev.var:build_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_timber
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_timber
							add = prev.var:build_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_metal
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_metal
							add = prev.var:build_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_w
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_w
							add = prev.var:build_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_e
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_e
							add = prev.var:build_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_exotics_g
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_exotics_g
							add = prev.var:build_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_textile
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_textile
							add = prev.var:build_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_pottery
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_pottery
							add = prev.var:build_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = build_tools
					}
					scope:trade_do_trade_select = { 
						change_variable = { 
							name = trade_dmnd_tools
							add = prev.var:build_tools
						}
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_food
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_food
						add = prev.var:pop_calorie_food
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_food
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_food
						add = prev.var:pop_nutrient_food
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_food
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_food
						add = prev.var:pop_comfort_food
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_food
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_food
						add = prev.var:pop_luxury_food
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_cereal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_cereal
						add = prev.var:pop_calorie_cereal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_cereal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_cereal
						add = prev.var:pop_nutrient_cereal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_cereal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_cereal
						add = prev.var:pop_comfort_cereal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_cereal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_cereal
						add = prev.var:pop_luxury_cereal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salted
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salted
						add = prev.var:pop_calorie_salted
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salted
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salted
						add = prev.var:pop_nutrient_salted
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salted
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salted
						add = prev.var:pop_comfort_salted
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salted
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salted
						add = prev.var:pop_luxury_salted
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_salt
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salt
						add = prev.var:pop_calorie_salt
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_salt
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salt
						add = prev.var:pop_nutrient_salt
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_salt
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salt
						add = prev.var:pop_comfort_salt
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_salt
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_salt
						add = prev.var:pop_luxury_salt
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_mud
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_mud
						add = prev.var:pop_calorie_mud
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_mud
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_mud
						add = prev.var:pop_nutrient_mud
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_mud
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_mud
						add = prev.var:pop_comfort_mud
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_mud
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_mud
						add = prev.var:pop_luxury_mud
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fuel
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fuel
						add = prev.var:pop_calorie_fuel
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fuel
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fuel
						add = prev.var:pop_nutrient_fuel
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fuel
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fuel
						add = prev.var:pop_comfort_fuel
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fuel
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fuel
						add = prev.var:pop_luxury_fuel
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_fiber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fiber
						add = prev.var:pop_calorie_fiber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_fiber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fiber
						add = prev.var:pop_nutrient_fiber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_fiber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fiber
						add = prev.var:pop_comfort_fiber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_fiber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_fiber
						add = prev.var:pop_luxury_fiber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_timber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_timber
						add = prev.var:pop_calorie_timber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_timber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_timber
						add = prev.var:pop_nutrient_timber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_timber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_timber
						add = prev.var:pop_comfort_timber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_timber
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_timber
						add = prev.var:pop_luxury_timber
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_metal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_metal
						add = prev.var:pop_calorie_metal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_metal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_metal
						add = prev.var:pop_nutrient_metal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_metal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_metal
						add = prev.var:pop_comfort_metal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_metal
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_metal
						add = prev.var:pop_luxury_metal
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_w
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_w
						add = prev.var:pop_calorie_exotics_w
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_w
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_w
						add = prev.var:pop_nutrient_exotics_w
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_w
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_w
						add = prev.var:pop_comfort_exotics_w
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_w
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_w
						add = prev.var:pop_luxury_exotics_w
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_e
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_e
						add = prev.var:pop_calorie_exotics_e
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_e
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_e
						add = prev.var:pop_nutrient_exotics_e
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_e
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_e
						add = prev.var:pop_comfort_exotics_e
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_e
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_e
						add = prev.var:pop_luxury_exotics_e
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_exotics_g
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_g
						add = prev.var:pop_calorie_exotics_g
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_exotics_g
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_g
						add = prev.var:pop_nutrient_exotics_g
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_exotics_g
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_g
						add = prev.var:pop_comfort_exotics_g
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_exotics_g
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_exotics_g
						add = prev.var:pop_luxury_exotics_g
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_textile
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_textile
						add = prev.var:pop_calorie_textile
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_textile
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_textile
						add = prev.var:pop_nutrient_textile
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_textile
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_textile
						add = prev.var:pop_comfort_textile
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_textile
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_textile
						add = prev.var:pop_luxury_textile
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_pottery
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_pottery
						add = prev.var:pop_calorie_pottery
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_pottery
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_pottery
						add = prev.var:pop_nutrient_pottery
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_pottery
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_pottery
						add = prev.var:pop_comfort_pottery
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_pottery
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_pottery
						add = prev.var:pop_luxury_pottery
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_calorie_tools
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_tools
						add = prev.var:pop_calorie_tools
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_nutrient_tools
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_tools
						add = prev.var:pop_nutrient_tools
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_comfort_tools
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_tools
						add = prev.var:pop_comfort_tools
					}
				}
			}
			if = { 
				limit = { 
					has_variable = pop_luxury_tools
				}
				scope:trade_do_trade_select = { 
					change_variable = { 
						name = trade_dmnd_tools
						add = prev.var:pop_luxury_tools
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_food
				var:prod_tools_dmnd_food > 0
			}
			change_variable = { 
				name = trade_dmnd_food
				add = var:prod_tools_dmnd_food
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_cereal
				var:prod_tools_dmnd_cereal > 0
			}
			change_variable = { 
				name = trade_dmnd_cereal
				add = var:prod_tools_dmnd_cereal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_salted
				var:prod_tools_dmnd_salted > 0
			}
			change_variable = { 
				name = trade_dmnd_salted
				add = var:prod_tools_dmnd_salted
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_salt
				var:prod_tools_dmnd_salt > 0
			}
			change_variable = { 
				name = trade_dmnd_salt
				add = var:prod_tools_dmnd_salt
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_mud
				var:prod_tools_dmnd_mud > 0
			}
			change_variable = { 
				name = trade_dmnd_mud
				add = var:prod_tools_dmnd_mud
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_fuel
				var:prod_tools_dmnd_fuel > 0
			}
			change_variable = { 
				name = trade_dmnd_fuel
				add = var:prod_tools_dmnd_fuel
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_fiber
				var:prod_tools_dmnd_fiber > 0
			}
			change_variable = { 
				name = trade_dmnd_fiber
				add = var:prod_tools_dmnd_fiber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_timber
				var:prod_tools_dmnd_timber > 0
			}
			change_variable = { 
				name = trade_dmnd_timber
				add = var:prod_tools_dmnd_timber
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_metal
				var:prod_tools_dmnd_metal > 0
			}
			change_variable = { 
				name = trade_dmnd_metal
				add = var:prod_tools_dmnd_metal
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_exotics_w
				var:prod_tools_dmnd_exotics_w > 0
			}
			change_variable = { 
				name = trade_dmnd_exotics_w
				add = var:prod_tools_dmnd_exotics_w
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_exotics_e
				var:prod_tools_dmnd_exotics_e > 0
			}
			change_variable = { 
				name = trade_dmnd_exotics_e
				add = var:prod_tools_dmnd_exotics_e
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_exotics_g
				var:prod_tools_dmnd_exotics_g > 0
			}
			change_variable = { 
				name = trade_dmnd_exotics_g
				add = var:prod_tools_dmnd_exotics_g
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_textile
				var:prod_tools_dmnd_textile > 0
			}
			change_variable = { 
				name = trade_dmnd_textile
				add = var:prod_tools_dmnd_textile
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_pottery
				var:prod_tools_dmnd_pottery > 0
			}
			change_variable = { 
				name = trade_dmnd_pottery
				add = var:prod_tools_dmnd_pottery
			}
		}
		if = { 
			limit = { 
				has_variable = prod_tools_dmnd_tools
				var:prod_tools_dmnd_tools > 0
			}
			change_variable = { 
				name = trade_dmnd_tools
				add = var:prod_tools_dmnd_tools
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_food
				var:trade_sply_food > 0
			}
			change_variable = { 
				name = trade_has_food
				add = var:trade_sply_food
			}
		}
		change_variable = { 
			name = trade_sum_sply_food
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_food
			add = var:trade_sply_food
		}
		if = { 
			limit = { 
				has_variable = trade_has_food
				var:trade_has_food > 0
			}
			set_variable = { 
				name = trade_sply_food
				value = var:trade_has_food
			}
			change_variable = { 
				name = trade_sply_food
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_food
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_food
				has_variable = trade_dmnd_food
				var:trade_sply_food > 0
				var:trade_dmnd_food > 0
			}
			if = { 
				limit = { 
					var:trade_sply_food = { 
						compare_value >= prev.var:trade_dmnd_food
					}
				}
				set_variable = { 
					name = trade_in_food
					value = var:trade_dmnd_food
				}
				set_variable = { 
					name = trade_out_food
					value = var:trade_dmnd_food
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_food
					value = var:trade_sply_food
				}
				set_variable = { 
					name = trade_out_food
					value = var:trade_sply_food
				}
			}
			set_variable = { 
				name = trade_earn_food
				value = var:trade_out_food
			}
			set_variable = { 
				name = trade_pay_food
				value = var:trade_in_food
			}
			change_variable = { 
				name = trade_earn_food
				multiply = var:trade_price_food
			}
			change_variable = { 
				name = trade_pay_food
				multiply = var:trade_price_food
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_food
				value = 0
			}
			set_variable = { 
				name = trade_out_food
				value = 0
			}
			set_variable = { 
				name = trade_earn_food
				value = 0
			}
			set_variable = { 
				name = trade_pay_food
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_cereal
				var:trade_sply_cereal > 0
			}
			change_variable = { 
				name = trade_has_cereal
				add = var:trade_sply_cereal
			}
		}
		change_variable = { 
			name = trade_sum_sply_cereal
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_cereal
			add = var:trade_sply_cereal
		}
		if = { 
			limit = { 
				has_variable = trade_has_cereal
				var:trade_has_cereal > 0
			}
			set_variable = { 
				name = trade_sply_cereal
				value = var:trade_has_cereal
			}
			change_variable = { 
				name = trade_sply_cereal
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_cereal
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_cereal
				has_variable = trade_dmnd_cereal
				var:trade_sply_cereal > 0
				var:trade_dmnd_cereal > 0
			}
			if = { 
				limit = { 
					var:trade_sply_cereal = { 
						compare_value >= prev.var:trade_dmnd_cereal
					}
				}
				set_variable = { 
					name = trade_in_cereal
					value = var:trade_dmnd_cereal
				}
				set_variable = { 
					name = trade_out_cereal
					value = var:trade_dmnd_cereal
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_cereal
					value = var:trade_sply_cereal
				}
				set_variable = { 
					name = trade_out_cereal
					value = var:trade_sply_cereal
				}
			}
			set_variable = { 
				name = trade_earn_cereal
				value = var:trade_out_cereal
			}
			set_variable = { 
				name = trade_pay_cereal
				value = var:trade_in_cereal
			}
			change_variable = { 
				name = trade_earn_cereal
				multiply = var:trade_price_cereal
			}
			change_variable = { 
				name = trade_pay_cereal
				multiply = var:trade_price_cereal
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_cereal
				value = 0
			}
			set_variable = { 
				name = trade_out_cereal
				value = 0
			}
			set_variable = { 
				name = trade_earn_cereal
				value = 0
			}
			set_variable = { 
				name = trade_pay_cereal
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_salted
				var:trade_sply_salted > 0
			}
			change_variable = { 
				name = trade_has_salted
				add = var:trade_sply_salted
			}
		}
		change_variable = { 
			name = trade_sum_sply_salted
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_salted
			add = var:trade_sply_salted
		}
		if = { 
			limit = { 
				has_variable = trade_has_salted
				var:trade_has_salted > 0
			}
			set_variable = { 
				name = trade_sply_salted
				value = var:trade_has_salted
			}
			change_variable = { 
				name = trade_sply_salted
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_salted
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_salted
				has_variable = trade_dmnd_salted
				var:trade_sply_salted > 0
				var:trade_dmnd_salted > 0
			}
			if = { 
				limit = { 
					var:trade_sply_salted = { 
						compare_value >= prev.var:trade_dmnd_salted
					}
				}
				set_variable = { 
					name = trade_in_salted
					value = var:trade_dmnd_salted
				}
				set_variable = { 
					name = trade_out_salted
					value = var:trade_dmnd_salted
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_salted
					value = var:trade_sply_salted
				}
				set_variable = { 
					name = trade_out_salted
					value = var:trade_sply_salted
				}
			}
			set_variable = { 
				name = trade_earn_salted
				value = var:trade_out_salted
			}
			set_variable = { 
				name = trade_pay_salted
				value = var:trade_in_salted
			}
			change_variable = { 
				name = trade_earn_salted
				multiply = var:trade_price_salted
			}
			change_variable = { 
				name = trade_pay_salted
				multiply = var:trade_price_salted
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_salted
				value = 0
			}
			set_variable = { 
				name = trade_out_salted
				value = 0
			}
			set_variable = { 
				name = trade_earn_salted
				value = 0
			}
			set_variable = { 
				name = trade_pay_salted
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_salt
				var:trade_sply_salt > 0
			}
			change_variable = { 
				name = trade_has_salt
				add = var:trade_sply_salt
			}
		}
		change_variable = { 
			name = trade_sum_sply_salt
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_salt
			add = var:trade_sply_salt
		}
		if = { 
			limit = { 
				has_variable = trade_has_salt
				var:trade_has_salt > 0
			}
			set_variable = { 
				name = trade_sply_salt
				value = var:trade_has_salt
			}
			change_variable = { 
				name = trade_sply_salt
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_salt
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_salt
				has_variable = trade_dmnd_salt
				var:trade_sply_salt > 0
				var:trade_dmnd_salt > 0
			}
			if = { 
				limit = { 
					var:trade_sply_salt = { 
						compare_value >= prev.var:trade_dmnd_salt
					}
				}
				set_variable = { 
					name = trade_in_salt
					value = var:trade_dmnd_salt
				}
				set_variable = { 
					name = trade_out_salt
					value = var:trade_dmnd_salt
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_salt
					value = var:trade_sply_salt
				}
				set_variable = { 
					name = trade_out_salt
					value = var:trade_sply_salt
				}
			}
			set_variable = { 
				name = trade_earn_salt
				value = var:trade_out_salt
			}
			set_variable = { 
				name = trade_pay_salt
				value = var:trade_in_salt
			}
			change_variable = { 
				name = trade_earn_salt
				multiply = var:trade_price_salt
			}
			change_variable = { 
				name = trade_pay_salt
				multiply = var:trade_price_salt
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_salt
				value = 0
			}
			set_variable = { 
				name = trade_out_salt
				value = 0
			}
			set_variable = { 
				name = trade_earn_salt
				value = 0
			}
			set_variable = { 
				name = trade_pay_salt
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_mud
				var:trade_sply_mud > 0
			}
			change_variable = { 
				name = trade_has_mud
				add = var:trade_sply_mud
			}
		}
		change_variable = { 
			name = trade_sum_sply_mud
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_mud
			add = var:trade_sply_mud
		}
		if = { 
			limit = { 
				has_variable = trade_has_mud
				var:trade_has_mud > 0
			}
			set_variable = { 
				name = trade_sply_mud
				value = var:trade_has_mud
			}
			change_variable = { 
				name = trade_sply_mud
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_mud
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_mud
				has_variable = trade_dmnd_mud
				var:trade_sply_mud > 0
				var:trade_dmnd_mud > 0
			}
			if = { 
				limit = { 
					var:trade_sply_mud = { 
						compare_value >= prev.var:trade_dmnd_mud
					}
				}
				set_variable = { 
					name = trade_in_mud
					value = var:trade_dmnd_mud
				}
				set_variable = { 
					name = trade_out_mud
					value = var:trade_dmnd_mud
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_mud
					value = var:trade_sply_mud
				}
				set_variable = { 
					name = trade_out_mud
					value = var:trade_sply_mud
				}
			}
			set_variable = { 
				name = trade_earn_mud
				value = var:trade_out_mud
			}
			set_variable = { 
				name = trade_pay_mud
				value = var:trade_in_mud
			}
			change_variable = { 
				name = trade_earn_mud
				multiply = var:trade_price_mud
			}
			change_variable = { 
				name = trade_pay_mud
				multiply = var:trade_price_mud
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_mud
				value = 0
			}
			set_variable = { 
				name = trade_out_mud
				value = 0
			}
			set_variable = { 
				name = trade_earn_mud
				value = 0
			}
			set_variable = { 
				name = trade_pay_mud
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_fuel
				var:trade_sply_fuel > 0
			}
			change_variable = { 
				name = trade_has_fuel
				add = var:trade_sply_fuel
			}
		}
		change_variable = { 
			name = trade_sum_sply_fuel
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_fuel
			add = var:trade_sply_fuel
		}
		if = { 
			limit = { 
				has_variable = trade_has_fuel
				var:trade_has_fuel > 0
			}
			set_variable = { 
				name = trade_sply_fuel
				value = var:trade_has_fuel
			}
			change_variable = { 
				name = trade_sply_fuel
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_fuel
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_fuel
				has_variable = trade_dmnd_fuel
				var:trade_sply_fuel > 0
				var:trade_dmnd_fuel > 0
			}
			if = { 
				limit = { 
					var:trade_sply_fuel = { 
						compare_value >= prev.var:trade_dmnd_fuel
					}
				}
				set_variable = { 
					name = trade_in_fuel
					value = var:trade_dmnd_fuel
				}
				set_variable = { 
					name = trade_out_fuel
					value = var:trade_dmnd_fuel
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_fuel
					value = var:trade_sply_fuel
				}
				set_variable = { 
					name = trade_out_fuel
					value = var:trade_sply_fuel
				}
			}
			set_variable = { 
				name = trade_earn_fuel
				value = var:trade_out_fuel
			}
			set_variable = { 
				name = trade_pay_fuel
				value = var:trade_in_fuel
			}
			change_variable = { 
				name = trade_earn_fuel
				multiply = var:trade_price_fuel
			}
			change_variable = { 
				name = trade_pay_fuel
				multiply = var:trade_price_fuel
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_fuel
				value = 0
			}
			set_variable = { 
				name = trade_out_fuel
				value = 0
			}
			set_variable = { 
				name = trade_earn_fuel
				value = 0
			}
			set_variable = { 
				name = trade_pay_fuel
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_fiber
				var:trade_sply_fiber > 0
			}
			change_variable = { 
				name = trade_has_fiber
				add = var:trade_sply_fiber
			}
		}
		change_variable = { 
			name = trade_sum_sply_fiber
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_fiber
			add = var:trade_sply_fiber
		}
		if = { 
			limit = { 
				has_variable = trade_has_fiber
				var:trade_has_fiber > 0
			}
			set_variable = { 
				name = trade_sply_fiber
				value = var:trade_has_fiber
			}
			change_variable = { 
				name = trade_sply_fiber
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_fiber
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_fiber
				has_variable = trade_dmnd_fiber
				var:trade_sply_fiber > 0
				var:trade_dmnd_fiber > 0
			}
			if = { 
				limit = { 
					var:trade_sply_fiber = { 
						compare_value >= prev.var:trade_dmnd_fiber
					}
				}
				set_variable = { 
					name = trade_in_fiber
					value = var:trade_dmnd_fiber
				}
				set_variable = { 
					name = trade_out_fiber
					value = var:trade_dmnd_fiber
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_fiber
					value = var:trade_sply_fiber
				}
				set_variable = { 
					name = trade_out_fiber
					value = var:trade_sply_fiber
				}
			}
			set_variable = { 
				name = trade_earn_fiber
				value = var:trade_out_fiber
			}
			set_variable = { 
				name = trade_pay_fiber
				value = var:trade_in_fiber
			}
			change_variable = { 
				name = trade_earn_fiber
				multiply = var:trade_price_fiber
			}
			change_variable = { 
				name = trade_pay_fiber
				multiply = var:trade_price_fiber
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_fiber
				value = 0
			}
			set_variable = { 
				name = trade_out_fiber
				value = 0
			}
			set_variable = { 
				name = trade_earn_fiber
				value = 0
			}
			set_variable = { 
				name = trade_pay_fiber
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_timber
				var:trade_sply_timber > 0
			}
			change_variable = { 
				name = trade_has_timber
				add = var:trade_sply_timber
			}
		}
		change_variable = { 
			name = trade_sum_sply_timber
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_timber
			add = var:trade_sply_timber
		}
		if = { 
			limit = { 
				has_variable = trade_has_timber
				var:trade_has_timber > 0
			}
			set_variable = { 
				name = trade_sply_timber
				value = var:trade_has_timber
			}
			change_variable = { 
				name = trade_sply_timber
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_timber
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_timber
				has_variable = trade_dmnd_timber
				var:trade_sply_timber > 0
				var:trade_dmnd_timber > 0
			}
			if = { 
				limit = { 
					var:trade_sply_timber = { 
						compare_value >= prev.var:trade_dmnd_timber
					}
				}
				set_variable = { 
					name = trade_in_timber
					value = var:trade_dmnd_timber
				}
				set_variable = { 
					name = trade_out_timber
					value = var:trade_dmnd_timber
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_timber
					value = var:trade_sply_timber
				}
				set_variable = { 
					name = trade_out_timber
					value = var:trade_sply_timber
				}
			}
			set_variable = { 
				name = trade_earn_timber
				value = var:trade_out_timber
			}
			set_variable = { 
				name = trade_pay_timber
				value = var:trade_in_timber
			}
			change_variable = { 
				name = trade_earn_timber
				multiply = var:trade_price_timber
			}
			change_variable = { 
				name = trade_pay_timber
				multiply = var:trade_price_timber
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_timber
				value = 0
			}
			set_variable = { 
				name = trade_out_timber
				value = 0
			}
			set_variable = { 
				name = trade_earn_timber
				value = 0
			}
			set_variable = { 
				name = trade_pay_timber
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_metal
				var:trade_sply_metal > 0
			}
			change_variable = { 
				name = trade_has_metal
				add = var:trade_sply_metal
			}
		}
		change_variable = { 
			name = trade_sum_sply_metal
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_metal
			add = var:trade_sply_metal
		}
		if = { 
			limit = { 
				has_variable = trade_has_metal
				var:trade_has_metal > 0
			}
			set_variable = { 
				name = trade_sply_metal
				value = var:trade_has_metal
			}
			change_variable = { 
				name = trade_sply_metal
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_metal
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_metal
				has_variable = trade_dmnd_metal
				var:trade_sply_metal > 0
				var:trade_dmnd_metal > 0
			}
			if = { 
				limit = { 
					var:trade_sply_metal = { 
						compare_value >= prev.var:trade_dmnd_metal
					}
				}
				set_variable = { 
					name = trade_in_metal
					value = var:trade_dmnd_metal
				}
				set_variable = { 
					name = trade_out_metal
					value = var:trade_dmnd_metal
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_metal
					value = var:trade_sply_metal
				}
				set_variable = { 
					name = trade_out_metal
					value = var:trade_sply_metal
				}
			}
			set_variable = { 
				name = trade_earn_metal
				value = var:trade_out_metal
			}
			set_variable = { 
				name = trade_pay_metal
				value = var:trade_in_metal
			}
			change_variable = { 
				name = trade_earn_metal
				multiply = var:trade_price_metal
			}
			change_variable = { 
				name = trade_pay_metal
				multiply = var:trade_price_metal
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_metal
				value = 0
			}
			set_variable = { 
				name = trade_out_metal
				value = 0
			}
			set_variable = { 
				name = trade_earn_metal
				value = 0
			}
			set_variable = { 
				name = trade_pay_metal
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_w
				var:trade_sply_exotics_w > 0
			}
			change_variable = { 
				name = trade_has_exotics_w
				add = var:trade_sply_exotics_w
			}
		}
		change_variable = { 
			name = trade_sum_sply_exotics_w
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_exotics_w
			add = var:trade_sply_exotics_w
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_w
				var:trade_has_exotics_w > 0
			}
			set_variable = { 
				name = trade_sply_exotics_w
				value = var:trade_has_exotics_w
			}
			change_variable = { 
				name = trade_sply_exotics_w
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_exotics_w
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_w
				has_variable = trade_dmnd_exotics_w
				var:trade_sply_exotics_w > 0
				var:trade_dmnd_exotics_w > 0
			}
			if = { 
				limit = { 
					var:trade_sply_exotics_w = { 
						compare_value >= prev.var:trade_dmnd_exotics_w
					}
				}
				set_variable = { 
					name = trade_in_exotics_w
					value = var:trade_dmnd_exotics_w
				}
				set_variable = { 
					name = trade_out_exotics_w
					value = var:trade_dmnd_exotics_w
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_w
					value = var:trade_sply_exotics_w
				}
				set_variable = { 
					name = trade_out_exotics_w
					value = var:trade_sply_exotics_w
				}
			}
			set_variable = { 
				name = trade_earn_exotics_w
				value = var:trade_out_exotics_w
			}
			set_variable = { 
				name = trade_pay_exotics_w
				value = var:trade_in_exotics_w
			}
			change_variable = { 
				name = trade_earn_exotics_w
				multiply = var:trade_price_exotics_w
			}
			change_variable = { 
				name = trade_pay_exotics_w
				multiply = var:trade_price_exotics_w
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_w
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_e
				var:trade_sply_exotics_e > 0
			}
			change_variable = { 
				name = trade_has_exotics_e
				add = var:trade_sply_exotics_e
			}
		}
		change_variable = { 
			name = trade_sum_sply_exotics_e
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_exotics_e
			add = var:trade_sply_exotics_e
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_e
				var:trade_has_exotics_e > 0
			}
			set_variable = { 
				name = trade_sply_exotics_e
				value = var:trade_has_exotics_e
			}
			change_variable = { 
				name = trade_sply_exotics_e
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_exotics_e
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_e
				has_variable = trade_dmnd_exotics_e
				var:trade_sply_exotics_e > 0
				var:trade_dmnd_exotics_e > 0
			}
			if = { 
				limit = { 
					var:trade_sply_exotics_e = { 
						compare_value >= prev.var:trade_dmnd_exotics_e
					}
				}
				set_variable = { 
					name = trade_in_exotics_e
					value = var:trade_dmnd_exotics_e
				}
				set_variable = { 
					name = trade_out_exotics_e
					value = var:trade_dmnd_exotics_e
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_e
					value = var:trade_sply_exotics_e
				}
				set_variable = { 
					name = trade_out_exotics_e
					value = var:trade_sply_exotics_e
				}
			}
			set_variable = { 
				name = trade_earn_exotics_e
				value = var:trade_out_exotics_e
			}
			set_variable = { 
				name = trade_pay_exotics_e
				value = var:trade_in_exotics_e
			}
			change_variable = { 
				name = trade_earn_exotics_e
				multiply = var:trade_price_exotics_e
			}
			change_variable = { 
				name = trade_pay_exotics_e
				multiply = var:trade_price_exotics_e
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_e
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_g
				var:trade_sply_exotics_g > 0
			}
			change_variable = { 
				name = trade_has_exotics_g
				add = var:trade_sply_exotics_g
			}
		}
		change_variable = { 
			name = trade_sum_sply_exotics_g
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_exotics_g
			add = var:trade_sply_exotics_g
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_g
				var:trade_has_exotics_g > 0
			}
			set_variable = { 
				name = trade_sply_exotics_g
				value = var:trade_has_exotics_g
			}
			change_variable = { 
				name = trade_sply_exotics_g
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_exotics_g
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_exotics_g
				has_variable = trade_dmnd_exotics_g
				var:trade_sply_exotics_g > 0
				var:trade_dmnd_exotics_g > 0
			}
			if = { 
				limit = { 
					var:trade_sply_exotics_g = { 
						compare_value >= prev.var:trade_dmnd_exotics_g
					}
				}
				set_variable = { 
					name = trade_in_exotics_g
					value = var:trade_dmnd_exotics_g
				}
				set_variable = { 
					name = trade_out_exotics_g
					value = var:trade_dmnd_exotics_g
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_exotics_g
					value = var:trade_sply_exotics_g
				}
				set_variable = { 
					name = trade_out_exotics_g
					value = var:trade_sply_exotics_g
				}
			}
			set_variable = { 
				name = trade_earn_exotics_g
				value = var:trade_out_exotics_g
			}
			set_variable = { 
				name = trade_pay_exotics_g
				value = var:trade_in_exotics_g
			}
			change_variable = { 
				name = trade_earn_exotics_g
				multiply = var:trade_price_exotics_g
			}
			change_variable = { 
				name = trade_pay_exotics_g
				multiply = var:trade_price_exotics_g
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_out_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_earn_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_pay_exotics_g
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_textile
				var:trade_sply_textile > 0
			}
			change_variable = { 
				name = trade_has_textile
				add = var:trade_sply_textile
			}
		}
		change_variable = { 
			name = trade_sum_sply_textile
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_textile
			add = var:trade_sply_textile
		}
		if = { 
			limit = { 
				has_variable = trade_has_textile
				var:trade_has_textile > 0
			}
			set_variable = { 
				name = trade_sply_textile
				value = var:trade_has_textile
			}
			change_variable = { 
				name = trade_sply_textile
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_textile
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_textile
				has_variable = trade_dmnd_textile
				var:trade_sply_textile > 0
				var:trade_dmnd_textile > 0
			}
			if = { 
				limit = { 
					var:trade_sply_textile = { 
						compare_value >= prev.var:trade_dmnd_textile
					}
				}
				set_variable = { 
					name = trade_in_textile
					value = var:trade_dmnd_textile
				}
				set_variable = { 
					name = trade_out_textile
					value = var:trade_dmnd_textile
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_textile
					value = var:trade_sply_textile
				}
				set_variable = { 
					name = trade_out_textile
					value = var:trade_sply_textile
				}
			}
			set_variable = { 
				name = trade_earn_textile
				value = var:trade_out_textile
			}
			set_variable = { 
				name = trade_pay_textile
				value = var:trade_in_textile
			}
			change_variable = { 
				name = trade_earn_textile
				multiply = var:trade_price_textile
			}
			change_variable = { 
				name = trade_pay_textile
				multiply = var:trade_price_textile
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_textile
				value = 0
			}
			set_variable = { 
				name = trade_out_textile
				value = 0
			}
			set_variable = { 
				name = trade_earn_textile
				value = 0
			}
			set_variable = { 
				name = trade_pay_textile
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_pottery
				var:trade_sply_pottery > 0
			}
			change_variable = { 
				name = trade_has_pottery
				add = var:trade_sply_pottery
			}
		}
		change_variable = { 
			name = trade_sum_sply_pottery
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_pottery
			add = var:trade_sply_pottery
		}
		if = { 
			limit = { 
				has_variable = trade_has_pottery
				var:trade_has_pottery > 0
			}
			set_variable = { 
				name = trade_sply_pottery
				value = var:trade_has_pottery
			}
			change_variable = { 
				name = trade_sply_pottery
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_pottery
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_pottery
				has_variable = trade_dmnd_pottery
				var:trade_sply_pottery > 0
				var:trade_dmnd_pottery > 0
			}
			if = { 
				limit = { 
					var:trade_sply_pottery = { 
						compare_value >= prev.var:trade_dmnd_pottery
					}
				}
				set_variable = { 
					name = trade_in_pottery
					value = var:trade_dmnd_pottery
				}
				set_variable = { 
					name = trade_out_pottery
					value = var:trade_dmnd_pottery
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_pottery
					value = var:trade_sply_pottery
				}
				set_variable = { 
					name = trade_out_pottery
					value = var:trade_sply_pottery
				}
			}
			set_variable = { 
				name = trade_earn_pottery
				value = var:trade_out_pottery
			}
			set_variable = { 
				name = trade_pay_pottery
				value = var:trade_in_pottery
			}
			change_variable = { 
				name = trade_earn_pottery
				multiply = var:trade_price_pottery
			}
			change_variable = { 
				name = trade_pay_pottery
				multiply = var:trade_price_pottery
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_pottery
				value = 0
			}
			set_variable = { 
				name = trade_out_pottery
				value = 0
			}
			set_variable = { 
				name = trade_earn_pottery
				value = 0
			}
			set_variable = { 
				name = trade_pay_pottery
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_tools
				var:trade_sply_tools > 0
			}
			change_variable = { 
				name = trade_has_tools
				add = var:trade_sply_tools
			}
		}
		change_variable = { 
			name = trade_sum_sply_tools
			multiply = 0.75
		}
		change_variable = { 
			name = trade_sum_sply_tools
			add = var:trade_sply_tools
		}
		if = { 
			limit = { 
				has_variable = trade_has_tools
				var:trade_has_tools > 0
			}
			set_variable = { 
				name = trade_sply_tools
				value = var:trade_has_tools
			}
			change_variable = { 
				name = trade_sply_tools
				divide = 2
			}
		}
		else = { 
			set_variable = { 
				name = trade_sply_tools
				value = 0
			}
		}
		if = { 
			limit = { 
				has_variable = trade_sply_tools
				has_variable = trade_dmnd_tools
				var:trade_sply_tools > 0
				var:trade_dmnd_tools > 0
			}
			if = { 
				limit = { 
					var:trade_sply_tools = { 
						compare_value >= prev.var:trade_dmnd_tools
					}
				}
				set_variable = { 
					name = trade_in_tools
					value = var:trade_dmnd_tools
				}
				set_variable = { 
					name = trade_out_tools
					value = var:trade_dmnd_tools
				}
			}
			else = { 
				set_variable = { 
					name = trade_in_tools
					value = var:trade_sply_tools
				}
				set_variable = { 
					name = trade_out_tools
					value = var:trade_sply_tools
				}
			}
			set_variable = { 
				name = trade_earn_tools
				value = var:trade_out_tools
			}
			set_variable = { 
				name = trade_pay_tools
				value = var:trade_in_tools
			}
			change_variable = { 
				name = trade_earn_tools
				multiply = var:trade_price_tools
			}
			change_variable = { 
				name = trade_pay_tools
				multiply = var:trade_price_tools
			}
		}
		else = { 
			set_variable = { 
				name = trade_in_tools
				value = 0
			}
			set_variable = { 
				name = trade_out_tools
				value = 0
			}
			set_variable = { 
				name = trade_earn_tools
				value = 0
			}
			set_variable = { 
				name = trade_pay_tools
				value = 0
			}
		}
	}
	every_in_global_list = { 
		variable = trade_merchants
		set_variable = { 
			name = trade_in_food
			value = 0
		}
		set_variable = { 
			name = trade_out_food
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_food
			value = var:trade_want_food
		}
		change_variable = { 
			name = trade_dmnd_food
			subtract = var:trade_has_food
		}
		change_variable = { 
			name = trade_dmnd_food
			divide = 2
		}
		set_variable = { 
			name = trade_sply_food
			value = var:trade_has_food
		}
		change_variable = { 
			name = trade_sply_food
			divide = 2
		}
		set_variable = { 
			name = trade_earn_food
			value = 0
		}
		set_variable = { 
			name = trade_pay_food
			value = 0
		}
		set_variable = { 
			name = trade_in_cereal
			value = 0
		}
		set_variable = { 
			name = trade_out_cereal
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_cereal
			value = var:trade_want_cereal
		}
		change_variable = { 
			name = trade_dmnd_cereal
			subtract = var:trade_has_cereal
		}
		change_variable = { 
			name = trade_dmnd_cereal
			divide = 2
		}
		set_variable = { 
			name = trade_sply_cereal
			value = var:trade_has_cereal
		}
		change_variable = { 
			name = trade_sply_cereal
			divide = 2
		}
		set_variable = { 
			name = trade_earn_cereal
			value = 0
		}
		set_variable = { 
			name = trade_pay_cereal
			value = 0
		}
		set_variable = { 
			name = trade_in_salted
			value = 0
		}
		set_variable = { 
			name = trade_out_salted
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_salted
			value = var:trade_want_salted
		}
		change_variable = { 
			name = trade_dmnd_salted
			subtract = var:trade_has_salted
		}
		change_variable = { 
			name = trade_dmnd_salted
			divide = 2
		}
		set_variable = { 
			name = trade_sply_salted
			value = var:trade_has_salted
		}
		change_variable = { 
			name = trade_sply_salted
			divide = 2
		}
		set_variable = { 
			name = trade_earn_salted
			value = 0
		}
		set_variable = { 
			name = trade_pay_salted
			value = 0
		}
		set_variable = { 
			name = trade_in_salt
			value = 0
		}
		set_variable = { 
			name = trade_out_salt
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_salt
			value = var:trade_want_salt
		}
		change_variable = { 
			name = trade_dmnd_salt
			subtract = var:trade_has_salt
		}
		change_variable = { 
			name = trade_dmnd_salt
			divide = 2
		}
		set_variable = { 
			name = trade_sply_salt
			value = var:trade_has_salt
		}
		change_variable = { 
			name = trade_sply_salt
			divide = 2
		}
		set_variable = { 
			name = trade_earn_salt
			value = 0
		}
		set_variable = { 
			name = trade_pay_salt
			value = 0
		}
		set_variable = { 
			name = trade_in_mud
			value = 0
		}
		set_variable = { 
			name = trade_out_mud
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_mud
			value = var:trade_want_mud
		}
		change_variable = { 
			name = trade_dmnd_mud
			subtract = var:trade_has_mud
		}
		change_variable = { 
			name = trade_dmnd_mud
			divide = 2
		}
		set_variable = { 
			name = trade_sply_mud
			value = var:trade_has_mud
		}
		change_variable = { 
			name = trade_sply_mud
			divide = 2
		}
		set_variable = { 
			name = trade_earn_mud
			value = 0
		}
		set_variable = { 
			name = trade_pay_mud
			value = 0
		}
		set_variable = { 
			name = trade_in_fuel
			value = 0
		}
		set_variable = { 
			name = trade_out_fuel
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_fuel
			value = var:trade_want_fuel
		}
		change_variable = { 
			name = trade_dmnd_fuel
			subtract = var:trade_has_fuel
		}
		change_variable = { 
			name = trade_dmnd_fuel
			divide = 2
		}
		set_variable = { 
			name = trade_sply_fuel
			value = var:trade_has_fuel
		}
		change_variable = { 
			name = trade_sply_fuel
			divide = 2
		}
		set_variable = { 
			name = trade_earn_fuel
			value = 0
		}
		set_variable = { 
			name = trade_pay_fuel
			value = 0
		}
		set_variable = { 
			name = trade_in_fiber
			value = 0
		}
		set_variable = { 
			name = trade_out_fiber
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_fiber
			value = var:trade_want_fiber
		}
		change_variable = { 
			name = trade_dmnd_fiber
			subtract = var:trade_has_fiber
		}
		change_variable = { 
			name = trade_dmnd_fiber
			divide = 2
		}
		set_variable = { 
			name = trade_sply_fiber
			value = var:trade_has_fiber
		}
		change_variable = { 
			name = trade_sply_fiber
			divide = 2
		}
		set_variable = { 
			name = trade_earn_fiber
			value = 0
		}
		set_variable = { 
			name = trade_pay_fiber
			value = 0
		}
		set_variable = { 
			name = trade_in_timber
			value = 0
		}
		set_variable = { 
			name = trade_out_timber
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_timber
			value = var:trade_want_timber
		}
		change_variable = { 
			name = trade_dmnd_timber
			subtract = var:trade_has_timber
		}
		change_variable = { 
			name = trade_dmnd_timber
			divide = 2
		}
		set_variable = { 
			name = trade_sply_timber
			value = var:trade_has_timber
		}
		change_variable = { 
			name = trade_sply_timber
			divide = 2
		}
		set_variable = { 
			name = trade_earn_timber
			value = 0
		}
		set_variable = { 
			name = trade_pay_timber
			value = 0
		}
		set_variable = { 
			name = trade_in_metal
			value = 0
		}
		set_variable = { 
			name = trade_out_metal
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_metal
			value = var:trade_want_metal
		}
		change_variable = { 
			name = trade_dmnd_metal
			subtract = var:trade_has_metal
		}
		change_variable = { 
			name = trade_dmnd_metal
			divide = 2
		}
		set_variable = { 
			name = trade_sply_metal
			value = var:trade_has_metal
		}
		change_variable = { 
			name = trade_sply_metal
			divide = 2
		}
		set_variable = { 
			name = trade_earn_metal
			value = 0
		}
		set_variable = { 
			name = trade_pay_metal
			value = 0
		}
		set_variable = { 
			name = trade_in_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_out_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_w
			value = var:trade_want_exotics_w
		}
		change_variable = { 
			name = trade_dmnd_exotics_w
			subtract = var:trade_has_exotics_w
		}
		change_variable = { 
			name = trade_dmnd_exotics_w
			divide = 2
		}
		set_variable = { 
			name = trade_sply_exotics_w
			value = var:trade_has_exotics_w
		}
		change_variable = { 
			name = trade_sply_exotics_w
			divide = 2
		}
		set_variable = { 
			name = trade_earn_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_pay_exotics_w
			value = 0
		}
		set_variable = { 
			name = trade_in_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_out_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_e
			value = var:trade_want_exotics_e
		}
		change_variable = { 
			name = trade_dmnd_exotics_e
			subtract = var:trade_has_exotics_e
		}
		change_variable = { 
			name = trade_dmnd_exotics_e
			divide = 2
		}
		set_variable = { 
			name = trade_sply_exotics_e
			value = var:trade_has_exotics_e
		}
		change_variable = { 
			name = trade_sply_exotics_e
			divide = 2
		}
		set_variable = { 
			name = trade_earn_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_pay_exotics_e
			value = 0
		}
		set_variable = { 
			name = trade_in_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_out_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_exotics_g
			value = var:trade_want_exotics_g
		}
		change_variable = { 
			name = trade_dmnd_exotics_g
			subtract = var:trade_has_exotics_g
		}
		change_variable = { 
			name = trade_dmnd_exotics_g
			divide = 2
		}
		set_variable = { 
			name = trade_sply_exotics_g
			value = var:trade_has_exotics_g
		}
		change_variable = { 
			name = trade_sply_exotics_g
			divide = 2
		}
		set_variable = { 
			name = trade_earn_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_pay_exotics_g
			value = 0
		}
		set_variable = { 
			name = trade_in_textile
			value = 0
		}
		set_variable = { 
			name = trade_out_textile
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_textile
			value = var:trade_want_textile
		}
		change_variable = { 
			name = trade_dmnd_textile
			subtract = var:trade_has_textile
		}
		change_variable = { 
			name = trade_dmnd_textile
			divide = 2
		}
		set_variable = { 
			name = trade_sply_textile
			value = var:trade_has_textile
		}
		change_variable = { 
			name = trade_sply_textile
			divide = 2
		}
		set_variable = { 
			name = trade_earn_textile
			value = 0
		}
		set_variable = { 
			name = trade_pay_textile
			value = 0
		}
		set_variable = { 
			name = trade_in_pottery
			value = 0
		}
		set_variable = { 
			name = trade_out_pottery
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_pottery
			value = var:trade_want_pottery
		}
		change_variable = { 
			name = trade_dmnd_pottery
			subtract = var:trade_has_pottery
		}
		change_variable = { 
			name = trade_dmnd_pottery
			divide = 2
		}
		set_variable = { 
			name = trade_sply_pottery
			value = var:trade_has_pottery
		}
		change_variable = { 
			name = trade_sply_pottery
			divide = 2
		}
		set_variable = { 
			name = trade_earn_pottery
			value = 0
		}
		set_variable = { 
			name = trade_pay_pottery
			value = 0
		}
		set_variable = { 
			name = trade_in_tools
			value = 0
		}
		set_variable = { 
			name = trade_out_tools
			value = 0
		}
		set_variable = { 
			name = trade_dmnd_tools
			value = var:trade_want_tools
		}
		change_variable = { 
			name = trade_dmnd_tools
			subtract = var:trade_has_tools
		}
		change_variable = { 
			name = trade_dmnd_tools
			divide = 2
		}
		set_variable = { 
			name = trade_sply_tools
			value = var:trade_has_tools
		}
		change_variable = { 
			name = trade_sply_tools
			divide = 2
		}
		set_variable = { 
			name = trade_earn_tools
			value = 0
		}
		set_variable = { 
			name = trade_pay_tools
			value = 0
		}
		set_variable = { 
			name = trade_power
			value = var:trade_rank
		}
		change_variable = { 
			name = trade_power
			multiply = var:trade_skill
		}
		change_variable = { 
			name = trade_power
			multiply = 5
		}
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = trade_route
			value = 0
		}
	}
	set_global_variable = { 
		name = trade_do_trade_loop
	}
	while = { 
		limit = { 
			has_global_variable = trade_do_trade_loop
		}
		count = 100000
		remove_global_variable = trade_do_trade_loop
		ordered_in_global_list = { 
			limit = { 
				has_variable = trade_power
				var:trade_power > 0
			}
			variable = trade_merchants
			order_by = trade_do_trade_order_value_0
			position = 0
			set_global_variable = { 
				name = trade_do_trade_loop
			}
			set_global_variable = { 
				name = trade_do_trade_select
				value = this
			}
			every_province = { 
				add_to_global_variable_list = { 
					name = travel_distance_dijkstra_every_white
					target = this
				}
			}
			every_in_global_list = { 
				variable = every_water
				add_to_global_variable_list = { 
					name = travel_distance_dijkstra_every_white
					target = this
				}
			}
			every_in_global_list = { 
				variable = travel_distance_dijkstra_every_white
				set_variable = { 
					name = travel_distance_distance
					value = 210000
				}
				set_variable = { 
					name = travel_distance_prev
					value = this
				}
			}
			if = { 
				limit = { 
					or = { 
						always = no
					}
				}
				every_in_global_list = { 
					variable = trade_outposts
					set_variable = { 
						name = travel_distance_distance
						value = 0.001
					}
					set_variable = { 
						name = travel_distance_prev
						value = this
					}
					change_variable = { 
						name = travel_distance_distance
						add = 380
					}
					add_to_global_variable_list = { 
						name = travel_distance_fray
						target = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_visited
						target = this
					}
				}
			}
			else = { 
				every_in_list = { 
					variable = trade_outposts
					set_variable = { 
						name = travel_distance_distance
						value = 0.001
					}
					set_variable = { 
						name = travel_distance_prev
						value = this
					}
					change_variable = { 
						name = travel_distance_distance
						add = 380
					}
					add_to_global_variable_list = { 
						name = travel_distance_fray
						target = this
					}
					add_to_global_variable_list = { 
						name = travel_distance_visited
						target = this
					}
				}
			}
			var:trade_location = { 
				set_variable = { 
					name = travel_distance_distance
					value = 0.001
				}
				set_variable = { 
					name = travel_distance_prev
					value = this
				}
				add_to_global_variable_list = { 
					name = travel_distance_fray
					target = this
				}
				add_to_global_variable_list = { 
					name = travel_distance_visited
					target = this
				}
			}
			while = { 
				limit = { 
					has_global_variable_list = travel_distance_fray
					global_variable_list_size = { 
						name = travel_distance_fray
						value >= 1
					}
				}
				count = 100000
				ordered_in_global_list = { 
					variable = travel_distance_fray
					order_by = travel_distance_order_value
					position = 0
					set_global_variable = { 
						name = travel_distance_select
						value = this
					}
					remove_list_global_variable = { 
						name = travel_distance_fray
						target = this
					}
				}
				global_var:travel_distance_select = { 
					if = { 
						limit = { 
							has_variable_list = prov_neighb
						}
						every_in_list = { 
							variable = prov_neighb
							limit = { 
								has_variable = travel_distance_distance
								var:travel_distance_distance = { 
									compare_value > global_var:travel_distance_select.var:travel_distance_distance
								}
							}
							set_variable = { 
								name = get_distance_neighb_x_diff
								value = global_var:travel_distance_select.var:prov_x
							}
							set_variable = { 
								name = get_distance_neighb_y_diff
								value = global_var:travel_distance_select.var:prov_y
							}
							change_variable = { 
								name = get_distance_neighb_x_diff
								subtract = this.var:prov_x
							}
							change_variable = { 
								name = get_distance_neighb_y_diff
								subtract = this.var:prov_y
							}
							set_variable = { 
								name = math_dist_x
								value = var:get_distance_neighb_x_diff
							}
							set_variable = { 
								name = math_dist_y
								value = var:get_distance_neighb_y_diff
							}
							if = { 
								limit = { 
									var:math_dist_x < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = 0
								}
								change_variable = { 
									name = math_dist_x
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_y < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = 0
								}
								change_variable = { 
									name = math_dist_y
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_x = { 
										compare_value < prev.var:math_dist_y
									}
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = var:math_dist_t
								}
							}
							change_variable = { 
								name = math_dist_x
								multiply = 100.7
							}
							change_variable = { 
								name = math_dist_y
								multiply = 44.1
							}
							set_variable = { 
								name = travel_distance_distance_new
								value = var:math_dist_x
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = var:math_dist_y
							}
							change_variable = { 
								name = travel_distance_distance_new
								divide = 102.4
							}
							remove_variable = math_dist_x
							remove_variable = math_dist_y
							remove_variable = math_dist_t
							set_variable = { 
								name = get_distance_neighb_cost
								value = global_var:travel_distance_select.var:prov_cost
							}
							change_variable = { 
								name = get_distance_neighb_cost
								add = this.var:prov_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								multiply = var:get_distance_neighb_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = global_var:travel_distance_select.var:travel_distance_distance
							}
							remove_variable = get_distance_neighb_x_diff
							remove_variable = get_distance_neighb_y_diff
							remove_variable = get_distance_neighb_cost
							if = { 
								limit = { 
									var:travel_distance_distance_new <= 760
									var:travel_distance_distance_new = { 
										compare_value < prev.var:travel_distance_distance
									}
								}
								add_to_global_variable_list = { 
									name = travel_distance_fray
									target = this
								}
								add_to_global_variable_list = { 
									name = travel_distance_visited
									target = this
								}
								set_variable = { 
									name = travel_distance_distance
									value = var:travel_distance_distance_new
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select
								}
							}
						}
					}
					if = { 
						limit = { 
							has_variable_list = prov_port
						}
						every_in_list = { 
							variable = prov_port
							limit = { 
								has_variable = travel_distance_distance
								var:travel_distance_distance = { 
									compare_value > global_var:travel_distance_select.var:travel_distance_distance
								}
							}
							set_variable = { 
								name = get_distance_port_cost
								value = 100
							}
							set_variable = { 
								name = get_distance_neighb_x_diff
								value = global_var:travel_distance_select.var:prov_x
							}
							set_variable = { 
								name = get_distance_neighb_y_diff
								value = global_var:travel_distance_select.var:prov_y
							}
							change_variable = { 
								name = get_distance_neighb_x_diff
								subtract = this.var:prov_x
							}
							change_variable = { 
								name = get_distance_neighb_y_diff
								subtract = this.var:prov_y
							}
							set_variable = { 
								name = math_dist_x
								value = var:get_distance_neighb_x_diff
							}
							set_variable = { 
								name = math_dist_y
								value = var:get_distance_neighb_y_diff
							}
							if = { 
								limit = { 
									var:math_dist_x < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = 0
								}
								change_variable = { 
									name = math_dist_x
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_y < 0
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = 0
								}
								change_variable = { 
									name = math_dist_y
									subtract = var:math_dist_t
								}
							}
							if = { 
								limit = { 
									var:math_dist_x = { 
										compare_value < prev.var:math_dist_y
									}
								}
								set_variable = { 
									name = math_dist_t
									value = var:math_dist_x
								}
								set_variable = { 
									name = math_dist_x
									value = var:math_dist_y
								}
								set_variable = { 
									name = math_dist_y
									value = var:math_dist_t
								}
							}
							change_variable = { 
								name = math_dist_x
								multiply = 100.7
							}
							change_variable = { 
								name = math_dist_y
								multiply = 44.1
							}
							set_variable = { 
								name = travel_distance_distance_new
								value = var:math_dist_x
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = var:math_dist_y
							}
							change_variable = { 
								name = travel_distance_distance_new
								divide = 102.4
							}
							remove_variable = math_dist_x
							remove_variable = math_dist_y
							remove_variable = math_dist_t
							set_variable = { 
								name = get_distance_neighb_cost
								value = global_var:travel_distance_select.var:prov_cost
							}
							change_variable = { 
								name = get_distance_neighb_cost
								add = this.var:prov_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								multiply = var:get_distance_neighb_cost
							}
							change_variable = { 
								name = travel_distance_distance_new
								add = global_var:travel_distance_select.var:travel_distance_distance
							}
							remove_variable = get_distance_neighb_x_diff
							remove_variable = get_distance_neighb_y_diff
							remove_variable = get_distance_neighb_cost
							change_variable = { 
								name = travel_distance_distance_new
								add = var:get_distance_port_cost
							}
							remove_variable = get_distance_port_cost
							if = { 
								limit = { 
									var:travel_distance_distance_new <= 760
									var:travel_distance_distance_new = { 
										compare_value < prev.var:travel_distance_distance
									}
								}
								add_to_global_variable_list = { 
									name = travel_distance_fray
									target = this
								}
								add_to_global_variable_list = { 
									name = travel_distance_visited
									target = this
								}
								set_variable = { 
									name = travel_distance_distance
									value = var:travel_distance_distance_new
								}
								set_variable = { 
									name = travel_distance_prev
									value = global_var:travel_distance_select
								}
							}
						}
					}
				}
			}
			every_in_global_list = { 
				variable = travel_distance_visited
				limit = { 
					var:prov_sea = 2
				}
				while = { 
					limit = { 
						var:travel_distance_prev.var:prov_sea = 2
					}
					set_variable = { 
						name = travel_distance_prev
						value = var:travel_distance_prev.var:travel_distance_prev
					}
				}
			}
			every_in_global_list = { 
				variable = travel_distance_visited
				limit = { 
					var:prov_sea = 1
				}
				while = { 
					limit = { 
						var:travel_distance_prev.var:prov_sea = 2
					}
					set_variable = { 
						name = travel_distance_prev
						value = var:travel_distance_prev.var:travel_distance_prev
					}
				}
			}
			every_in_global_list = { 
				variable = travel_distance_visited
				set_variable = { 
					name = trade_do_trade_dist
					value = var:travel_distance_distance
				}
				set_variable = { 
					name = trade_do_trade_prev
					value = var:travel_distance_prev
				}
				remove_variable = travel_distance_distance_new
				remove_variable = travel_distance_distance
				remove_variable = travel_distance_prev
			}
			clear_global_variable_list = travel_distance_fray
			clear_global_variable_list = travel_distance_visited
			remove_global_variable = travel_distance_select
			every_in_global_list = { 
				variable = travel_distance_dijkstra_every_white
				remove_variable = travel_distance_distance
				remove_variable = travel_distance_prev
			}
			clear_global_variable_list = travel_distance_dijkstra_every_white
			every_county = { 
				limit = { 
					is_valid_prov = yes
					any_county_province = { 
						has_variable = trade_do_trade_dist
					}
				}
				add_to_global_variable_list = { 
					name = trade_do_trade_list
					target = this
				}
				ordered_county_province = { 
					limit = { 
						has_variable = trade_do_trade_dist
					}
					order_by = trade_do_trade_order_value_1
					position = 0
					prev = { 
						set_variable = { 
							name = trade_do_trade_dist
							value = prev.var:trade_do_trade_dist
						}
						set_variable = { 
							name = trade_do_trade_prev
							value = prev
						}
					}
				}
			}
			set_variable = { 
				name = trade_do_trade_select
			}
			every_in_global_list = { 
				limit = { 
					NOT = { 
						has_variable = trade_do_trade_select
					}
					var:trade_location.county = { 
						has_variable = trade_do_trade_dist
					}
				}
				variable = trade_merchants
				add_to_global_variable_list = { 
					name = trade_do_trade_list
					target = this
				}
				set_variable = { 
					name = trade_do_trade_dist
					value = var:trade_location.county.var:trade_do_trade_dist
				}
				set_variable = { 
					name = trade_do_trade_prev
					value = var:trade_location.county.var:trade_do_trade_prev
				}
				change_variable = { 
					name = trade_do_trade_dist
					divide = 1.6
				}
				change_variable = { 
					name = trade_do_trade_dist
					subtract = 95
				}
				if = { 
					limit = { 
						OR = { 
							NOT = { 
								has_variable = trade_do_trade_dist
							}
							var:trade_do_trade_dist = 0
							var:trade_do_trade_dist < 0
						}
					}
					set_variable = { 
						name = trade_do_trade_dist
						value = 0.001
					}
				}
			}
			remove_variable = trade_do_trade_select
			every_in_global_list = { 
				variable = trade_do_trade_list
				set_variable = { 
					name = trade_cost
					value = var:trade_do_trade_dist
				}
				change_variable = { 
					name = trade_cost
					divide = 40
				}
				change_variable = { 
					name = trade_cost
					add = 1
				}
				change_variable = { 
					name = trade_cost
					divide = 20
				}
			}
			set_variable = { 
				name = trade_sum_buy_food
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_food
				value = 0
			}
			set_variable = { 
				name = trade_buy_food
				value = var:trade_dmnd_food
			}
			change_variable = { 
				name = trade_buy_food
				subtract = var:trade_in_food
			}
			set_variable = { 
				name = trade_sell_food
				value = var:trade_sply_food
			}
			change_variable = { 
				name = trade_sell_food
				subtract = var:trade_out_food
			}
			if = { 
				limit = { 
					var:trade_buy_food < 0
				}
				set_variable = { 
					name = trade_buy_food
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_food < 0
				}
				set_variable = { 
					name = trade_sell_food
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_cereal
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_cereal
				value = 0
			}
			set_variable = { 
				name = trade_buy_cereal
				value = var:trade_dmnd_cereal
			}
			change_variable = { 
				name = trade_buy_cereal
				subtract = var:trade_in_cereal
			}
			set_variable = { 
				name = trade_sell_cereal
				value = var:trade_sply_cereal
			}
			change_variable = { 
				name = trade_sell_cereal
				subtract = var:trade_out_cereal
			}
			if = { 
				limit = { 
					var:trade_buy_cereal < 0
				}
				set_variable = { 
					name = trade_buy_cereal
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_cereal < 0
				}
				set_variable = { 
					name = trade_sell_cereal
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_salted
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_salted
				value = 0
			}
			set_variable = { 
				name = trade_buy_salted
				value = var:trade_dmnd_salted
			}
			change_variable = { 
				name = trade_buy_salted
				subtract = var:trade_in_salted
			}
			set_variable = { 
				name = trade_sell_salted
				value = var:trade_sply_salted
			}
			change_variable = { 
				name = trade_sell_salted
				subtract = var:trade_out_salted
			}
			if = { 
				limit = { 
					var:trade_buy_salted < 0
				}
				set_variable = { 
					name = trade_buy_salted
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_salted < 0
				}
				set_variable = { 
					name = trade_sell_salted
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_salt
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_salt
				value = 0
			}
			set_variable = { 
				name = trade_buy_salt
				value = var:trade_dmnd_salt
			}
			change_variable = { 
				name = trade_buy_salt
				subtract = var:trade_in_salt
			}
			set_variable = { 
				name = trade_sell_salt
				value = var:trade_sply_salt
			}
			change_variable = { 
				name = trade_sell_salt
				subtract = var:trade_out_salt
			}
			if = { 
				limit = { 
					var:trade_buy_salt < 0
				}
				set_variable = { 
					name = trade_buy_salt
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_salt < 0
				}
				set_variable = { 
					name = trade_sell_salt
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_mud
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_mud
				value = 0
			}
			set_variable = { 
				name = trade_buy_mud
				value = var:trade_dmnd_mud
			}
			change_variable = { 
				name = trade_buy_mud
				subtract = var:trade_in_mud
			}
			set_variable = { 
				name = trade_sell_mud
				value = var:trade_sply_mud
			}
			change_variable = { 
				name = trade_sell_mud
				subtract = var:trade_out_mud
			}
			if = { 
				limit = { 
					var:trade_buy_mud < 0
				}
				set_variable = { 
					name = trade_buy_mud
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_mud < 0
				}
				set_variable = { 
					name = trade_sell_mud
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_fuel
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_fuel
				value = 0
			}
			set_variable = { 
				name = trade_buy_fuel
				value = var:trade_dmnd_fuel
			}
			change_variable = { 
				name = trade_buy_fuel
				subtract = var:trade_in_fuel
			}
			set_variable = { 
				name = trade_sell_fuel
				value = var:trade_sply_fuel
			}
			change_variable = { 
				name = trade_sell_fuel
				subtract = var:trade_out_fuel
			}
			if = { 
				limit = { 
					var:trade_buy_fuel < 0
				}
				set_variable = { 
					name = trade_buy_fuel
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_fuel < 0
				}
				set_variable = { 
					name = trade_sell_fuel
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_fiber
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_fiber
				value = 0
			}
			set_variable = { 
				name = trade_buy_fiber
				value = var:trade_dmnd_fiber
			}
			change_variable = { 
				name = trade_buy_fiber
				subtract = var:trade_in_fiber
			}
			set_variable = { 
				name = trade_sell_fiber
				value = var:trade_sply_fiber
			}
			change_variable = { 
				name = trade_sell_fiber
				subtract = var:trade_out_fiber
			}
			if = { 
				limit = { 
					var:trade_buy_fiber < 0
				}
				set_variable = { 
					name = trade_buy_fiber
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_fiber < 0
				}
				set_variable = { 
					name = trade_sell_fiber
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_timber
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_timber
				value = 0
			}
			set_variable = { 
				name = trade_buy_timber
				value = var:trade_dmnd_timber
			}
			change_variable = { 
				name = trade_buy_timber
				subtract = var:trade_in_timber
			}
			set_variable = { 
				name = trade_sell_timber
				value = var:trade_sply_timber
			}
			change_variable = { 
				name = trade_sell_timber
				subtract = var:trade_out_timber
			}
			if = { 
				limit = { 
					var:trade_buy_timber < 0
				}
				set_variable = { 
					name = trade_buy_timber
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_timber < 0
				}
				set_variable = { 
					name = trade_sell_timber
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_metal
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_metal
				value = 0
			}
			set_variable = { 
				name = trade_buy_metal
				value = var:trade_dmnd_metal
			}
			change_variable = { 
				name = trade_buy_metal
				subtract = var:trade_in_metal
			}
			set_variable = { 
				name = trade_sell_metal
				value = var:trade_sply_metal
			}
			change_variable = { 
				name = trade_sell_metal
				subtract = var:trade_out_metal
			}
			if = { 
				limit = { 
					var:trade_buy_metal < 0
				}
				set_variable = { 
					name = trade_buy_metal
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_metal < 0
				}
				set_variable = { 
					name = trade_sell_metal
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_buy_exotics_w
				value = var:trade_dmnd_exotics_w
			}
			change_variable = { 
				name = trade_buy_exotics_w
				subtract = var:trade_in_exotics_w
			}
			set_variable = { 
				name = trade_sell_exotics_w
				value = var:trade_sply_exotics_w
			}
			change_variable = { 
				name = trade_sell_exotics_w
				subtract = var:trade_out_exotics_w
			}
			if = { 
				limit = { 
					var:trade_buy_exotics_w < 0
				}
				set_variable = { 
					name = trade_buy_exotics_w
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_exotics_w < 0
				}
				set_variable = { 
					name = trade_sell_exotics_w
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_buy_exotics_e
				value = var:trade_dmnd_exotics_e
			}
			change_variable = { 
				name = trade_buy_exotics_e
				subtract = var:trade_in_exotics_e
			}
			set_variable = { 
				name = trade_sell_exotics_e
				value = var:trade_sply_exotics_e
			}
			change_variable = { 
				name = trade_sell_exotics_e
				subtract = var:trade_out_exotics_e
			}
			if = { 
				limit = { 
					var:trade_buy_exotics_e < 0
				}
				set_variable = { 
					name = trade_buy_exotics_e
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_exotics_e < 0
				}
				set_variable = { 
					name = trade_sell_exotics_e
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_buy_exotics_g
				value = var:trade_dmnd_exotics_g
			}
			change_variable = { 
				name = trade_buy_exotics_g
				subtract = var:trade_in_exotics_g
			}
			set_variable = { 
				name = trade_sell_exotics_g
				value = var:trade_sply_exotics_g
			}
			change_variable = { 
				name = trade_sell_exotics_g
				subtract = var:trade_out_exotics_g
			}
			if = { 
				limit = { 
					var:trade_buy_exotics_g < 0
				}
				set_variable = { 
					name = trade_buy_exotics_g
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_exotics_g < 0
				}
				set_variable = { 
					name = trade_sell_exotics_g
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_textile
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_textile
				value = 0
			}
			set_variable = { 
				name = trade_buy_textile
				value = var:trade_dmnd_textile
			}
			change_variable = { 
				name = trade_buy_textile
				subtract = var:trade_in_textile
			}
			set_variable = { 
				name = trade_sell_textile
				value = var:trade_sply_textile
			}
			change_variable = { 
				name = trade_sell_textile
				subtract = var:trade_out_textile
			}
			if = { 
				limit = { 
					var:trade_buy_textile < 0
				}
				set_variable = { 
					name = trade_buy_textile
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_textile < 0
				}
				set_variable = { 
					name = trade_sell_textile
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_pottery
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_pottery
				value = 0
			}
			set_variable = { 
				name = trade_buy_pottery
				value = var:trade_dmnd_pottery
			}
			change_variable = { 
				name = trade_buy_pottery
				subtract = var:trade_in_pottery
			}
			set_variable = { 
				name = trade_sell_pottery
				value = var:trade_sply_pottery
			}
			change_variable = { 
				name = trade_sell_pottery
				subtract = var:trade_out_pottery
			}
			if = { 
				limit = { 
					var:trade_buy_pottery < 0
				}
				set_variable = { 
					name = trade_buy_pottery
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_pottery < 0
				}
				set_variable = { 
					name = trade_sell_pottery
					value = 0
				}
			}
			set_variable = { 
				name = trade_sum_buy_tools
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_tools
				value = 0
			}
			set_variable = { 
				name = trade_buy_tools
				value = var:trade_dmnd_tools
			}
			change_variable = { 
				name = trade_buy_tools
				subtract = var:trade_in_tools
			}
			set_variable = { 
				name = trade_sell_tools
				value = var:trade_sply_tools
			}
			change_variable = { 
				name = trade_sell_tools
				subtract = var:trade_out_tools
			}
			if = { 
				limit = { 
					var:trade_buy_tools < 0
				}
				set_variable = { 
					name = trade_buy_tools
					value = 0
				}
			}
			if = { 
				limit = { 
					var:trade_sell_tools < 0
				}
				set_variable = { 
					name = trade_sell_tools
					value = 0
				}
			}
			every_in_global_list = { 
				variable = trade_do_trade_list
				if = { 
					limit = { 
						var:trade_price_food = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_food
						}
					}
					set_variable = { 
						name = trade_sell_food
						value = 0
					}
					set_variable = { 
						name = trade_buy_food
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_food = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_food
							}
						}
						set_variable = { 
							name = trade_sell_food
							value = 0
						}
						set_variable = { 
							name = trade_buy_food
							value = var:trade_dmnd_food
						}
						change_variable = { 
							name = trade_buy_food
							subtract = var:trade_in_food
						}
						if = { 
							limit = { 
								var:trade_buy_food < 0
							}
							set_variable = { 
								name = trade_buy_food
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_food
							value = 0
						}
						set_variable = { 
							name = trade_sell_food
							value = var:trade_sply_food
						}
						change_variable = { 
							name = trade_sell_food
							subtract = var:trade_out_food
						}
						if = { 
							limit = { 
								var:trade_sell_food < 0
							}
							set_variable = { 
								name = trade_sell_food
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_food
								var:trade_sell_food > 0
							}
							AND = { 
								has_variable = trade_buy_food
								var:trade_buy_food > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_food
						value = var:trade_price_food
					}
					change_variable = { 
						name = trade_point_food
						subtract = prev.var:trade_price_food
					}
					if = { 
						limit = { 
							has_variable = trade_point_food
							var:trade_point_food < 0
						}
						change_variable = { 
							name = trade_point_food
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_food
						multiply = 100
					}
					change_variable = { 
						name = trade_point_food
						add = 1
					}
					change_variable = { 
						name = trade_point_food
						divide = trade_power_cost_food
					}
					change_variable = { 
						name = trade_point_food
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_food
				}
				if = { 
					limit = { 
						var:trade_price_cereal = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_cereal
						}
					}
					set_variable = { 
						name = trade_sell_cereal
						value = 0
					}
					set_variable = { 
						name = trade_buy_cereal
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_cereal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_cereal
							}
						}
						set_variable = { 
							name = trade_sell_cereal
							value = 0
						}
						set_variable = { 
							name = trade_buy_cereal
							value = var:trade_dmnd_cereal
						}
						change_variable = { 
							name = trade_buy_cereal
							subtract = var:trade_in_cereal
						}
						if = { 
							limit = { 
								var:trade_buy_cereal < 0
							}
							set_variable = { 
								name = trade_buy_cereal
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_cereal
							value = 0
						}
						set_variable = { 
							name = trade_sell_cereal
							value = var:trade_sply_cereal
						}
						change_variable = { 
							name = trade_sell_cereal
							subtract = var:trade_out_cereal
						}
						if = { 
							limit = { 
								var:trade_sell_cereal < 0
							}
							set_variable = { 
								name = trade_sell_cereal
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_cereal
								var:trade_sell_cereal > 0
							}
							AND = { 
								has_variable = trade_buy_cereal
								var:trade_buy_cereal > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_cereal
						value = var:trade_price_cereal
					}
					change_variable = { 
						name = trade_point_cereal
						subtract = prev.var:trade_price_cereal
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
							var:trade_point_cereal < 0
						}
						change_variable = { 
							name = trade_point_cereal
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_cereal
						multiply = 100
					}
					change_variable = { 
						name = trade_point_cereal
						add = 1
					}
					change_variable = { 
						name = trade_point_cereal
						divide = trade_power_cost_cereal
					}
					change_variable = { 
						name = trade_point_cereal
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_cereal
				}
				if = { 
					limit = { 
						var:trade_price_salted = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_salted
						}
					}
					set_variable = { 
						name = trade_sell_salted
						value = 0
					}
					set_variable = { 
						name = trade_buy_salted
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_salted = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_salted
							}
						}
						set_variable = { 
							name = trade_sell_salted
							value = 0
						}
						set_variable = { 
							name = trade_buy_salted
							value = var:trade_dmnd_salted
						}
						change_variable = { 
							name = trade_buy_salted
							subtract = var:trade_in_salted
						}
						if = { 
							limit = { 
								var:trade_buy_salted < 0
							}
							set_variable = { 
								name = trade_buy_salted
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_salted
							value = 0
						}
						set_variable = { 
							name = trade_sell_salted
							value = var:trade_sply_salted
						}
						change_variable = { 
							name = trade_sell_salted
							subtract = var:trade_out_salted
						}
						if = { 
							limit = { 
								var:trade_sell_salted < 0
							}
							set_variable = { 
								name = trade_sell_salted
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_salted
								var:trade_sell_salted > 0
							}
							AND = { 
								has_variable = trade_buy_salted
								var:trade_buy_salted > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_salted
						value = var:trade_price_salted
					}
					change_variable = { 
						name = trade_point_salted
						subtract = prev.var:trade_price_salted
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
							var:trade_point_salted < 0
						}
						change_variable = { 
							name = trade_point_salted
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_salted
						multiply = 100
					}
					change_variable = { 
						name = trade_point_salted
						add = 1
					}
					change_variable = { 
						name = trade_point_salted
						divide = trade_power_cost_salted
					}
					change_variable = { 
						name = trade_point_salted
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_salted
				}
				if = { 
					limit = { 
						var:trade_price_salt = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_salt
						}
					}
					set_variable = { 
						name = trade_sell_salt
						value = 0
					}
					set_variable = { 
						name = trade_buy_salt
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_salt = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_salt
							}
						}
						set_variable = { 
							name = trade_sell_salt
							value = 0
						}
						set_variable = { 
							name = trade_buy_salt
							value = var:trade_dmnd_salt
						}
						change_variable = { 
							name = trade_buy_salt
							subtract = var:trade_in_salt
						}
						if = { 
							limit = { 
								var:trade_buy_salt < 0
							}
							set_variable = { 
								name = trade_buy_salt
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_salt
							value = 0
						}
						set_variable = { 
							name = trade_sell_salt
							value = var:trade_sply_salt
						}
						change_variable = { 
							name = trade_sell_salt
							subtract = var:trade_out_salt
						}
						if = { 
							limit = { 
								var:trade_sell_salt < 0
							}
							set_variable = { 
								name = trade_sell_salt
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_salt
								var:trade_sell_salt > 0
							}
							AND = { 
								has_variable = trade_buy_salt
								var:trade_buy_salt > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_salt
						value = var:trade_price_salt
					}
					change_variable = { 
						name = trade_point_salt
						subtract = prev.var:trade_price_salt
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
							var:trade_point_salt < 0
						}
						change_variable = { 
							name = trade_point_salt
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_salt
						multiply = 100
					}
					change_variable = { 
						name = trade_point_salt
						add = 1
					}
					change_variable = { 
						name = trade_point_salt
						divide = trade_power_cost_salt
					}
					change_variable = { 
						name = trade_point_salt
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_salt
				}
				if = { 
					limit = { 
						var:trade_price_mud = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_mud
						}
					}
					set_variable = { 
						name = trade_sell_mud
						value = 0
					}
					set_variable = { 
						name = trade_buy_mud
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_mud = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_mud
							}
						}
						set_variable = { 
							name = trade_sell_mud
							value = 0
						}
						set_variable = { 
							name = trade_buy_mud
							value = var:trade_dmnd_mud
						}
						change_variable = { 
							name = trade_buy_mud
							subtract = var:trade_in_mud
						}
						if = { 
							limit = { 
								var:trade_buy_mud < 0
							}
							set_variable = { 
								name = trade_buy_mud
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_mud
							value = 0
						}
						set_variable = { 
							name = trade_sell_mud
							value = var:trade_sply_mud
						}
						change_variable = { 
							name = trade_sell_mud
							subtract = var:trade_out_mud
						}
						if = { 
							limit = { 
								var:trade_sell_mud < 0
							}
							set_variable = { 
								name = trade_sell_mud
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_mud
								var:trade_sell_mud > 0
							}
							AND = { 
								has_variable = trade_buy_mud
								var:trade_buy_mud > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_mud
						value = var:trade_price_mud
					}
					change_variable = { 
						name = trade_point_mud
						subtract = prev.var:trade_price_mud
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
							var:trade_point_mud < 0
						}
						change_variable = { 
							name = trade_point_mud
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_mud
						multiply = 100
					}
					change_variable = { 
						name = trade_point_mud
						add = 1
					}
					change_variable = { 
						name = trade_point_mud
						divide = trade_power_cost_mud
					}
					change_variable = { 
						name = trade_point_mud
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_mud
				}
				if = { 
					limit = { 
						var:trade_price_fuel = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_fuel
						}
					}
					set_variable = { 
						name = trade_sell_fuel
						value = 0
					}
					set_variable = { 
						name = trade_buy_fuel
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_fuel = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_fuel
							}
						}
						set_variable = { 
							name = trade_sell_fuel
							value = 0
						}
						set_variable = { 
							name = trade_buy_fuel
							value = var:trade_dmnd_fuel
						}
						change_variable = { 
							name = trade_buy_fuel
							subtract = var:trade_in_fuel
						}
						if = { 
							limit = { 
								var:trade_buy_fuel < 0
							}
							set_variable = { 
								name = trade_buy_fuel
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_fuel
							value = 0
						}
						set_variable = { 
							name = trade_sell_fuel
							value = var:trade_sply_fuel
						}
						change_variable = { 
							name = trade_sell_fuel
							subtract = var:trade_out_fuel
						}
						if = { 
							limit = { 
								var:trade_sell_fuel < 0
							}
							set_variable = { 
								name = trade_sell_fuel
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_fuel
								var:trade_sell_fuel > 0
							}
							AND = { 
								has_variable = trade_buy_fuel
								var:trade_buy_fuel > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_fuel
						value = var:trade_price_fuel
					}
					change_variable = { 
						name = trade_point_fuel
						subtract = prev.var:trade_price_fuel
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
							var:trade_point_fuel < 0
						}
						change_variable = { 
							name = trade_point_fuel
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_fuel
						multiply = 100
					}
					change_variable = { 
						name = trade_point_fuel
						add = 1
					}
					change_variable = { 
						name = trade_point_fuel
						divide = trade_power_cost_fuel
					}
					change_variable = { 
						name = trade_point_fuel
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_fuel
				}
				if = { 
					limit = { 
						var:trade_price_fiber = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_fiber
						}
					}
					set_variable = { 
						name = trade_sell_fiber
						value = 0
					}
					set_variable = { 
						name = trade_buy_fiber
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_fiber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_fiber
							}
						}
						set_variable = { 
							name = trade_sell_fiber
							value = 0
						}
						set_variable = { 
							name = trade_buy_fiber
							value = var:trade_dmnd_fiber
						}
						change_variable = { 
							name = trade_buy_fiber
							subtract = var:trade_in_fiber
						}
						if = { 
							limit = { 
								var:trade_buy_fiber < 0
							}
							set_variable = { 
								name = trade_buy_fiber
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_fiber
							value = 0
						}
						set_variable = { 
							name = trade_sell_fiber
							value = var:trade_sply_fiber
						}
						change_variable = { 
							name = trade_sell_fiber
							subtract = var:trade_out_fiber
						}
						if = { 
							limit = { 
								var:trade_sell_fiber < 0
							}
							set_variable = { 
								name = trade_sell_fiber
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_fiber
								var:trade_sell_fiber > 0
							}
							AND = { 
								has_variable = trade_buy_fiber
								var:trade_buy_fiber > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_fiber
						value = var:trade_price_fiber
					}
					change_variable = { 
						name = trade_point_fiber
						subtract = prev.var:trade_price_fiber
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
							var:trade_point_fiber < 0
						}
						change_variable = { 
							name = trade_point_fiber
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_fiber
						multiply = 100
					}
					change_variable = { 
						name = trade_point_fiber
						add = 1
					}
					change_variable = { 
						name = trade_point_fiber
						divide = trade_power_cost_fiber
					}
					change_variable = { 
						name = trade_point_fiber
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_fiber
				}
				if = { 
					limit = { 
						var:trade_price_timber = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_timber
						}
					}
					set_variable = { 
						name = trade_sell_timber
						value = 0
					}
					set_variable = { 
						name = trade_buy_timber
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_timber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_timber
							}
						}
						set_variable = { 
							name = trade_sell_timber
							value = 0
						}
						set_variable = { 
							name = trade_buy_timber
							value = var:trade_dmnd_timber
						}
						change_variable = { 
							name = trade_buy_timber
							subtract = var:trade_in_timber
						}
						if = { 
							limit = { 
								var:trade_buy_timber < 0
							}
							set_variable = { 
								name = trade_buy_timber
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_timber
							value = 0
						}
						set_variable = { 
							name = trade_sell_timber
							value = var:trade_sply_timber
						}
						change_variable = { 
							name = trade_sell_timber
							subtract = var:trade_out_timber
						}
						if = { 
							limit = { 
								var:trade_sell_timber < 0
							}
							set_variable = { 
								name = trade_sell_timber
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_timber
								var:trade_sell_timber > 0
							}
							AND = { 
								has_variable = trade_buy_timber
								var:trade_buy_timber > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_timber
						value = var:trade_price_timber
					}
					change_variable = { 
						name = trade_point_timber
						subtract = prev.var:trade_price_timber
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
							var:trade_point_timber < 0
						}
						change_variable = { 
							name = trade_point_timber
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_timber
						multiply = 100
					}
					change_variable = { 
						name = trade_point_timber
						add = 1
					}
					change_variable = { 
						name = trade_point_timber
						divide = trade_power_cost_timber
					}
					change_variable = { 
						name = trade_point_timber
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_timber
				}
				if = { 
					limit = { 
						var:trade_price_metal = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_metal
						}
					}
					set_variable = { 
						name = trade_sell_metal
						value = 0
					}
					set_variable = { 
						name = trade_buy_metal
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_metal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_metal
							}
						}
						set_variable = { 
							name = trade_sell_metal
							value = 0
						}
						set_variable = { 
							name = trade_buy_metal
							value = var:trade_dmnd_metal
						}
						change_variable = { 
							name = trade_buy_metal
							subtract = var:trade_in_metal
						}
						if = { 
							limit = { 
								var:trade_buy_metal < 0
							}
							set_variable = { 
								name = trade_buy_metal
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_metal
							value = 0
						}
						set_variable = { 
							name = trade_sell_metal
							value = var:trade_sply_metal
						}
						change_variable = { 
							name = trade_sell_metal
							subtract = var:trade_out_metal
						}
						if = { 
							limit = { 
								var:trade_sell_metal < 0
							}
							set_variable = { 
								name = trade_sell_metal
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_metal
								var:trade_sell_metal > 0
							}
							AND = { 
								has_variable = trade_buy_metal
								var:trade_buy_metal > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_metal
						value = var:trade_price_metal
					}
					change_variable = { 
						name = trade_point_metal
						subtract = prev.var:trade_price_metal
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
							var:trade_point_metal < 0
						}
						change_variable = { 
							name = trade_point_metal
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_metal
						multiply = 100
					}
					change_variable = { 
						name = trade_point_metal
						add = 1
					}
					change_variable = { 
						name = trade_point_metal
						divide = trade_power_cost_metal
					}
					change_variable = { 
						name = trade_point_metal
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_metal
				}
				if = { 
					limit = { 
						var:trade_price_exotics_w = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_exotics_w
						}
					}
					set_variable = { 
						name = trade_sell_exotics_w
						value = 0
					}
					set_variable = { 
						name = trade_buy_exotics_w
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_exotics_w = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_w
							}
						}
						set_variable = { 
							name = trade_sell_exotics_w
							value = 0
						}
						set_variable = { 
							name = trade_buy_exotics_w
							value = var:trade_dmnd_exotics_w
						}
						change_variable = { 
							name = trade_buy_exotics_w
							subtract = var:trade_in_exotics_w
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_w < 0
							}
							set_variable = { 
								name = trade_buy_exotics_w
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_w
							value = 0
						}
						set_variable = { 
							name = trade_sell_exotics_w
							value = var:trade_sply_exotics_w
						}
						change_variable = { 
							name = trade_sell_exotics_w
							subtract = var:trade_out_exotics_w
						}
						if = { 
							limit = { 
								var:trade_sell_exotics_w < 0
							}
							set_variable = { 
								name = trade_sell_exotics_w
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_exotics_w
								var:trade_sell_exotics_w > 0
							}
							AND = { 
								has_variable = trade_buy_exotics_w
								var:trade_buy_exotics_w > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_exotics_w
						value = var:trade_price_exotics_w
					}
					change_variable = { 
						name = trade_point_exotics_w
						subtract = prev.var:trade_price_exotics_w
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
							var:trade_point_exotics_w < 0
						}
						change_variable = { 
							name = trade_point_exotics_w
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_exotics_w
						multiply = 100
					}
					change_variable = { 
						name = trade_point_exotics_w
						add = 1
					}
					change_variable = { 
						name = trade_point_exotics_w
						divide = trade_power_cost_exotics_w
					}
					change_variable = { 
						name = trade_point_exotics_w
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_exotics_w
				}
				if = { 
					limit = { 
						var:trade_price_exotics_e = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_exotics_e
						}
					}
					set_variable = { 
						name = trade_sell_exotics_e
						value = 0
					}
					set_variable = { 
						name = trade_buy_exotics_e
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_exotics_e = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_e
							}
						}
						set_variable = { 
							name = trade_sell_exotics_e
							value = 0
						}
						set_variable = { 
							name = trade_buy_exotics_e
							value = var:trade_dmnd_exotics_e
						}
						change_variable = { 
							name = trade_buy_exotics_e
							subtract = var:trade_in_exotics_e
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_e < 0
							}
							set_variable = { 
								name = trade_buy_exotics_e
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_e
							value = 0
						}
						set_variable = { 
							name = trade_sell_exotics_e
							value = var:trade_sply_exotics_e
						}
						change_variable = { 
							name = trade_sell_exotics_e
							subtract = var:trade_out_exotics_e
						}
						if = { 
							limit = { 
								var:trade_sell_exotics_e < 0
							}
							set_variable = { 
								name = trade_sell_exotics_e
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_exotics_e
								var:trade_sell_exotics_e > 0
							}
							AND = { 
								has_variable = trade_buy_exotics_e
								var:trade_buy_exotics_e > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_exotics_e
						value = var:trade_price_exotics_e
					}
					change_variable = { 
						name = trade_point_exotics_e
						subtract = prev.var:trade_price_exotics_e
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
							var:trade_point_exotics_e < 0
						}
						change_variable = { 
							name = trade_point_exotics_e
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_exotics_e
						multiply = 100
					}
					change_variable = { 
						name = trade_point_exotics_e
						add = 1
					}
					change_variable = { 
						name = trade_point_exotics_e
						divide = trade_power_cost_exotics_e
					}
					change_variable = { 
						name = trade_point_exotics_e
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_exotics_e
				}
				if = { 
					limit = { 
						var:trade_price_exotics_g = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_exotics_g
						}
					}
					set_variable = { 
						name = trade_sell_exotics_g
						value = 0
					}
					set_variable = { 
						name = trade_buy_exotics_g
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_exotics_g = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_exotics_g
							}
						}
						set_variable = { 
							name = trade_sell_exotics_g
							value = 0
						}
						set_variable = { 
							name = trade_buy_exotics_g
							value = var:trade_dmnd_exotics_g
						}
						change_variable = { 
							name = trade_buy_exotics_g
							subtract = var:trade_in_exotics_g
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_g < 0
							}
							set_variable = { 
								name = trade_buy_exotics_g
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_g
							value = 0
						}
						set_variable = { 
							name = trade_sell_exotics_g
							value = var:trade_sply_exotics_g
						}
						change_variable = { 
							name = trade_sell_exotics_g
							subtract = var:trade_out_exotics_g
						}
						if = { 
							limit = { 
								var:trade_sell_exotics_g < 0
							}
							set_variable = { 
								name = trade_sell_exotics_g
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_exotics_g
								var:trade_sell_exotics_g > 0
							}
							AND = { 
								has_variable = trade_buy_exotics_g
								var:trade_buy_exotics_g > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_exotics_g
						value = var:trade_price_exotics_g
					}
					change_variable = { 
						name = trade_point_exotics_g
						subtract = prev.var:trade_price_exotics_g
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
							var:trade_point_exotics_g < 0
						}
						change_variable = { 
							name = trade_point_exotics_g
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_exotics_g
						multiply = 100
					}
					change_variable = { 
						name = trade_point_exotics_g
						add = 1
					}
					change_variable = { 
						name = trade_point_exotics_g
						divide = trade_power_cost_exotics_g
					}
					change_variable = { 
						name = trade_point_exotics_g
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_exotics_g
				}
				if = { 
					limit = { 
						var:trade_price_textile = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_textile
						}
					}
					set_variable = { 
						name = trade_sell_textile
						value = 0
					}
					set_variable = { 
						name = trade_buy_textile
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_textile = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_textile
							}
						}
						set_variable = { 
							name = trade_sell_textile
							value = 0
						}
						set_variable = { 
							name = trade_buy_textile
							value = var:trade_dmnd_textile
						}
						change_variable = { 
							name = trade_buy_textile
							subtract = var:trade_in_textile
						}
						if = { 
							limit = { 
								var:trade_buy_textile < 0
							}
							set_variable = { 
								name = trade_buy_textile
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_textile
							value = 0
						}
						set_variable = { 
							name = trade_sell_textile
							value = var:trade_sply_textile
						}
						change_variable = { 
							name = trade_sell_textile
							subtract = var:trade_out_textile
						}
						if = { 
							limit = { 
								var:trade_sell_textile < 0
							}
							set_variable = { 
								name = trade_sell_textile
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_textile
								var:trade_sell_textile > 0
							}
							AND = { 
								has_variable = trade_buy_textile
								var:trade_buy_textile > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_textile
						value = var:trade_price_textile
					}
					change_variable = { 
						name = trade_point_textile
						subtract = prev.var:trade_price_textile
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
							var:trade_point_textile < 0
						}
						change_variable = { 
							name = trade_point_textile
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_textile
						multiply = 100
					}
					change_variable = { 
						name = trade_point_textile
						add = 1
					}
					change_variable = { 
						name = trade_point_textile
						divide = trade_power_cost_textile
					}
					change_variable = { 
						name = trade_point_textile
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_textile
				}
				if = { 
					limit = { 
						var:trade_price_pottery = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_pottery
						}
					}
					set_variable = { 
						name = trade_sell_pottery
						value = 0
					}
					set_variable = { 
						name = trade_buy_pottery
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_pottery = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_pottery
							}
						}
						set_variable = { 
							name = trade_sell_pottery
							value = 0
						}
						set_variable = { 
							name = trade_buy_pottery
							value = var:trade_dmnd_pottery
						}
						change_variable = { 
							name = trade_buy_pottery
							subtract = var:trade_in_pottery
						}
						if = { 
							limit = { 
								var:trade_buy_pottery < 0
							}
							set_variable = { 
								name = trade_buy_pottery
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_pottery
							value = 0
						}
						set_variable = { 
							name = trade_sell_pottery
							value = var:trade_sply_pottery
						}
						change_variable = { 
							name = trade_sell_pottery
							subtract = var:trade_out_pottery
						}
						if = { 
							limit = { 
								var:trade_sell_pottery < 0
							}
							set_variable = { 
								name = trade_sell_pottery
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_pottery
								var:trade_sell_pottery > 0
							}
							AND = { 
								has_variable = trade_buy_pottery
								var:trade_buy_pottery > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_pottery
						value = var:trade_price_pottery
					}
					change_variable = { 
						name = trade_point_pottery
						subtract = prev.var:trade_price_pottery
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
							var:trade_point_pottery < 0
						}
						change_variable = { 
							name = trade_point_pottery
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_pottery
						multiply = 100
					}
					change_variable = { 
						name = trade_point_pottery
						add = 1
					}
					change_variable = { 
						name = trade_point_pottery
						divide = trade_power_cost_pottery
					}
					change_variable = { 
						name = trade_point_pottery
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_pottery
				}
				if = { 
					limit = { 
						var:trade_price_tools = { 
							compare_value = global_var:trade_do_trade_select.var:trade_price_tools
						}
					}
					set_variable = { 
						name = trade_sell_tools
						value = 0
					}
					set_variable = { 
						name = trade_buy_tools
						value = 0
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_price_tools = { 
								compare_value > global_var:trade_do_trade_select.var:trade_price_tools
							}
						}
						set_variable = { 
							name = trade_sell_tools
							value = 0
						}
						set_variable = { 
							name = trade_buy_tools
							value = var:trade_dmnd_tools
						}
						change_variable = { 
							name = trade_buy_tools
							subtract = var:trade_in_tools
						}
						if = { 
							limit = { 
								var:trade_buy_tools < 0
							}
							set_variable = { 
								name = trade_buy_tools
								value = 0
							}
						}
					}
					else = { 
						set_variable = { 
							name = trade_buy_tools
							value = 0
						}
						set_variable = { 
							name = trade_sell_tools
							value = var:trade_sply_tools
						}
						change_variable = { 
							name = trade_sell_tools
							subtract = var:trade_out_tools
						}
						if = { 
							limit = { 
								var:trade_sell_tools < 0
							}
							set_variable = { 
								name = trade_sell_tools
								value = 0
							}
						}
					}
				}
				if = { 
					limit = { 
						OR = { 
							AND = { 
								has_variable = trade_sell_tools
								var:trade_sell_tools > 0
							}
							AND = { 
								has_variable = trade_buy_tools
								var:trade_buy_tools > 0
							}
						}
					}
					set_variable = { 
						name = trade_point_tools
						value = var:trade_price_tools
					}
					change_variable = { 
						name = trade_point_tools
						subtract = prev.var:trade_price_tools
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
							var:trade_point_tools < 0
						}
						change_variable = { 
							name = trade_point_tools
							multiply = -1
						}
					}
					change_variable = { 
						name = trade_point_tools
						multiply = 100
					}
					change_variable = { 
						name = trade_point_tools
						add = 1
					}
					change_variable = { 
						name = trade_point_tools
						divide = trade_power_cost_tools
					}
					change_variable = { 
						name = trade_point_tools
						divide = var:trade_cost
					}
				}
				else = { 
					remove_variable = trade_point_tools
				}
				prev = { 
					change_variable = { 
						name = trade_sum_buy_food
						add = prev.var:trade_buy_food
					}
					change_variable = { 
						name = trade_sum_sell_food
						add = prev.var:trade_sell_food
					}
					change_variable = { 
						name = trade_sum_buy_cereal
						add = prev.var:trade_buy_cereal
					}
					change_variable = { 
						name = trade_sum_sell_cereal
						add = prev.var:trade_sell_cereal
					}
					change_variable = { 
						name = trade_sum_buy_salted
						add = prev.var:trade_buy_salted
					}
					change_variable = { 
						name = trade_sum_sell_salted
						add = prev.var:trade_sell_salted
					}
					change_variable = { 
						name = trade_sum_buy_salt
						add = prev.var:trade_buy_salt
					}
					change_variable = { 
						name = trade_sum_sell_salt
						add = prev.var:trade_sell_salt
					}
					change_variable = { 
						name = trade_sum_buy_mud
						add = prev.var:trade_buy_mud
					}
					change_variable = { 
						name = trade_sum_sell_mud
						add = prev.var:trade_sell_mud
					}
					change_variable = { 
						name = trade_sum_buy_fuel
						add = prev.var:trade_buy_fuel
					}
					change_variable = { 
						name = trade_sum_sell_fuel
						add = prev.var:trade_sell_fuel
					}
					change_variable = { 
						name = trade_sum_buy_fiber
						add = prev.var:trade_buy_fiber
					}
					change_variable = { 
						name = trade_sum_sell_fiber
						add = prev.var:trade_sell_fiber
					}
					change_variable = { 
						name = trade_sum_buy_timber
						add = prev.var:trade_buy_timber
					}
					change_variable = { 
						name = trade_sum_sell_timber
						add = prev.var:trade_sell_timber
					}
					change_variable = { 
						name = trade_sum_buy_metal
						add = prev.var:trade_buy_metal
					}
					change_variable = { 
						name = trade_sum_sell_metal
						add = prev.var:trade_sell_metal
					}
					change_variable = { 
						name = trade_sum_buy_exotics_w
						add = prev.var:trade_buy_exotics_w
					}
					change_variable = { 
						name = trade_sum_sell_exotics_w
						add = prev.var:trade_sell_exotics_w
					}
					change_variable = { 
						name = trade_sum_buy_exotics_e
						add = prev.var:trade_buy_exotics_e
					}
					change_variable = { 
						name = trade_sum_sell_exotics_e
						add = prev.var:trade_sell_exotics_e
					}
					change_variable = { 
						name = trade_sum_buy_exotics_g
						add = prev.var:trade_buy_exotics_g
					}
					change_variable = { 
						name = trade_sum_sell_exotics_g
						add = prev.var:trade_sell_exotics_g
					}
					change_variable = { 
						name = trade_sum_buy_textile
						add = prev.var:trade_buy_textile
					}
					change_variable = { 
						name = trade_sum_sell_textile
						add = prev.var:trade_sell_textile
					}
					change_variable = { 
						name = trade_sum_buy_pottery
						add = prev.var:trade_buy_pottery
					}
					change_variable = { 
						name = trade_sum_sell_pottery
						add = prev.var:trade_sell_pottery
					}
					change_variable = { 
						name = trade_sum_buy_tools
						add = prev.var:trade_buy_tools
					}
					change_variable = { 
						name = trade_sum_sell_tools
						add = prev.var:trade_sell_tools
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_food = 0
							NOT = { 
								var:trade_sum_buy_food = 0
							}
						}
						var:trade_sell_food = { 
							compare_value < prev.var:trade_sum_buy_food
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_food = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_food
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_food
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_food > 0
						var:trade_point_food > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_food
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_food > 0
							var:trade_point_food > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_food > 0
							var:trade_point_food > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_food
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_food
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_food
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_food
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_food
							value = 0
						}
						remove_variable = trade_point_food
					}
					else = { 
						set_variable = { 
							name = trade_buy_food
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_food
								add = prev.var:trade_buy_food
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_cereal = 0
							NOT = { 
								var:trade_sum_buy_cereal = 0
							}
						}
						var:trade_sell_cereal = { 
							compare_value < prev.var:trade_sum_buy_cereal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_cereal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_cereal
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_cereal
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_cereal > 0
						var:trade_point_cereal > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_cereal
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_cereal > 0
							var:trade_point_cereal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_cereal > 0
							var:trade_point_cereal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_cereal
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_cereal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_cereal
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_cereal
							value = 0
						}
						remove_variable = trade_point_cereal
					}
					else = { 
						set_variable = { 
							name = trade_buy_cereal
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_cereal
								add = prev.var:trade_buy_cereal
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_salted = 0
							NOT = { 
								var:trade_sum_buy_salted = 0
							}
						}
						var:trade_sell_salted = { 
							compare_value < prev.var:trade_sum_buy_salted
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_salted = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salted
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_salted
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salted > 0
						var:trade_point_salted > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_salted
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_salted > 0
							var:trade_point_salted > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_salted > 0
							var:trade_point_salted > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_salted
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_salted
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_salted
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_salted
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_salted
							value = 0
						}
						remove_variable = trade_point_salted
					}
					else = { 
						set_variable = { 
							name = trade_buy_salted
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_salted
								add = prev.var:trade_buy_salted
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_salt = 0
							NOT = { 
								var:trade_sum_buy_salt = 0
							}
						}
						var:trade_sell_salt = { 
							compare_value < prev.var:trade_sum_buy_salt
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_salt = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salt
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_salt
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salt > 0
						var:trade_point_salt > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_salt
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_salt > 0
							var:trade_point_salt > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_salt > 0
							var:trade_point_salt > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_salt
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_salt
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_salt
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_salt
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_salt
							value = 0
						}
						remove_variable = trade_point_salt
					}
					else = { 
						set_variable = { 
							name = trade_buy_salt
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_salt
								add = prev.var:trade_buy_salt
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_mud = 0
							NOT = { 
								var:trade_sum_buy_mud = 0
							}
						}
						var:trade_sell_mud = { 
							compare_value < prev.var:trade_sum_buy_mud
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_mud = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_mud
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_mud
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_mud > 0
						var:trade_point_mud > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_mud
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_mud > 0
							var:trade_point_mud > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_mud > 0
							var:trade_point_mud > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_mud
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_mud
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_mud
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_mud
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_mud
							value = 0
						}
						remove_variable = trade_point_mud
					}
					else = { 
						set_variable = { 
							name = trade_buy_mud
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_mud
								add = prev.var:trade_buy_mud
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_fuel = 0
							NOT = { 
								var:trade_sum_buy_fuel = 0
							}
						}
						var:trade_sell_fuel = { 
							compare_value < prev.var:trade_sum_buy_fuel
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_fuel = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fuel
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_fuel
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fuel > 0
						var:trade_point_fuel > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_fuel
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_fuel > 0
							var:trade_point_fuel > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_fuel > 0
							var:trade_point_fuel > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_fuel
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_fuel
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_fuel
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_fuel
							value = 0
						}
						remove_variable = trade_point_fuel
					}
					else = { 
						set_variable = { 
							name = trade_buy_fuel
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_fuel
								add = prev.var:trade_buy_fuel
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_fiber = 0
							NOT = { 
								var:trade_sum_buy_fiber = 0
							}
						}
						var:trade_sell_fiber = { 
							compare_value < prev.var:trade_sum_buy_fiber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_fiber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fiber
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_fiber
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fiber > 0
						var:trade_point_fiber > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_fiber
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_fiber > 0
							var:trade_point_fiber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_fiber > 0
							var:trade_point_fiber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_fiber
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_fiber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_fiber
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_fiber
							value = 0
						}
						remove_variable = trade_point_fiber
					}
					else = { 
						set_variable = { 
							name = trade_buy_fiber
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_fiber
								add = prev.var:trade_buy_fiber
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_timber = 0
							NOT = { 
								var:trade_sum_buy_timber = 0
							}
						}
						var:trade_sell_timber = { 
							compare_value < prev.var:trade_sum_buy_timber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_timber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_timber
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_timber
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_timber > 0
						var:trade_point_timber > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_timber
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_timber > 0
							var:trade_point_timber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_timber > 0
							var:trade_point_timber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_timber
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_timber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_timber
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_timber
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_timber
							value = 0
						}
						remove_variable = trade_point_timber
					}
					else = { 
						set_variable = { 
							name = trade_buy_timber
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_timber
								add = prev.var:trade_buy_timber
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_metal = 0
							NOT = { 
								var:trade_sum_buy_metal = 0
							}
						}
						var:trade_sell_metal = { 
							compare_value < prev.var:trade_sum_buy_metal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_metal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_metal
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_metal
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_metal > 0
						var:trade_point_metal > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_metal
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_metal > 0
							var:trade_point_metal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_metal > 0
							var:trade_point_metal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_metal
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_metal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_metal
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_metal
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_metal
							value = 0
						}
						remove_variable = trade_point_metal
					}
					else = { 
						set_variable = { 
							name = trade_buy_metal
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_metal
								add = prev.var:trade_buy_metal
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_exotics_w = 0
							NOT = { 
								var:trade_sum_buy_exotics_w = 0
							}
						}
						var:trade_sell_exotics_w = { 
							compare_value < prev.var:trade_sum_buy_exotics_w
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_w = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_w
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_w
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_w > 0
						var:trade_point_exotics_w > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_exotics_w
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_w > 0
							var:trade_point_exotics_w > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_w > 0
							var:trade_point_exotics_w > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_exotics_w
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_w
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_exotics_w
							value = 0
						}
						remove_variable = trade_point_exotics_w
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_w
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_exotics_w
								add = prev.var:trade_buy_exotics_w
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_exotics_e = 0
							NOT = { 
								var:trade_sum_buy_exotics_e = 0
							}
						}
						var:trade_sell_exotics_e = { 
							compare_value < prev.var:trade_sum_buy_exotics_e
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_e = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_e
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_e
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_e > 0
						var:trade_point_exotics_e > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_exotics_e
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_e > 0
							var:trade_point_exotics_e > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_e > 0
							var:trade_point_exotics_e > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_exotics_e
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_e
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_exotics_e
							value = 0
						}
						remove_variable = trade_point_exotics_e
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_e
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_exotics_e
								add = prev.var:trade_buy_exotics_e
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_exotics_g = 0
							NOT = { 
								var:trade_sum_buy_exotics_g = 0
							}
						}
						var:trade_sell_exotics_g = { 
							compare_value < prev.var:trade_sum_buy_exotics_g
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_g = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_g
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_g
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_g > 0
						var:trade_point_exotics_g > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_exotics_g
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_g > 0
							var:trade_point_exotics_g > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_exotics_g > 0
							var:trade_point_exotics_g > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_exotics_g
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_exotics_g
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_exotics_g
							value = 0
						}
						remove_variable = trade_point_exotics_g
					}
					else = { 
						set_variable = { 
							name = trade_buy_exotics_g
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_exotics_g
								add = prev.var:trade_buy_exotics_g
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_textile = 0
							NOT = { 
								var:trade_sum_buy_textile = 0
							}
						}
						var:trade_sell_textile = { 
							compare_value < prev.var:trade_sum_buy_textile
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_textile = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_textile
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_textile
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_textile > 0
						var:trade_point_textile > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_textile
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_textile > 0
							var:trade_point_textile > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_textile > 0
							var:trade_point_textile > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_textile
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_textile
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_textile
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_textile
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_textile
							value = 0
						}
						remove_variable = trade_point_textile
					}
					else = { 
						set_variable = { 
							name = trade_buy_textile
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_textile
								add = prev.var:trade_buy_textile
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_pottery = 0
							NOT = { 
								var:trade_sum_buy_pottery = 0
							}
						}
						var:trade_sell_pottery = { 
							compare_value < prev.var:trade_sum_buy_pottery
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_pottery = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_pottery
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_pottery
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_pottery > 0
						var:trade_point_pottery > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_pottery
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_pottery > 0
							var:trade_point_pottery > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_pottery > 0
							var:trade_point_pottery > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_pottery
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_pottery
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_pottery
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_pottery
							value = 0
						}
						remove_variable = trade_point_pottery
					}
					else = { 
						set_variable = { 
							name = trade_buy_pottery
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_pottery
								add = prev.var:trade_buy_pottery
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_sell_tools = 0
							NOT = { 
								var:trade_sum_buy_tools = 0
							}
						}
						var:trade_sell_tools = { 
							compare_value < prev.var:trade_sum_buy_tools
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_tools = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_tools
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_tools
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_tools > 0
						var:trade_point_tools > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_sell_tools
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_tools > 0
							var:trade_point_tools > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_buy_tools > 0
							var:trade_point_tools > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_buy_tools
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_buy_tools
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_buy_tools
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_buy_tools
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_buy_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_buy_tools
							value = 0
						}
						remove_variable = trade_point_tools
					}
					else = { 
						set_variable = { 
							name = trade_buy_tools
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_buy_tools
								add = prev.var:trade_buy_tools
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_food = 0
							NOT = { 
								var:trade_sum_sell_food = 0
							}
						}
						var:trade_buy_food = { 
							compare_value < prev.var:trade_sum_sell_food
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_food = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_food
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_food
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_food > 0
						var:trade_point_food > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_food
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_food > 0
							var:trade_point_food > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_food > 0
							var:trade_point_food > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_food
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_food
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_food
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_food
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_food > 0
						var:trade_point_food > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_food
							value = 0
						}
						remove_variable = trade_point_food
					}
					else = { 
						set_variable = { 
							name = trade_sell_food
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_food
								add = prev.var:trade_sell_food
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_cereal = 0
							NOT = { 
								var:trade_sum_sell_cereal = 0
							}
						}
						var:trade_buy_cereal = { 
							compare_value < prev.var:trade_sum_sell_cereal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_cereal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_cereal
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_cereal
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_cereal > 0
						var:trade_point_cereal > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_cereal
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_cereal > 0
							var:trade_point_cereal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_cereal > 0
							var:trade_point_cereal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_cereal
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_cereal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_cereal
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_cereal
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_cereal > 0
						var:trade_point_cereal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_cereal
							value = 0
						}
						remove_variable = trade_point_cereal
					}
					else = { 
						set_variable = { 
							name = trade_sell_cereal
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_cereal
								add = prev.var:trade_sell_cereal
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_salted = 0
							NOT = { 
								var:trade_sum_sell_salted = 0
							}
						}
						var:trade_buy_salted = { 
							compare_value < prev.var:trade_sum_sell_salted
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_salted = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salted
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_salted
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salted > 0
						var:trade_point_salted > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_salted
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_salted > 0
							var:trade_point_salted > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_salted > 0
							var:trade_point_salted > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_salted
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_salted
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_salted
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_salted
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salted > 0
						var:trade_point_salted > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_salted
							value = 0
						}
						remove_variable = trade_point_salted
					}
					else = { 
						set_variable = { 
							name = trade_sell_salted
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_salted
								add = prev.var:trade_sell_salted
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_salt = 0
							NOT = { 
								var:trade_sum_sell_salt = 0
							}
						}
						var:trade_buy_salt = { 
							compare_value < prev.var:trade_sum_sell_salt
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_salt = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salt
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_salt
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salt > 0
						var:trade_point_salt > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_salt
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_salt > 0
							var:trade_point_salt > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_salt > 0
							var:trade_point_salt > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_salt
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_salt
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_salt
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_salt
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_salt > 0
						var:trade_point_salt > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_salt
							value = 0
						}
						remove_variable = trade_point_salt
					}
					else = { 
						set_variable = { 
							name = trade_sell_salt
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_salt
								add = prev.var:trade_sell_salt
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_mud = 0
							NOT = { 
								var:trade_sum_sell_mud = 0
							}
						}
						var:trade_buy_mud = { 
							compare_value < prev.var:trade_sum_sell_mud
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_mud = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_mud
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_mud
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_mud > 0
						var:trade_point_mud > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_mud
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_mud > 0
							var:trade_point_mud > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_mud > 0
							var:trade_point_mud > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_mud
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_mud
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_mud
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_mud
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_mud > 0
						var:trade_point_mud > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_mud
							value = 0
						}
						remove_variable = trade_point_mud
					}
					else = { 
						set_variable = { 
							name = trade_sell_mud
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_mud
								add = prev.var:trade_sell_mud
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_fuel = 0
							NOT = { 
								var:trade_sum_sell_fuel = 0
							}
						}
						var:trade_buy_fuel = { 
							compare_value < prev.var:trade_sum_sell_fuel
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_fuel = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fuel
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_fuel
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fuel > 0
						var:trade_point_fuel > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_fuel
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_fuel > 0
							var:trade_point_fuel > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_fuel > 0
							var:trade_point_fuel > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_fuel
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_fuel
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_fuel
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_fuel
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fuel > 0
						var:trade_point_fuel > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_fuel
							value = 0
						}
						remove_variable = trade_point_fuel
					}
					else = { 
						set_variable = { 
							name = trade_sell_fuel
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_fuel
								add = prev.var:trade_sell_fuel
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_fiber = 0
							NOT = { 
								var:trade_sum_sell_fiber = 0
							}
						}
						var:trade_buy_fiber = { 
							compare_value < prev.var:trade_sum_sell_fiber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_fiber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fiber
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_fiber
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fiber > 0
						var:trade_point_fiber > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_fiber
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_fiber > 0
							var:trade_point_fiber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_fiber > 0
							var:trade_point_fiber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_fiber
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_fiber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_fiber
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_fiber
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_fiber > 0
						var:trade_point_fiber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_fiber
							value = 0
						}
						remove_variable = trade_point_fiber
					}
					else = { 
						set_variable = { 
							name = trade_sell_fiber
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_fiber
								add = prev.var:trade_sell_fiber
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_timber = 0
							NOT = { 
								var:trade_sum_sell_timber = 0
							}
						}
						var:trade_buy_timber = { 
							compare_value < prev.var:trade_sum_sell_timber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_timber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_timber
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_timber
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_timber > 0
						var:trade_point_timber > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_timber
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_timber > 0
							var:trade_point_timber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_timber > 0
							var:trade_point_timber > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_timber
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_timber
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_timber
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_timber
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_timber > 0
						var:trade_point_timber > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_timber
							value = 0
						}
						remove_variable = trade_point_timber
					}
					else = { 
						set_variable = { 
							name = trade_sell_timber
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_timber
								add = prev.var:trade_sell_timber
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_metal = 0
							NOT = { 
								var:trade_sum_sell_metal = 0
							}
						}
						var:trade_buy_metal = { 
							compare_value < prev.var:trade_sum_sell_metal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_metal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_metal
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_metal
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_metal > 0
						var:trade_point_metal > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_metal
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_metal > 0
							var:trade_point_metal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_metal > 0
							var:trade_point_metal > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_metal
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_metal
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_metal
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_metal
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_metal > 0
						var:trade_point_metal > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_metal
							value = 0
						}
						remove_variable = trade_point_metal
					}
					else = { 
						set_variable = { 
							name = trade_sell_metal
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_metal
								add = prev.var:trade_sell_metal
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_exotics_w = 0
							NOT = { 
								var:trade_sum_sell_exotics_w = 0
							}
						}
						var:trade_buy_exotics_w = { 
							compare_value < prev.var:trade_sum_sell_exotics_w
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_w = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_w
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_w
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_w > 0
						var:trade_point_exotics_w > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_exotics_w
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_w > 0
							var:trade_point_exotics_w > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_w > 0
							var:trade_point_exotics_w > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_exotics_w
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_exotics_w
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_w
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_exotics_w
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_w > 0
						var:trade_point_exotics_w > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_exotics_w
							value = 0
						}
						remove_variable = trade_point_exotics_w
					}
					else = { 
						set_variable = { 
							name = trade_sell_exotics_w
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_exotics_w
								add = prev.var:trade_sell_exotics_w
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_exotics_e = 0
							NOT = { 
								var:trade_sum_sell_exotics_e = 0
							}
						}
						var:trade_buy_exotics_e = { 
							compare_value < prev.var:trade_sum_sell_exotics_e
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_e = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_e
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_e
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_e > 0
						var:trade_point_exotics_e > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_exotics_e
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_e > 0
							var:trade_point_exotics_e > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_e > 0
							var:trade_point_exotics_e > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_exotics_e
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_exotics_e
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_e
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_exotics_e
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_e > 0
						var:trade_point_exotics_e > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_exotics_e
							value = 0
						}
						remove_variable = trade_point_exotics_e
					}
					else = { 
						set_variable = { 
							name = trade_sell_exotics_e
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_exotics_e
								add = prev.var:trade_sell_exotics_e
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_exotics_g = 0
							NOT = { 
								var:trade_sum_sell_exotics_g = 0
							}
						}
						var:trade_buy_exotics_g = { 
							compare_value < prev.var:trade_sum_sell_exotics_g
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_exotics_g = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_g
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_exotics_g
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_g > 0
						var:trade_point_exotics_g > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_exotics_g
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_g > 0
							var:trade_point_exotics_g > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_exotics_g > 0
							var:trade_point_exotics_g > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_exotics_g
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_exotics_g
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_exotics_g
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_exotics_g
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_exotics_g > 0
						var:trade_point_exotics_g > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_exotics_g
							value = 0
						}
						remove_variable = trade_point_exotics_g
					}
					else = { 
						set_variable = { 
							name = trade_sell_exotics_g
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_exotics_g
								add = prev.var:trade_sell_exotics_g
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_textile = 0
							NOT = { 
								var:trade_sum_sell_textile = 0
							}
						}
						var:trade_buy_textile = { 
							compare_value < prev.var:trade_sum_sell_textile
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_textile = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_textile
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_textile
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_textile > 0
						var:trade_point_textile > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_textile
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_textile > 0
							var:trade_point_textile > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_textile > 0
							var:trade_point_textile > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_textile
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_textile
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_textile
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_textile
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_textile > 0
						var:trade_point_textile > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_textile
							value = 0
						}
						remove_variable = trade_point_textile
					}
					else = { 
						set_variable = { 
							name = trade_sell_textile
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_textile
								add = prev.var:trade_sell_textile
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_pottery = 0
							NOT = { 
								var:trade_sum_sell_pottery = 0
							}
						}
						var:trade_buy_pottery = { 
							compare_value < prev.var:trade_sum_sell_pottery
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_pottery = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_pottery
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_pottery
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_pottery > 0
						var:trade_point_pottery > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_pottery
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_pottery > 0
							var:trade_point_pottery > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_pottery > 0
							var:trade_point_pottery > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_pottery
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_pottery
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_pottery
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_pottery
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_pottery > 0
						var:trade_point_pottery > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_pottery
							value = 0
						}
						remove_variable = trade_point_pottery
					}
					else = { 
						set_variable = { 
							name = trade_sell_pottery
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_pottery
								add = prev.var:trade_sell_pottery
							}
						}
					}
				}
			}
			if = { 
				limit = { 
					OR = { 
						AND = { 
							var:trade_buy_tools = 0
							NOT = { 
								var:trade_sum_sell_tools = 0
							}
						}
						var:trade_buy_tools = { 
							compare_value < prev.var:trade_sum_sell_tools
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							var:trade_point_tools = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_tools
							}
						}
					}
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = var:trade_point_tools
					}
					change_variable = { 
						name = trade_do_trade_t
						multiply = 100
					}
					change_variable = { 
						name = trade_do_trade_t
						divide = prev.var:trade_do_trade_t
					}
					set_variable = { 
						name = trade_do_trade_tt
						value = 0
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_tools > 0
						var:trade_point_tools > 0
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_buy_tools
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_tools > 0
							var:trade_point_tools > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_ttt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_ttt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							add = var:trade_do_trade_ttt
						}
					}
					every_in_global_list = { 
						limit = { 
							var:trade_sell_tools > 0
							var:trade_point_tools > 0
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_do_trade_tt
								var:trade_do_trade_tt = { 
									compare_value >= prev.var:trade_sell_tools
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt
								subtract = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_sell_tools
							}
							set_variable = { 
								name = trade_do_trade_tt
								value = var:trade_sell_tools
							}
							prev = { 
								change_variable = { 
									name = trade_do_trade_t
									subtract = prev.var:trade_do_trade_t
								}
							}
							set_variable = { 
								name = trade_do_trade_t
								value = 0
							}
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 0.01
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				set_variable = { 
					name = trade_sum_sell_tools
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						var:trade_sell_tools > 0
						var:trade_point_tools > 0
					}
					variable = trade_do_trade_list
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_tt
								}
								var:trade_do_trade_tt = 0
							}
						}
						set_variable = { 
							name = trade_sell_tools
							value = 0
						}
						remove_variable = trade_point_tools
					}
					else = { 
						set_variable = { 
							name = trade_sell_tools
							value = var:trade_do_trade_tt
						}
						prev = { 
							change_variable = { 
								name = trade_sum_sell_tools
								add = prev.var:trade_sell_tools
							}
						}
					}
				}
			}
			set_variable = { 
				name = trade_cost
				value = 0
			}
			every_in_global_list = { 
				variable = trade_do_trade_list
				set_variable = { 
					name = trade_cost_food
					value = var:trade_buy_food
				}
				change_variable = { 
					name = trade_cost_food
					add = var:trade_sell_food
				}
				change_variable = { 
					name = trade_cost_food
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_food
					multiply = trade_power_cost_food
				}
				set_variable = { 
					name = trade_cost_cereal
					value = var:trade_buy_cereal
				}
				change_variable = { 
					name = trade_cost_cereal
					add = var:trade_sell_cereal
				}
				change_variable = { 
					name = trade_cost_cereal
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_cereal
					multiply = trade_power_cost_cereal
				}
				set_variable = { 
					name = trade_cost_salted
					value = var:trade_buy_salted
				}
				change_variable = { 
					name = trade_cost_salted
					add = var:trade_sell_salted
				}
				change_variable = { 
					name = trade_cost_salted
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_salted
					multiply = trade_power_cost_salted
				}
				set_variable = { 
					name = trade_cost_salt
					value = var:trade_buy_salt
				}
				change_variable = { 
					name = trade_cost_salt
					add = var:trade_sell_salt
				}
				change_variable = { 
					name = trade_cost_salt
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_salt
					multiply = trade_power_cost_salt
				}
				set_variable = { 
					name = trade_cost_mud
					value = var:trade_buy_mud
				}
				change_variable = { 
					name = trade_cost_mud
					add = var:trade_sell_mud
				}
				change_variable = { 
					name = trade_cost_mud
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_mud
					multiply = trade_power_cost_mud
				}
				set_variable = { 
					name = trade_cost_fuel
					value = var:trade_buy_fuel
				}
				change_variable = { 
					name = trade_cost_fuel
					add = var:trade_sell_fuel
				}
				change_variable = { 
					name = trade_cost_fuel
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_fuel
					multiply = trade_power_cost_fuel
				}
				set_variable = { 
					name = trade_cost_fiber
					value = var:trade_buy_fiber
				}
				change_variable = { 
					name = trade_cost_fiber
					add = var:trade_sell_fiber
				}
				change_variable = { 
					name = trade_cost_fiber
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_fiber
					multiply = trade_power_cost_fiber
				}
				set_variable = { 
					name = trade_cost_timber
					value = var:trade_buy_timber
				}
				change_variable = { 
					name = trade_cost_timber
					add = var:trade_sell_timber
				}
				change_variable = { 
					name = trade_cost_timber
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_timber
					multiply = trade_power_cost_timber
				}
				set_variable = { 
					name = trade_cost_metal
					value = var:trade_buy_metal
				}
				change_variable = { 
					name = trade_cost_metal
					add = var:trade_sell_metal
				}
				change_variable = { 
					name = trade_cost_metal
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_metal
					multiply = trade_power_cost_metal
				}
				set_variable = { 
					name = trade_cost_exotics_w
					value = var:trade_buy_exotics_w
				}
				change_variable = { 
					name = trade_cost_exotics_w
					add = var:trade_sell_exotics_w
				}
				change_variable = { 
					name = trade_cost_exotics_w
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_exotics_w
					multiply = trade_power_cost_exotics_w
				}
				set_variable = { 
					name = trade_cost_exotics_e
					value = var:trade_buy_exotics_e
				}
				change_variable = { 
					name = trade_cost_exotics_e
					add = var:trade_sell_exotics_e
				}
				change_variable = { 
					name = trade_cost_exotics_e
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_exotics_e
					multiply = trade_power_cost_exotics_e
				}
				set_variable = { 
					name = trade_cost_exotics_g
					value = var:trade_buy_exotics_g
				}
				change_variable = { 
					name = trade_cost_exotics_g
					add = var:trade_sell_exotics_g
				}
				change_variable = { 
					name = trade_cost_exotics_g
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_exotics_g
					multiply = trade_power_cost_exotics_g
				}
				set_variable = { 
					name = trade_cost_textile
					value = var:trade_buy_textile
				}
				change_variable = { 
					name = trade_cost_textile
					add = var:trade_sell_textile
				}
				change_variable = { 
					name = trade_cost_textile
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_textile
					multiply = trade_power_cost_textile
				}
				set_variable = { 
					name = trade_cost_pottery
					value = var:trade_buy_pottery
				}
				change_variable = { 
					name = trade_cost_pottery
					add = var:trade_sell_pottery
				}
				change_variable = { 
					name = trade_cost_pottery
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_pottery
					multiply = trade_power_cost_pottery
				}
				set_variable = { 
					name = trade_cost_tools
					value = var:trade_buy_tools
				}
				change_variable = { 
					name = trade_cost_tools
					add = var:trade_sell_tools
				}
				change_variable = { 
					name = trade_cost_tools
					multiply = var:trade_cost
				}
				change_variable = { 
					name = trade_cost_tools
					multiply = trade_power_cost_tools
				}
				prev = { 
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_food
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_cereal
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_salted
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_salt
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_mud
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_fuel
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_fiber
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_timber
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_metal
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_exotics_w
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_exotics_e
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_exotics_g
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_textile
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_pottery
					}
					change_variable = { 
						name = trade_cost
						add = prev.var:trade_cost_tools
					}
				}
			}
			if = { 
				limit = { 
					has_variable = trade_cost
					var:trade_cost = { 
						compare_value > prev.var:trade_power
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0.001
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					if = { 
						limit = { 
							has_variable = trade_point_food
							var:trade_point_food > 0
							var:trade_point_food = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_food
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
							var:trade_point_cereal > 0
							var:trade_point_cereal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_cereal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
							var:trade_point_salted > 0
							var:trade_point_salted = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salted
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
							var:trade_point_salt > 0
							var:trade_point_salt = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_salt
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
							var:trade_point_mud > 0
							var:trade_point_mud = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_mud
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
							var:trade_point_fuel > 0
							var:trade_point_fuel = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fuel
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
							var:trade_point_fiber > 0
							var:trade_point_fiber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_fiber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
							var:trade_point_timber > 0
							var:trade_point_timber = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_timber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
							var:trade_point_metal > 0
							var:trade_point_metal = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_metal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
							var:trade_point_exotics_w > 0
							var:trade_point_exotics_w = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_w
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
							var:trade_point_exotics_e > 0
							var:trade_point_exotics_e = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_e
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
							var:trade_point_exotics_g > 0
							var:trade_point_exotics_g = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_exotics_g
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
							var:trade_point_textile > 0
							var:trade_point_textile = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_textile
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
							var:trade_point_pottery > 0
							var:trade_point_pottery = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_pottery
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
							var:trade_point_tools > 0
							var:trade_point_tools = { 
								compare_value > global_var:trade_do_trade_select.var:trade_do_trade_t
							}
						}
						prev = { 
							set_variable = { 
								name = trade_do_trade_t
								value = prev.var:trade_point_tools
							}
						}
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					set_variable = { 
						name = trade_do_trade_t
						value = 0
					}
					if = { 
						limit = { 
							has_variable = trade_point_food
							var:trade_point_food > 0
						}
						set_variable = { 
							name = trade_do_trade_t_food
							value = var:trade_point_food
						}
						change_variable = { 
							name = trade_do_trade_t_food
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_food
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_food
						}
						set_variable = { 
							name = trade_do_trade_tt_food
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
							var:trade_point_cereal > 0
						}
						set_variable = { 
							name = trade_do_trade_t_cereal
							value = var:trade_point_cereal
						}
						change_variable = { 
							name = trade_do_trade_t_cereal
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_cereal
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_cereal
						}
						set_variable = { 
							name = trade_do_trade_tt_cereal
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
							var:trade_point_salted > 0
						}
						set_variable = { 
							name = trade_do_trade_t_salted
							value = var:trade_point_salted
						}
						change_variable = { 
							name = trade_do_trade_t_salted
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_salted
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_salted
						}
						set_variable = { 
							name = trade_do_trade_tt_salted
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
							var:trade_point_salt > 0
						}
						set_variable = { 
							name = trade_do_trade_t_salt
							value = var:trade_point_salt
						}
						change_variable = { 
							name = trade_do_trade_t_salt
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_salt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_salt
						}
						set_variable = { 
							name = trade_do_trade_tt_salt
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
							var:trade_point_mud > 0
						}
						set_variable = { 
							name = trade_do_trade_t_mud
							value = var:trade_point_mud
						}
						change_variable = { 
							name = trade_do_trade_t_mud
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_mud
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_mud
						}
						set_variable = { 
							name = trade_do_trade_tt_mud
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
							var:trade_point_fuel > 0
						}
						set_variable = { 
							name = trade_do_trade_t_fuel
							value = var:trade_point_fuel
						}
						change_variable = { 
							name = trade_do_trade_t_fuel
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_fuel
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_fuel
						}
						set_variable = { 
							name = trade_do_trade_tt_fuel
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
							var:trade_point_fiber > 0
						}
						set_variable = { 
							name = trade_do_trade_t_fiber
							value = var:trade_point_fiber
						}
						change_variable = { 
							name = trade_do_trade_t_fiber
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_fiber
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_fiber
						}
						set_variable = { 
							name = trade_do_trade_tt_fiber
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
							var:trade_point_timber > 0
						}
						set_variable = { 
							name = trade_do_trade_t_timber
							value = var:trade_point_timber
						}
						change_variable = { 
							name = trade_do_trade_t_timber
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_timber
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_timber
						}
						set_variable = { 
							name = trade_do_trade_tt_timber
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
							var:trade_point_metal > 0
						}
						set_variable = { 
							name = trade_do_trade_t_metal
							value = var:trade_point_metal
						}
						change_variable = { 
							name = trade_do_trade_t_metal
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_metal
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_metal
						}
						set_variable = { 
							name = trade_do_trade_tt_metal
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
							var:trade_point_exotics_w > 0
						}
						set_variable = { 
							name = trade_do_trade_t_exotics_w
							value = var:trade_point_exotics_w
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_w
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_w
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_exotics_w
						}
						set_variable = { 
							name = trade_do_trade_tt_exotics_w
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
							var:trade_point_exotics_e > 0
						}
						set_variable = { 
							name = trade_do_trade_t_exotics_e
							value = var:trade_point_exotics_e
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_e
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_e
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_exotics_e
						}
						set_variable = { 
							name = trade_do_trade_tt_exotics_e
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
							var:trade_point_exotics_g > 0
						}
						set_variable = { 
							name = trade_do_trade_t_exotics_g
							value = var:trade_point_exotics_g
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_g
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_exotics_g
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_exotics_g
						}
						set_variable = { 
							name = trade_do_trade_tt_exotics_g
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
							var:trade_point_textile > 0
						}
						set_variable = { 
							name = trade_do_trade_t_textile
							value = var:trade_point_textile
						}
						change_variable = { 
							name = trade_do_trade_t_textile
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_textile
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_textile
						}
						set_variable = { 
							name = trade_do_trade_tt_textile
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
							var:trade_point_pottery > 0
						}
						set_variable = { 
							name = trade_do_trade_t_pottery
							value = var:trade_point_pottery
						}
						change_variable = { 
							name = trade_do_trade_t_pottery
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_pottery
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_pottery
						}
						set_variable = { 
							name = trade_do_trade_tt_pottery
							value = 0
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
							var:trade_point_tools > 0
						}
						set_variable = { 
							name = trade_do_trade_t_tools
							value = var:trade_point_tools
						}
						change_variable = { 
							name = trade_do_trade_t_tools
							multiply = 10
						}
						change_variable = { 
							name = trade_do_trade_t_tools
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_t
							add = var:trade_do_trade_t_tools
						}
						set_variable = { 
							name = trade_do_trade_tt_tools
							value = 0
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = 0
				}
				every_in_global_list = { 
					limit = { 
						has_variable = trade_do_trade_t
						var:trade_do_trade_t > 0
					}
					variable = trade_do_trade_list
					prev = { 
						change_variable = { 
							name = trade_do_trade_t
							add = prev.var:trade_do_trade_t
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_tt
					value = var:trade_power
				}
				while = { 
					limit = { 
						has_variable = trade_do_trade_t
						has_variable = trade_do_trade_tt
						var:trade_do_trade_t > 0
						var:trade_do_trade_tt > 0
					}
					set_variable = { 
						name = trade_do_trade_ttt
						value = 0
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_do_trade_t
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						set_variable = { 
							name = trade_do_trade_tt
							value = var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							divide = prev.var:trade_do_trade_t
						}
						change_variable = { 
							name = trade_do_trade_tt
							multiply = prev.var:trade_do_trade_tt
						}
						change_variable = { 
							name = trade_do_trade_tt
							divide = 100
						}
						change_variable = { 
							name = trade_do_trade_tt
							divide = var:trade_cost
						}
					}
					every_in_global_list = { 
						limit = { 
							has_variable = trade_do_trade_tt
							var:trade_do_trade_tt > 0.01
							has_variable = trade_do_trade_t
							var:trade_do_trade_t > 0
						}
						variable = trade_do_trade_list
						if = { 
							limit = { 
								has_variable = trade_point_food
								var:trade_point_food > 0
								has_variable = trade_do_trade_t_food
								var:trade_do_trade_t_food > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_food
								value = var:trade_do_trade_t_food
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								divide = trade_power_cost_food
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_food
								add = var:trade_do_trade_ttt_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_cereal
								var:trade_point_cereal > 0
								has_variable = trade_do_trade_t_cereal
								var:trade_do_trade_t_cereal > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_cereal
								value = var:trade_do_trade_t_cereal
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								divide = trade_power_cost_cereal
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_cereal
								add = var:trade_do_trade_ttt_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salted
								var:trade_point_salted > 0
								has_variable = trade_do_trade_t_salted
								var:trade_do_trade_t_salted > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_salted
								value = var:trade_do_trade_t_salted
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								divide = trade_power_cost_salted
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_salted
								add = var:trade_do_trade_ttt_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salt
								var:trade_point_salt > 0
								has_variable = trade_do_trade_t_salt
								var:trade_do_trade_t_salt > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_salt
								value = var:trade_do_trade_t_salt
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								divide = trade_power_cost_salt
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_salt
								add = var:trade_do_trade_ttt_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_mud
								var:trade_point_mud > 0
								has_variable = trade_do_trade_t_mud
								var:trade_do_trade_t_mud > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_mud
								value = var:trade_do_trade_t_mud
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								divide = trade_power_cost_mud
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_mud
								add = var:trade_do_trade_ttt_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fuel
								var:trade_point_fuel > 0
								has_variable = trade_do_trade_t_fuel
								var:trade_do_trade_t_fuel > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_fuel
								value = var:trade_do_trade_t_fuel
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								divide = trade_power_cost_fuel
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_fuel
								add = var:trade_do_trade_ttt_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fiber
								var:trade_point_fiber > 0
								has_variable = trade_do_trade_t_fiber
								var:trade_do_trade_t_fiber > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_fiber
								value = var:trade_do_trade_t_fiber
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								divide = trade_power_cost_fiber
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_fiber
								add = var:trade_do_trade_ttt_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_timber
								var:trade_point_timber > 0
								has_variable = trade_do_trade_t_timber
								var:trade_do_trade_t_timber > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_timber
								value = var:trade_do_trade_t_timber
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								divide = trade_power_cost_timber
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_timber
								add = var:trade_do_trade_ttt_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_metal
								var:trade_point_metal > 0
								has_variable = trade_do_trade_t_metal
								var:trade_do_trade_t_metal > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_metal
								value = var:trade_do_trade_t_metal
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								divide = trade_power_cost_metal
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_metal
								add = var:trade_do_trade_ttt_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_w
								var:trade_point_exotics_w > 0
								has_variable = trade_do_trade_t_exotics_w
								var:trade_do_trade_t_exotics_w > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_w
								value = var:trade_do_trade_t_exotics_w
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								divide = trade_power_cost_exotics_w
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_exotics_w
								add = var:trade_do_trade_ttt_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_e
								var:trade_point_exotics_e > 0
								has_variable = trade_do_trade_t_exotics_e
								var:trade_do_trade_t_exotics_e > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_e
								value = var:trade_do_trade_t_exotics_e
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								divide = trade_power_cost_exotics_e
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_exotics_e
								add = var:trade_do_trade_ttt_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_g
								var:trade_point_exotics_g > 0
								has_variable = trade_do_trade_t_exotics_g
								var:trade_do_trade_t_exotics_g > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_exotics_g
								value = var:trade_do_trade_t_exotics_g
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								divide = trade_power_cost_exotics_g
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_exotics_g
								add = var:trade_do_trade_ttt_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_textile
								var:trade_point_textile > 0
								has_variable = trade_do_trade_t_textile
								var:trade_do_trade_t_textile > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_textile
								value = var:trade_do_trade_t_textile
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								divide = trade_power_cost_textile
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_textile
								add = var:trade_do_trade_ttt_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_pottery
								var:trade_point_pottery > 0
								has_variable = trade_do_trade_t_pottery
								var:trade_do_trade_t_pottery > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_pottery
								value = var:trade_do_trade_t_pottery
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								divide = trade_power_cost_pottery
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_pottery
								add = var:trade_do_trade_ttt_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_tools
								var:trade_point_tools > 0
								has_variable = trade_do_trade_t_tools
								var:trade_do_trade_t_tools > 0
							}
							set_variable = { 
								name = trade_do_trade_ttt_tools
								value = var:trade_do_trade_t_tools
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								multiply = 100
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								divide = var:trade_do_trade_t
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								multiply = var:trade_do_trade_tt
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								divide = trade_power_cost_tools
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								divide = 100
							}
							change_variable = { 
								name = trade_do_trade_tt_tools
								add = var:trade_do_trade_ttt_tools
							}
						}
						set_variable = { 
							name = trade_do_trade_ttt
							value = 0
						}
						if = { 
							limit = { 
								has_variable = trade_point_food
								var:trade_point_food > 0
								has_variable = trade_do_trade_t_food
								var:trade_do_trade_t_food > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_food
									var:trade_do_trade_tt_food = { 
										compare_value >= prev.var:trade_buy_food
										compare_value >= prev.var:trade_sell_food
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									subtract = var:trade_do_trade_tt_food
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									add = var:trade_buy_food
								}
								change_variable = { 
									name = trade_do_trade_ttt_food
									add = var:trade_sell_food
								}
								set_variable = { 
									name = trade_do_trade_tt_food
									value = var:trade_buy_food
								}
								change_variable = { 
									name = trade_do_trade_tt_food
									add = var:trade_sell_food
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_food
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_food
								}
								set_variable = { 
									name = trade_point_food
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_food
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_food
								multiply = trade_power_cost_food
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_food
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_cereal
								var:trade_point_cereal > 0
								has_variable = trade_do_trade_t_cereal
								var:trade_do_trade_t_cereal > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_cereal
									var:trade_do_trade_tt_cereal = { 
										compare_value >= prev.var:trade_buy_cereal
										compare_value >= prev.var:trade_sell_cereal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									subtract = var:trade_do_trade_tt_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									add = var:trade_buy_cereal
								}
								change_variable = { 
									name = trade_do_trade_ttt_cereal
									add = var:trade_sell_cereal
								}
								set_variable = { 
									name = trade_do_trade_tt_cereal
									value = var:trade_buy_cereal
								}
								change_variable = { 
									name = trade_do_trade_tt_cereal
									add = var:trade_sell_cereal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_cereal
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_cereal
								}
								set_variable = { 
									name = trade_point_cereal
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_cereal
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_cereal
								multiply = trade_power_cost_cereal
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_cereal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salted
								var:trade_point_salted > 0
								has_variable = trade_do_trade_t_salted
								var:trade_do_trade_t_salted > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_salted
									var:trade_do_trade_tt_salted = { 
										compare_value >= prev.var:trade_buy_salted
										compare_value >= prev.var:trade_sell_salted
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									subtract = var:trade_do_trade_tt_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									add = var:trade_buy_salted
								}
								change_variable = { 
									name = trade_do_trade_ttt_salted
									add = var:trade_sell_salted
								}
								set_variable = { 
									name = trade_do_trade_tt_salted
									value = var:trade_buy_salted
								}
								change_variable = { 
									name = trade_do_trade_tt_salted
									add = var:trade_sell_salted
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_salted
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_salted
								}
								set_variable = { 
									name = trade_point_salted
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_salted
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_salted
								multiply = trade_power_cost_salted
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_salted
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_salt
								var:trade_point_salt > 0
								has_variable = trade_do_trade_t_salt
								var:trade_do_trade_t_salt > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_salt
									var:trade_do_trade_tt_salt = { 
										compare_value >= prev.var:trade_buy_salt
										compare_value >= prev.var:trade_sell_salt
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									subtract = var:trade_do_trade_tt_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									add = var:trade_buy_salt
								}
								change_variable = { 
									name = trade_do_trade_ttt_salt
									add = var:trade_sell_salt
								}
								set_variable = { 
									name = trade_do_trade_tt_salt
									value = var:trade_buy_salt
								}
								change_variable = { 
									name = trade_do_trade_tt_salt
									add = var:trade_sell_salt
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_salt
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_salt
								}
								set_variable = { 
									name = trade_point_salt
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_salt
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_salt
								multiply = trade_power_cost_salt
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_salt
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_mud
								var:trade_point_mud > 0
								has_variable = trade_do_trade_t_mud
								var:trade_do_trade_t_mud > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_mud
									var:trade_do_trade_tt_mud = { 
										compare_value >= prev.var:trade_buy_mud
										compare_value >= prev.var:trade_sell_mud
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									subtract = var:trade_do_trade_tt_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									add = var:trade_buy_mud
								}
								change_variable = { 
									name = trade_do_trade_ttt_mud
									add = var:trade_sell_mud
								}
								set_variable = { 
									name = trade_do_trade_tt_mud
									value = var:trade_buy_mud
								}
								change_variable = { 
									name = trade_do_trade_tt_mud
									add = var:trade_sell_mud
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_mud
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_mud
								}
								set_variable = { 
									name = trade_point_mud
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_mud
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_mud
								multiply = trade_power_cost_mud
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_mud
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fuel
								var:trade_point_fuel > 0
								has_variable = trade_do_trade_t_fuel
								var:trade_do_trade_t_fuel > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_fuel
									var:trade_do_trade_tt_fuel = { 
										compare_value >= prev.var:trade_buy_fuel
										compare_value >= prev.var:trade_sell_fuel
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									subtract = var:trade_do_trade_tt_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									add = var:trade_buy_fuel
								}
								change_variable = { 
									name = trade_do_trade_ttt_fuel
									add = var:trade_sell_fuel
								}
								set_variable = { 
									name = trade_do_trade_tt_fuel
									value = var:trade_buy_fuel
								}
								change_variable = { 
									name = trade_do_trade_tt_fuel
									add = var:trade_sell_fuel
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_fuel
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_fuel
								}
								set_variable = { 
									name = trade_point_fuel
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_fuel
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_fuel
								multiply = trade_power_cost_fuel
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_fuel
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_fiber
								var:trade_point_fiber > 0
								has_variable = trade_do_trade_t_fiber
								var:trade_do_trade_t_fiber > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_fiber
									var:trade_do_trade_tt_fiber = { 
										compare_value >= prev.var:trade_buy_fiber
										compare_value >= prev.var:trade_sell_fiber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									subtract = var:trade_do_trade_tt_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									add = var:trade_buy_fiber
								}
								change_variable = { 
									name = trade_do_trade_ttt_fiber
									add = var:trade_sell_fiber
								}
								set_variable = { 
									name = trade_do_trade_tt_fiber
									value = var:trade_buy_fiber
								}
								change_variable = { 
									name = trade_do_trade_tt_fiber
									add = var:trade_sell_fiber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_fiber
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_fiber
								}
								set_variable = { 
									name = trade_point_fiber
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_fiber
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_fiber
								multiply = trade_power_cost_fiber
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_fiber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_timber
								var:trade_point_timber > 0
								has_variable = trade_do_trade_t_timber
								var:trade_do_trade_t_timber > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_timber
									var:trade_do_trade_tt_timber = { 
										compare_value >= prev.var:trade_buy_timber
										compare_value >= prev.var:trade_sell_timber
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									subtract = var:trade_do_trade_tt_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									add = var:trade_buy_timber
								}
								change_variable = { 
									name = trade_do_trade_ttt_timber
									add = var:trade_sell_timber
								}
								set_variable = { 
									name = trade_do_trade_tt_timber
									value = var:trade_buy_timber
								}
								change_variable = { 
									name = trade_do_trade_tt_timber
									add = var:trade_sell_timber
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_timber
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_timber
								}
								set_variable = { 
									name = trade_point_timber
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_timber
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_timber
								multiply = trade_power_cost_timber
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_timber
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_metal
								var:trade_point_metal > 0
								has_variable = trade_do_trade_t_metal
								var:trade_do_trade_t_metal > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_metal
									var:trade_do_trade_tt_metal = { 
										compare_value >= prev.var:trade_buy_metal
										compare_value >= prev.var:trade_sell_metal
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									subtract = var:trade_do_trade_tt_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									add = var:trade_buy_metal
								}
								change_variable = { 
									name = trade_do_trade_ttt_metal
									add = var:trade_sell_metal
								}
								set_variable = { 
									name = trade_do_trade_tt_metal
									value = var:trade_buy_metal
								}
								change_variable = { 
									name = trade_do_trade_tt_metal
									add = var:trade_sell_metal
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_metal
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_metal
								}
								set_variable = { 
									name = trade_point_metal
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_metal
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_metal
								multiply = trade_power_cost_metal
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_metal
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_w
								var:trade_point_exotics_w > 0
								has_variable = trade_do_trade_t_exotics_w
								var:trade_do_trade_t_exotics_w > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_w
									var:trade_do_trade_tt_exotics_w = { 
										compare_value >= prev.var:trade_buy_exotics_w
										compare_value >= prev.var:trade_sell_exotics_w
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									subtract = var:trade_do_trade_tt_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									add = var:trade_buy_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_w
									add = var:trade_sell_exotics_w
								}
								set_variable = { 
									name = trade_do_trade_tt_exotics_w
									value = var:trade_buy_exotics_w
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_w
									add = var:trade_sell_exotics_w
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_exotics_w
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_exotics_w
								}
								set_variable = { 
									name = trade_point_exotics_w
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_exotics_w
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_w
								multiply = trade_power_cost_exotics_w
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_exotics_w
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_e
								var:trade_point_exotics_e > 0
								has_variable = trade_do_trade_t_exotics_e
								var:trade_do_trade_t_exotics_e > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_e
									var:trade_do_trade_tt_exotics_e = { 
										compare_value >= prev.var:trade_buy_exotics_e
										compare_value >= prev.var:trade_sell_exotics_e
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									subtract = var:trade_do_trade_tt_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									add = var:trade_buy_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_e
									add = var:trade_sell_exotics_e
								}
								set_variable = { 
									name = trade_do_trade_tt_exotics_e
									value = var:trade_buy_exotics_e
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_e
									add = var:trade_sell_exotics_e
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_exotics_e
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_exotics_e
								}
								set_variable = { 
									name = trade_point_exotics_e
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_exotics_e
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_e
								multiply = trade_power_cost_exotics_e
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_exotics_e
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_exotics_g
								var:trade_point_exotics_g > 0
								has_variable = trade_do_trade_t_exotics_g
								var:trade_do_trade_t_exotics_g > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_exotics_g
									var:trade_do_trade_tt_exotics_g = { 
										compare_value >= prev.var:trade_buy_exotics_g
										compare_value >= prev.var:trade_sell_exotics_g
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									subtract = var:trade_do_trade_tt_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									add = var:trade_buy_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_ttt_exotics_g
									add = var:trade_sell_exotics_g
								}
								set_variable = { 
									name = trade_do_trade_tt_exotics_g
									value = var:trade_buy_exotics_g
								}
								change_variable = { 
									name = trade_do_trade_tt_exotics_g
									add = var:trade_sell_exotics_g
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_exotics_g
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_exotics_g
								}
								set_variable = { 
									name = trade_point_exotics_g
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_exotics_g
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_exotics_g
								multiply = trade_power_cost_exotics_g
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_exotics_g
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_textile
								var:trade_point_textile > 0
								has_variable = trade_do_trade_t_textile
								var:trade_do_trade_t_textile > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_textile
									var:trade_do_trade_tt_textile = { 
										compare_value >= prev.var:trade_buy_textile
										compare_value >= prev.var:trade_sell_textile
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									subtract = var:trade_do_trade_tt_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									add = var:trade_buy_textile
								}
								change_variable = { 
									name = trade_do_trade_ttt_textile
									add = var:trade_sell_textile
								}
								set_variable = { 
									name = trade_do_trade_tt_textile
									value = var:trade_buy_textile
								}
								change_variable = { 
									name = trade_do_trade_tt_textile
									add = var:trade_sell_textile
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_textile
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_textile
								}
								set_variable = { 
									name = trade_point_textile
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_textile
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_textile
								multiply = trade_power_cost_textile
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_textile
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_pottery
								var:trade_point_pottery > 0
								has_variable = trade_do_trade_t_pottery
								var:trade_do_trade_t_pottery > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_pottery
									var:trade_do_trade_tt_pottery = { 
										compare_value >= prev.var:trade_buy_pottery
										compare_value >= prev.var:trade_sell_pottery
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									subtract = var:trade_do_trade_tt_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									add = var:trade_buy_pottery
								}
								change_variable = { 
									name = trade_do_trade_ttt_pottery
									add = var:trade_sell_pottery
								}
								set_variable = { 
									name = trade_do_trade_tt_pottery
									value = var:trade_buy_pottery
								}
								change_variable = { 
									name = trade_do_trade_tt_pottery
									add = var:trade_sell_pottery
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_pottery
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_pottery
								}
								set_variable = { 
									name = trade_point_pottery
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_pottery
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_pottery
								multiply = trade_power_cost_pottery
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_pottery
							}
						}
						if = { 
							limit = { 
								has_variable = trade_point_tools
								var:trade_point_tools > 0
								has_variable = trade_do_trade_t_tools
								var:trade_do_trade_t_tools > 0
							}
							if = { 
								limit = { 
									has_variable = trade_do_trade_tt_tools
									var:trade_do_trade_tt_tools = { 
										compare_value >= prev.var:trade_buy_tools
										compare_value >= prev.var:trade_sell_tools
									}
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									subtract = var:trade_do_trade_tt_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									add = var:trade_buy_tools
								}
								change_variable = { 
									name = trade_do_trade_ttt_tools
									add = var:trade_sell_tools
								}
								set_variable = { 
									name = trade_do_trade_tt_tools
									value = var:trade_buy_tools
								}
								change_variable = { 
									name = trade_do_trade_tt_tools
									add = var:trade_sell_tools
								}
								prev = { 
									change_variable = { 
										name = trade_do_trade_t
										subtract = prev.var:trade_do_trade_t_tools
									}
								}
								change_variable = { 
									name = trade_do_trade_t
									subtract = var:trade_do_trade_t_tools
								}
								set_variable = { 
									name = trade_point_tools
									value = 0
								}
								set_variable = { 
									name = trade_do_trade_t_tools
									value = 0
								}
							}
							change_variable = { 
								name = trade_do_trade_ttt_tools
								multiply = trade_power_cost_tools
							}
							change_variable = { 
								name = trade_do_trade_ttt
								add = var:trade_do_trade_ttt_tools
							}
						}
						change_variable = { 
							name = trade_do_trade_ttt
							multiply = var:trade_cost
						}
						prev = { 
							change_variable = { 
								name = trade_do_trade_ttt
								add = prev.var:trade_do_trade_ttt
							}
						}
					}
					if = { 
						limit = { 
							OR = { 
								NOT = { 
									has_variable = trade_do_trade_ttt
								}
								var:trade_do_trade_ttt < 1
							}
						}
						set_variable = { 
							name = trade_do_trade_tt
							value = 0
						}
					}
					else = { 
						change_variable = { 
							name = trade_do_trade_tt
							subtract = var:trade_do_trade_ttt
						}
					}
				}
				every_in_global_list = { 
					variable = trade_do_trade_list
					if = { 
						limit = { 
							has_variable = trade_point_food
							var:trade_point_food > 0
						}
						if = { 
							limit = { 
								var:trade_buy_food > 0
							}
							set_variable = { 
								name = trade_buy_food
								value = var:trade_do_trade_tt_food
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_food
								value = var:trade_do_trade_tt_food
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_cereal
							var:trade_point_cereal > 0
						}
						if = { 
							limit = { 
								var:trade_buy_cereal > 0
							}
							set_variable = { 
								name = trade_buy_cereal
								value = var:trade_do_trade_tt_cereal
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_cereal
								value = var:trade_do_trade_tt_cereal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salted
							var:trade_point_salted > 0
						}
						if = { 
							limit = { 
								var:trade_buy_salted > 0
							}
							set_variable = { 
								name = trade_buy_salted
								value = var:trade_do_trade_tt_salted
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_salted
								value = var:trade_do_trade_tt_salted
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_salt
							var:trade_point_salt > 0
						}
						if = { 
							limit = { 
								var:trade_buy_salt > 0
							}
							set_variable = { 
								name = trade_buy_salt
								value = var:trade_do_trade_tt_salt
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_salt
								value = var:trade_do_trade_tt_salt
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_mud
							var:trade_point_mud > 0
						}
						if = { 
							limit = { 
								var:trade_buy_mud > 0
							}
							set_variable = { 
								name = trade_buy_mud
								value = var:trade_do_trade_tt_mud
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_mud
								value = var:trade_do_trade_tt_mud
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fuel
							var:trade_point_fuel > 0
						}
						if = { 
							limit = { 
								var:trade_buy_fuel > 0
							}
							set_variable = { 
								name = trade_buy_fuel
								value = var:trade_do_trade_tt_fuel
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_fuel
								value = var:trade_do_trade_tt_fuel
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_fiber
							var:trade_point_fiber > 0
						}
						if = { 
							limit = { 
								var:trade_buy_fiber > 0
							}
							set_variable = { 
								name = trade_buy_fiber
								value = var:trade_do_trade_tt_fiber
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_fiber
								value = var:trade_do_trade_tt_fiber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_timber
							var:trade_point_timber > 0
						}
						if = { 
							limit = { 
								var:trade_buy_timber > 0
							}
							set_variable = { 
								name = trade_buy_timber
								value = var:trade_do_trade_tt_timber
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_timber
								value = var:trade_do_trade_tt_timber
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_metal
							var:trade_point_metal > 0
						}
						if = { 
							limit = { 
								var:trade_buy_metal > 0
							}
							set_variable = { 
								name = trade_buy_metal
								value = var:trade_do_trade_tt_metal
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_metal
								value = var:trade_do_trade_tt_metal
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_w
							var:trade_point_exotics_w > 0
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_w > 0
							}
							set_variable = { 
								name = trade_buy_exotics_w
								value = var:trade_do_trade_tt_exotics_w
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_w
								value = var:trade_do_trade_tt_exotics_w
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_e
							var:trade_point_exotics_e > 0
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_e > 0
							}
							set_variable = { 
								name = trade_buy_exotics_e
								value = var:trade_do_trade_tt_exotics_e
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_e
								value = var:trade_do_trade_tt_exotics_e
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_exotics_g
							var:trade_point_exotics_g > 0
						}
						if = { 
							limit = { 
								var:trade_buy_exotics_g > 0
							}
							set_variable = { 
								name = trade_buy_exotics_g
								value = var:trade_do_trade_tt_exotics_g
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_exotics_g
								value = var:trade_do_trade_tt_exotics_g
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_textile
							var:trade_point_textile > 0
						}
						if = { 
							limit = { 
								var:trade_buy_textile > 0
							}
							set_variable = { 
								name = trade_buy_textile
								value = var:trade_do_trade_tt_textile
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_textile
								value = var:trade_do_trade_tt_textile
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_pottery
							var:trade_point_pottery > 0
						}
						if = { 
							limit = { 
								var:trade_buy_pottery > 0
							}
							set_variable = { 
								name = trade_buy_pottery
								value = var:trade_do_trade_tt_pottery
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_pottery
								value = var:trade_do_trade_tt_pottery
							}
						}
					}
					if = { 
						limit = { 
							has_variable = trade_point_tools
							var:trade_point_tools > 0
						}
						if = { 
							limit = { 
								var:trade_buy_tools > 0
							}
							set_variable = { 
								name = trade_buy_tools
								value = var:trade_do_trade_tt_tools
							}
						}
						else = { 
							set_variable = { 
								name = trade_sell_tools
								value = var:trade_do_trade_tt_tools
							}
						}
					}
				}
			}
			set_variable = { 
				name = trade_sum_buy_food
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_food
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_cereal
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_cereal
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_salted
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_salted
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_salt
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_salt
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_mud
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_mud
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_fuel
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_fuel
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_fiber
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_fiber
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_timber
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_timber
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_metal
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_metal
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_w
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_e
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_exotics_g
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_textile
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_textile
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_pottery
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_pottery
				value = 0
			}
			set_variable = { 
				name = trade_sum_buy_tools
				value = 0
			}
			set_variable = { 
				name = trade_sum_sell_tools
				value = 0
			}
			every_in_global_list = { 
				variable = trade_do_trade_list
				prev = { 
					change_variable = { 
						name = trade_sum_buy_food
						add = prev.var:trade_buy_food
					}
					change_variable = { 
						name = trade_sum_sell_food
						add = prev.var:trade_sell_food
					}
					change_variable = { 
						name = trade_sum_buy_cereal
						add = prev.var:trade_buy_cereal
					}
					change_variable = { 
						name = trade_sum_sell_cereal
						add = prev.var:trade_sell_cereal
					}
					change_variable = { 
						name = trade_sum_buy_salted
						add = prev.var:trade_buy_salted
					}
					change_variable = { 
						name = trade_sum_sell_salted
						add = prev.var:trade_sell_salted
					}
					change_variable = { 
						name = trade_sum_buy_salt
						add = prev.var:trade_buy_salt
					}
					change_variable = { 
						name = trade_sum_sell_salt
						add = prev.var:trade_sell_salt
					}
					change_variable = { 
						name = trade_sum_buy_mud
						add = prev.var:trade_buy_mud
					}
					change_variable = { 
						name = trade_sum_sell_mud
						add = prev.var:trade_sell_mud
					}
					change_variable = { 
						name = trade_sum_buy_fuel
						add = prev.var:trade_buy_fuel
					}
					change_variable = { 
						name = trade_sum_sell_fuel
						add = prev.var:trade_sell_fuel
					}
					change_variable = { 
						name = trade_sum_buy_fiber
						add = prev.var:trade_buy_fiber
					}
					change_variable = { 
						name = trade_sum_sell_fiber
						add = prev.var:trade_sell_fiber
					}
					change_variable = { 
						name = trade_sum_buy_timber
						add = prev.var:trade_buy_timber
					}
					change_variable = { 
						name = trade_sum_sell_timber
						add = prev.var:trade_sell_timber
					}
					change_variable = { 
						name = trade_sum_buy_metal
						add = prev.var:trade_buy_metal
					}
					change_variable = { 
						name = trade_sum_sell_metal
						add = prev.var:trade_sell_metal
					}
					change_variable = { 
						name = trade_sum_buy_exotics_w
						add = prev.var:trade_buy_exotics_w
					}
					change_variable = { 
						name = trade_sum_sell_exotics_w
						add = prev.var:trade_sell_exotics_w
					}
					change_variable = { 
						name = trade_sum_buy_exotics_e
						add = prev.var:trade_buy_exotics_e
					}
					change_variable = { 
						name = trade_sum_sell_exotics_e
						add = prev.var:trade_sell_exotics_e
					}
					change_variable = { 
						name = trade_sum_buy_exotics_g
						add = prev.var:trade_buy_exotics_g
					}
					change_variable = { 
						name = trade_sum_sell_exotics_g
						add = prev.var:trade_sell_exotics_g
					}
					change_variable = { 
						name = trade_sum_buy_textile
						add = prev.var:trade_buy_textile
					}
					change_variable = { 
						name = trade_sum_sell_textile
						add = prev.var:trade_sell_textile
					}
					change_variable = { 
						name = trade_sum_buy_pottery
						add = prev.var:trade_buy_pottery
					}
					change_variable = { 
						name = trade_sum_sell_pottery
						add = prev.var:trade_sell_pottery
					}
					change_variable = { 
						name = trade_sum_buy_tools
						add = prev.var:trade_buy_tools
					}
					change_variable = { 
						name = trade_sum_sell_tools
						add = prev.var:trade_sell_tools
					}
				}
			}
			change_variable = { 
				name = trade_in_food
				add = var:trade_sum_sell_food
			}
			change_variable = { 
				name = trade_out_food
				add = var:trade_sum_buy_food
			}
			change_variable = { 
				name = trade_in_cereal
				add = var:trade_sum_sell_cereal
			}
			change_variable = { 
				name = trade_out_cereal
				add = var:trade_sum_buy_cereal
			}
			change_variable = { 
				name = trade_in_salted
				add = var:trade_sum_sell_salted
			}
			change_variable = { 
				name = trade_out_salted
				add = var:trade_sum_buy_salted
			}
			change_variable = { 
				name = trade_in_salt
				add = var:trade_sum_sell_salt
			}
			change_variable = { 
				name = trade_out_salt
				add = var:trade_sum_buy_salt
			}
			change_variable = { 
				name = trade_in_mud
				add = var:trade_sum_sell_mud
			}
			change_variable = { 
				name = trade_out_mud
				add = var:trade_sum_buy_mud
			}
			change_variable = { 
				name = trade_in_fuel
				add = var:trade_sum_sell_fuel
			}
			change_variable = { 
				name = trade_out_fuel
				add = var:trade_sum_buy_fuel
			}
			change_variable = { 
				name = trade_in_fiber
				add = var:trade_sum_sell_fiber
			}
			change_variable = { 
				name = trade_out_fiber
				add = var:trade_sum_buy_fiber
			}
			change_variable = { 
				name = trade_in_timber
				add = var:trade_sum_sell_timber
			}
			change_variable = { 
				name = trade_out_timber
				add = var:trade_sum_buy_timber
			}
			change_variable = { 
				name = trade_in_metal
				add = var:trade_sum_sell_metal
			}
			change_variable = { 
				name = trade_out_metal
				add = var:trade_sum_buy_metal
			}
			change_variable = { 
				name = trade_in_exotics_w
				add = var:trade_sum_sell_exotics_w
			}
			change_variable = { 
				name = trade_out_exotics_w
				add = var:trade_sum_buy_exotics_w
			}
			change_variable = { 
				name = trade_in_exotics_e
				add = var:trade_sum_sell_exotics_e
			}
			change_variable = { 
				name = trade_out_exotics_e
				add = var:trade_sum_buy_exotics_e
			}
			change_variable = { 
				name = trade_in_exotics_g
				add = var:trade_sum_sell_exotics_g
			}
			change_variable = { 
				name = trade_out_exotics_g
				add = var:trade_sum_buy_exotics_g
			}
			change_variable = { 
				name = trade_in_textile
				add = var:trade_sum_sell_textile
			}
			change_variable = { 
				name = trade_out_textile
				add = var:trade_sum_buy_textile
			}
			change_variable = { 
				name = trade_in_pottery
				add = var:trade_sum_sell_pottery
			}
			change_variable = { 
				name = trade_out_pottery
				add = var:trade_sum_buy_pottery
			}
			change_variable = { 
				name = trade_in_tools
				add = var:trade_sum_sell_tools
			}
			change_variable = { 
				name = trade_out_tools
				add = var:trade_sum_buy_tools
			}
			every_in_global_list = { 
				variable = trade_do_trade_list
				set_variable = { 
					name = trade_route_t
					value = 0
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_food
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_food
						var:trade_buy_food > 0
					}
					change_variable = { 
						name = trade_in_food
						add = var:trade_buy_food
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_food
					}
					change_variable = { 
						name = trade_buy_food
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_food
						add = var:trade_buy_food
					}
					prev = { 
						change_variable = { 
							name = trade_earn_food
							add = prev.var:trade_buy_food
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_food
						var:trade_sell_food > 0
					}
					change_variable = { 
						name = trade_out_food
						add = var:trade_sell_food
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_food
					}
					change_variable = { 
						name = trade_sell_food
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_food
						add = var:trade_sell_food
					}
					prev = { 
						change_variable = { 
							name = trade_pay_food
							add = prev.var:trade_sell_food
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_cereal
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_cereal
						var:trade_buy_cereal > 0
					}
					change_variable = { 
						name = trade_in_cereal
						add = var:trade_buy_cereal
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_cereal
					}
					change_variable = { 
						name = trade_buy_cereal
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_cereal
						add = var:trade_buy_cereal
					}
					prev = { 
						change_variable = { 
							name = trade_earn_cereal
							add = prev.var:trade_buy_cereal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_cereal
						var:trade_sell_cereal > 0
					}
					change_variable = { 
						name = trade_out_cereal
						add = var:trade_sell_cereal
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_cereal
					}
					change_variable = { 
						name = trade_sell_cereal
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_cereal
						add = var:trade_sell_cereal
					}
					prev = { 
						change_variable = { 
							name = trade_pay_cereal
							add = prev.var:trade_sell_cereal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_salted
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_salted
						var:trade_buy_salted > 0
					}
					change_variable = { 
						name = trade_in_salted
						add = var:trade_buy_salted
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_salted
					}
					change_variable = { 
						name = trade_buy_salted
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_salted
						add = var:trade_buy_salted
					}
					prev = { 
						change_variable = { 
							name = trade_earn_salted
							add = prev.var:trade_buy_salted
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_salted
						var:trade_sell_salted > 0
					}
					change_variable = { 
						name = trade_out_salted
						add = var:trade_sell_salted
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_salted
					}
					change_variable = { 
						name = trade_sell_salted
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_salted
						add = var:trade_sell_salted
					}
					prev = { 
						change_variable = { 
							name = trade_pay_salted
							add = prev.var:trade_sell_salted
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_salt
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_salt
						var:trade_buy_salt > 0
					}
					change_variable = { 
						name = trade_in_salt
						add = var:trade_buy_salt
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_salt
					}
					change_variable = { 
						name = trade_buy_salt
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_salt
						add = var:trade_buy_salt
					}
					prev = { 
						change_variable = { 
							name = trade_earn_salt
							add = prev.var:trade_buy_salt
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_salt
						var:trade_sell_salt > 0
					}
					change_variable = { 
						name = trade_out_salt
						add = var:trade_sell_salt
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_salt
					}
					change_variable = { 
						name = trade_sell_salt
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_salt
						add = var:trade_sell_salt
					}
					prev = { 
						change_variable = { 
							name = trade_pay_salt
							add = prev.var:trade_sell_salt
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_mud
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_mud
						var:trade_buy_mud > 0
					}
					change_variable = { 
						name = trade_in_mud
						add = var:trade_buy_mud
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_mud
					}
					change_variable = { 
						name = trade_buy_mud
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_mud
						add = var:trade_buy_mud
					}
					prev = { 
						change_variable = { 
							name = trade_earn_mud
							add = prev.var:trade_buy_mud
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_mud
						var:trade_sell_mud > 0
					}
					change_variable = { 
						name = trade_out_mud
						add = var:trade_sell_mud
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_mud
					}
					change_variable = { 
						name = trade_sell_mud
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_mud
						add = var:trade_sell_mud
					}
					prev = { 
						change_variable = { 
							name = trade_pay_mud
							add = prev.var:trade_sell_mud
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_fuel
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_fuel
						var:trade_buy_fuel > 0
					}
					change_variable = { 
						name = trade_in_fuel
						add = var:trade_buy_fuel
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_fuel
					}
					change_variable = { 
						name = trade_buy_fuel
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_fuel
						add = var:trade_buy_fuel
					}
					prev = { 
						change_variable = { 
							name = trade_earn_fuel
							add = prev.var:trade_buy_fuel
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_fuel
						var:trade_sell_fuel > 0
					}
					change_variable = { 
						name = trade_out_fuel
						add = var:trade_sell_fuel
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_fuel
					}
					change_variable = { 
						name = trade_sell_fuel
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_fuel
						add = var:trade_sell_fuel
					}
					prev = { 
						change_variable = { 
							name = trade_pay_fuel
							add = prev.var:trade_sell_fuel
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_fiber
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_fiber
						var:trade_buy_fiber > 0
					}
					change_variable = { 
						name = trade_in_fiber
						add = var:trade_buy_fiber
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_fiber
					}
					change_variable = { 
						name = trade_buy_fiber
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_fiber
						add = var:trade_buy_fiber
					}
					prev = { 
						change_variable = { 
							name = trade_earn_fiber
							add = prev.var:trade_buy_fiber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_fiber
						var:trade_sell_fiber > 0
					}
					change_variable = { 
						name = trade_out_fiber
						add = var:trade_sell_fiber
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_fiber
					}
					change_variable = { 
						name = trade_sell_fiber
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_fiber
						add = var:trade_sell_fiber
					}
					prev = { 
						change_variable = { 
							name = trade_pay_fiber
							add = prev.var:trade_sell_fiber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_timber
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_timber
						var:trade_buy_timber > 0
					}
					change_variable = { 
						name = trade_in_timber
						add = var:trade_buy_timber
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_timber
					}
					change_variable = { 
						name = trade_buy_timber
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_timber
						add = var:trade_buy_timber
					}
					prev = { 
						change_variable = { 
							name = trade_earn_timber
							add = prev.var:trade_buy_timber
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_timber
						var:trade_sell_timber > 0
					}
					change_variable = { 
						name = trade_out_timber
						add = var:trade_sell_timber
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_timber
					}
					change_variable = { 
						name = trade_sell_timber
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_timber
						add = var:trade_sell_timber
					}
					prev = { 
						change_variable = { 
							name = trade_pay_timber
							add = prev.var:trade_sell_timber
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_metal
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_metal
						var:trade_buy_metal > 0
					}
					change_variable = { 
						name = trade_in_metal
						add = var:trade_buy_metal
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_metal
					}
					change_variable = { 
						name = trade_buy_metal
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_metal
						add = var:trade_buy_metal
					}
					prev = { 
						change_variable = { 
							name = trade_earn_metal
							add = prev.var:trade_buy_metal
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_metal
						var:trade_sell_metal > 0
					}
					change_variable = { 
						name = trade_out_metal
						add = var:trade_sell_metal
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_metal
					}
					change_variable = { 
						name = trade_sell_metal
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_metal
						add = var:trade_sell_metal
					}
					prev = { 
						change_variable = { 
							name = trade_pay_metal
							add = prev.var:trade_sell_metal
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_exotics_w
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_exotics_w
						var:trade_buy_exotics_w > 0
					}
					change_variable = { 
						name = trade_in_exotics_w
						add = var:trade_buy_exotics_w
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_exotics_w
					}
					change_variable = { 
						name = trade_buy_exotics_w
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_w
						add = var:trade_buy_exotics_w
					}
					prev = { 
						change_variable = { 
							name = trade_earn_exotics_w
							add = prev.var:trade_buy_exotics_w
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_exotics_w
						var:trade_sell_exotics_w > 0
					}
					change_variable = { 
						name = trade_out_exotics_w
						add = var:trade_sell_exotics_w
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_exotics_w
					}
					change_variable = { 
						name = trade_sell_exotics_w
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_w
						add = var:trade_sell_exotics_w
					}
					prev = { 
						change_variable = { 
							name = trade_pay_exotics_w
							add = prev.var:trade_sell_exotics_w
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_exotics_e
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_exotics_e
						var:trade_buy_exotics_e > 0
					}
					change_variable = { 
						name = trade_in_exotics_e
						add = var:trade_buy_exotics_e
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_exotics_e
					}
					change_variable = { 
						name = trade_buy_exotics_e
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_e
						add = var:trade_buy_exotics_e
					}
					prev = { 
						change_variable = { 
							name = trade_earn_exotics_e
							add = prev.var:trade_buy_exotics_e
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_exotics_e
						var:trade_sell_exotics_e > 0
					}
					change_variable = { 
						name = trade_out_exotics_e
						add = var:trade_sell_exotics_e
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_exotics_e
					}
					change_variable = { 
						name = trade_sell_exotics_e
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_e
						add = var:trade_sell_exotics_e
					}
					prev = { 
						change_variable = { 
							name = trade_pay_exotics_e
							add = prev.var:trade_sell_exotics_e
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_exotics_g
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_exotics_g
						var:trade_buy_exotics_g > 0
					}
					change_variable = { 
						name = trade_in_exotics_g
						add = var:trade_buy_exotics_g
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_exotics_g
					}
					change_variable = { 
						name = trade_buy_exotics_g
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_exotics_g
						add = var:trade_buy_exotics_g
					}
					prev = { 
						change_variable = { 
							name = trade_earn_exotics_g
							add = prev.var:trade_buy_exotics_g
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_exotics_g
						var:trade_sell_exotics_g > 0
					}
					change_variable = { 
						name = trade_out_exotics_g
						add = var:trade_sell_exotics_g
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_exotics_g
					}
					change_variable = { 
						name = trade_sell_exotics_g
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_exotics_g
						add = var:trade_sell_exotics_g
					}
					prev = { 
						change_variable = { 
							name = trade_pay_exotics_g
							add = prev.var:trade_sell_exotics_g
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_textile
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_textile
						var:trade_buy_textile > 0
					}
					change_variable = { 
						name = trade_in_textile
						add = var:trade_buy_textile
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_textile
					}
					change_variable = { 
						name = trade_buy_textile
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_textile
						add = var:trade_buy_textile
					}
					prev = { 
						change_variable = { 
							name = trade_earn_textile
							add = prev.var:trade_buy_textile
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_textile
						var:trade_sell_textile > 0
					}
					change_variable = { 
						name = trade_out_textile
						add = var:trade_sell_textile
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_textile
					}
					change_variable = { 
						name = trade_sell_textile
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_textile
						add = var:trade_sell_textile
					}
					prev = { 
						change_variable = { 
							name = trade_pay_textile
							add = prev.var:trade_sell_textile
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_pottery
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_pottery
						var:trade_buy_pottery > 0
					}
					change_variable = { 
						name = trade_in_pottery
						add = var:trade_buy_pottery
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_pottery
					}
					change_variable = { 
						name = trade_buy_pottery
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_pottery
						add = var:trade_buy_pottery
					}
					prev = { 
						change_variable = { 
							name = trade_earn_pottery
							add = prev.var:trade_buy_pottery
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_pottery
						var:trade_sell_pottery > 0
					}
					change_variable = { 
						name = trade_out_pottery
						add = var:trade_sell_pottery
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_pottery
					}
					change_variable = { 
						name = trade_sell_pottery
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_pottery
						add = var:trade_sell_pottery
					}
					prev = { 
						change_variable = { 
							name = trade_pay_pottery
							add = prev.var:trade_sell_pottery
						}
					}
				}
				set_variable = { 
					name = trade_do_trade_t
					value = var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_t
					add = prev.var:trade_price_tools
				}
				change_variable = { 
					name = trade_do_trade_t
					divide = 2
				}
				if = { 
					limit = { 
						has_variable = trade_buy_tools
						var:trade_buy_tools > 0
					}
					change_variable = { 
						name = trade_in_tools
						add = var:trade_buy_tools
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_buy_tools
					}
					change_variable = { 
						name = trade_buy_tools
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_pay_tools
						add = var:trade_buy_tools
					}
					prev = { 
						change_variable = { 
							name = trade_earn_tools
							add = prev.var:trade_buy_tools
						}
					}
				}
				if = { 
					limit = { 
						has_variable = trade_sell_tools
						var:trade_sell_tools > 0
					}
					change_variable = { 
						name = trade_out_tools
						add = var:trade_sell_tools
					}
					change_variable = { 
						name = trade_route_t
						add = var:trade_sell_tools
					}
					change_variable = { 
						name = trade_sell_tools
						multiply = var:trade_do_trade_t
					}
					change_variable = { 
						name = trade_earn_tools
						add = var:trade_sell_tools
					}
					prev = { 
						change_variable = { 
							name = trade_pay_tools
							add = prev.var:trade_sell_tools
						}
					}
				}
				change_variable = { 
					name = trade_route_t
					divide = 100
				}
				if = { 
					limit = { 
						has_variable = trade_route_t
						var:trade_route_t > 0
					}
					var:trade_do_trade_prev = { 
						save_temporary_scope_as = trade_route_t
					}
					while = { 
						limit = { 
							NOT = { 
								scope:trade_route_t.var:trade_do_trade_prev = scope:trade_route_t
							}
						}
						scope:trade_route_t = { 
							if = { 
								limit = { 
									var:prov_sea = 1
								}
								change_variable = { 
									name = trade_route
									add = prev.var:trade_route_t
								}
							}
							var:trade_do_trade_prev = { 
								save_temporary_scope_as = trade_route_t
							}
						}
					}
					scope:trade_route_t = { 
						if = { 
							limit = { 
								var:prov_sea = 1
							}
							change_variable = { 
								name = trade_route
								add = prev.var:trade_route_t
							}
						}
					}
				}
				remove_variable = trade_route_t
			}
			every_in_global_list = { 
				variable = trade_do_trade_list
				remove_variable = trade_do_trade_dist
				remove_variable = trade_do_trade_prev
			}
			every_province = { 
				limit = { 
					has_variable = trade_do_trade_dist
				}
				remove_variable = trade_do_trade_dist
				remove_variable = trade_do_trade_prev
			}
			remove_global_variable = trade_do_trade_select
			clear_global_variable_list = trade_do_trade_list
			set_variable = { 
				name = trade_power
				value = 0
			}
		}
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		remove_variable = trade_buy_food
		remove_variable = trade_sell_food
		remove_variable = trade_point_food
		remove_variable = trade_cost_food
		remove_variable = trade_sum_buy_food
		remove_variable = trade_sum_sell_food
		remove_variable = trade_do_trade_t_food
		remove_variable = trade_do_trade_tt_food
		remove_variable = trade_do_trade_ttt_food
		remove_variable = trade_buy_cereal
		remove_variable = trade_sell_cereal
		remove_variable = trade_point_cereal
		remove_variable = trade_cost_cereal
		remove_variable = trade_sum_buy_cereal
		remove_variable = trade_sum_sell_cereal
		remove_variable = trade_do_trade_t_cereal
		remove_variable = trade_do_trade_tt_cereal
		remove_variable = trade_do_trade_ttt_cereal
		remove_variable = trade_buy_salted
		remove_variable = trade_sell_salted
		remove_variable = trade_point_salted
		remove_variable = trade_cost_salted
		remove_variable = trade_sum_buy_salted
		remove_variable = trade_sum_sell_salted
		remove_variable = trade_do_trade_t_salted
		remove_variable = trade_do_trade_tt_salted
		remove_variable = trade_do_trade_ttt_salted
		remove_variable = trade_buy_salt
		remove_variable = trade_sell_salt
		remove_variable = trade_point_salt
		remove_variable = trade_cost_salt
		remove_variable = trade_sum_buy_salt
		remove_variable = trade_sum_sell_salt
		remove_variable = trade_do_trade_t_salt
		remove_variable = trade_do_trade_tt_salt
		remove_variable = trade_do_trade_ttt_salt
		remove_variable = trade_buy_mud
		remove_variable = trade_sell_mud
		remove_variable = trade_point_mud
		remove_variable = trade_cost_mud
		remove_variable = trade_sum_buy_mud
		remove_variable = trade_sum_sell_mud
		remove_variable = trade_do_trade_t_mud
		remove_variable = trade_do_trade_tt_mud
		remove_variable = trade_do_trade_ttt_mud
		remove_variable = trade_buy_fuel
		remove_variable = trade_sell_fuel
		remove_variable = trade_point_fuel
		remove_variable = trade_cost_fuel
		remove_variable = trade_sum_buy_fuel
		remove_variable = trade_sum_sell_fuel
		remove_variable = trade_do_trade_t_fuel
		remove_variable = trade_do_trade_tt_fuel
		remove_variable = trade_do_trade_ttt_fuel
		remove_variable = trade_buy_fiber
		remove_variable = trade_sell_fiber
		remove_variable = trade_point_fiber
		remove_variable = trade_cost_fiber
		remove_variable = trade_sum_buy_fiber
		remove_variable = trade_sum_sell_fiber
		remove_variable = trade_do_trade_t_fiber
		remove_variable = trade_do_trade_tt_fiber
		remove_variable = trade_do_trade_ttt_fiber
		remove_variable = trade_buy_timber
		remove_variable = trade_sell_timber
		remove_variable = trade_point_timber
		remove_variable = trade_cost_timber
		remove_variable = trade_sum_buy_timber
		remove_variable = trade_sum_sell_timber
		remove_variable = trade_do_trade_t_timber
		remove_variable = trade_do_trade_tt_timber
		remove_variable = trade_do_trade_ttt_timber
		remove_variable = trade_buy_metal
		remove_variable = trade_sell_metal
		remove_variable = trade_point_metal
		remove_variable = trade_cost_metal
		remove_variable = trade_sum_buy_metal
		remove_variable = trade_sum_sell_metal
		remove_variable = trade_do_trade_t_metal
		remove_variable = trade_do_trade_tt_metal
		remove_variable = trade_do_trade_ttt_metal
		remove_variable = trade_buy_exotics_w
		remove_variable = trade_sell_exotics_w
		remove_variable = trade_point_exotics_w
		remove_variable = trade_cost_exotics_w
		remove_variable = trade_sum_buy_exotics_w
		remove_variable = trade_sum_sell_exotics_w
		remove_variable = trade_do_trade_t_exotics_w
		remove_variable = trade_do_trade_tt_exotics_w
		remove_variable = trade_do_trade_ttt_exotics_w
		remove_variable = trade_buy_exotics_e
		remove_variable = trade_sell_exotics_e
		remove_variable = trade_point_exotics_e
		remove_variable = trade_cost_exotics_e
		remove_variable = trade_sum_buy_exotics_e
		remove_variable = trade_sum_sell_exotics_e
		remove_variable = trade_do_trade_t_exotics_e
		remove_variable = trade_do_trade_tt_exotics_e
		remove_variable = trade_do_trade_ttt_exotics_e
		remove_variable = trade_buy_exotics_g
		remove_variable = trade_sell_exotics_g
		remove_variable = trade_point_exotics_g
		remove_variable = trade_cost_exotics_g
		remove_variable = trade_sum_buy_exotics_g
		remove_variable = trade_sum_sell_exotics_g
		remove_variable = trade_do_trade_t_exotics_g
		remove_variable = trade_do_trade_tt_exotics_g
		remove_variable = trade_do_trade_ttt_exotics_g
		remove_variable = trade_buy_textile
		remove_variable = trade_sell_textile
		remove_variable = trade_point_textile
		remove_variable = trade_cost_textile
		remove_variable = trade_sum_buy_textile
		remove_variable = trade_sum_sell_textile
		remove_variable = trade_do_trade_t_textile
		remove_variable = trade_do_trade_tt_textile
		remove_variable = trade_do_trade_ttt_textile
		remove_variable = trade_buy_pottery
		remove_variable = trade_sell_pottery
		remove_variable = trade_point_pottery
		remove_variable = trade_cost_pottery
		remove_variable = trade_sum_buy_pottery
		remove_variable = trade_sum_sell_pottery
		remove_variable = trade_do_trade_t_pottery
		remove_variable = trade_do_trade_tt_pottery
		remove_variable = trade_do_trade_ttt_pottery
		remove_variable = trade_buy_tools
		remove_variable = trade_sell_tools
		remove_variable = trade_point_tools
		remove_variable = trade_cost_tools
		remove_variable = trade_sum_buy_tools
		remove_variable = trade_sum_sell_tools
		remove_variable = trade_do_trade_t_tools
		remove_variable = trade_do_trade_tt_tools
		remove_variable = trade_do_trade_ttt_tools
		remove_variable = trade_point_min
		remove_variable = trade_point_max
		remove_variable = trade_cost
		remove_variable = trade_do_trade_t
		remove_variable = trade_do_trade_tt
		remove_variable = trade_do_trade_ttt
	}
	every_in_global_list = { 
		variable = trade_merchants
		remove_variable = trade_buy_food
		remove_variable = trade_sell_food
		remove_variable = trade_point_food
		remove_variable = trade_cost_food
		remove_variable = trade_sum_buy_food
		remove_variable = trade_sum_sell_food
		remove_variable = trade_do_trade_t_food
		remove_variable = trade_do_trade_tt_food
		remove_variable = trade_do_trade_ttt_food
		remove_variable = trade_buy_cereal
		remove_variable = trade_sell_cereal
		remove_variable = trade_point_cereal
		remove_variable = trade_cost_cereal
		remove_variable = trade_sum_buy_cereal
		remove_variable = trade_sum_sell_cereal
		remove_variable = trade_do_trade_t_cereal
		remove_variable = trade_do_trade_tt_cereal
		remove_variable = trade_do_trade_ttt_cereal
		remove_variable = trade_buy_salted
		remove_variable = trade_sell_salted
		remove_variable = trade_point_salted
		remove_variable = trade_cost_salted
		remove_variable = trade_sum_buy_salted
		remove_variable = trade_sum_sell_salted
		remove_variable = trade_do_trade_t_salted
		remove_variable = trade_do_trade_tt_salted
		remove_variable = trade_do_trade_ttt_salted
		remove_variable = trade_buy_salt
		remove_variable = trade_sell_salt
		remove_variable = trade_point_salt
		remove_variable = trade_cost_salt
		remove_variable = trade_sum_buy_salt
		remove_variable = trade_sum_sell_salt
		remove_variable = trade_do_trade_t_salt
		remove_variable = trade_do_trade_tt_salt
		remove_variable = trade_do_trade_ttt_salt
		remove_variable = trade_buy_mud
		remove_variable = trade_sell_mud
		remove_variable = trade_point_mud
		remove_variable = trade_cost_mud
		remove_variable = trade_sum_buy_mud
		remove_variable = trade_sum_sell_mud
		remove_variable = trade_do_trade_t_mud
		remove_variable = trade_do_trade_tt_mud
		remove_variable = trade_do_trade_ttt_mud
		remove_variable = trade_buy_fuel
		remove_variable = trade_sell_fuel
		remove_variable = trade_point_fuel
		remove_variable = trade_cost_fuel
		remove_variable = trade_sum_buy_fuel
		remove_variable = trade_sum_sell_fuel
		remove_variable = trade_do_trade_t_fuel
		remove_variable = trade_do_trade_tt_fuel
		remove_variable = trade_do_trade_ttt_fuel
		remove_variable = trade_buy_fiber
		remove_variable = trade_sell_fiber
		remove_variable = trade_point_fiber
		remove_variable = trade_cost_fiber
		remove_variable = trade_sum_buy_fiber
		remove_variable = trade_sum_sell_fiber
		remove_variable = trade_do_trade_t_fiber
		remove_variable = trade_do_trade_tt_fiber
		remove_variable = trade_do_trade_ttt_fiber
		remove_variable = trade_buy_timber
		remove_variable = trade_sell_timber
		remove_variable = trade_point_timber
		remove_variable = trade_cost_timber
		remove_variable = trade_sum_buy_timber
		remove_variable = trade_sum_sell_timber
		remove_variable = trade_do_trade_t_timber
		remove_variable = trade_do_trade_tt_timber
		remove_variable = trade_do_trade_ttt_timber
		remove_variable = trade_buy_metal
		remove_variable = trade_sell_metal
		remove_variable = trade_point_metal
		remove_variable = trade_cost_metal
		remove_variable = trade_sum_buy_metal
		remove_variable = trade_sum_sell_metal
		remove_variable = trade_do_trade_t_metal
		remove_variable = trade_do_trade_tt_metal
		remove_variable = trade_do_trade_ttt_metal
		remove_variable = trade_buy_exotics_w
		remove_variable = trade_sell_exotics_w
		remove_variable = trade_point_exotics_w
		remove_variable = trade_cost_exotics_w
		remove_variable = trade_sum_buy_exotics_w
		remove_variable = trade_sum_sell_exotics_w
		remove_variable = trade_do_trade_t_exotics_w
		remove_variable = trade_do_trade_tt_exotics_w
		remove_variable = trade_do_trade_ttt_exotics_w
		remove_variable = trade_buy_exotics_e
		remove_variable = trade_sell_exotics_e
		remove_variable = trade_point_exotics_e
		remove_variable = trade_cost_exotics_e
		remove_variable = trade_sum_buy_exotics_e
		remove_variable = trade_sum_sell_exotics_e
		remove_variable = trade_do_trade_t_exotics_e
		remove_variable = trade_do_trade_tt_exotics_e
		remove_variable = trade_do_trade_ttt_exotics_e
		remove_variable = trade_buy_exotics_g
		remove_variable = trade_sell_exotics_g
		remove_variable = trade_point_exotics_g
		remove_variable = trade_cost_exotics_g
		remove_variable = trade_sum_buy_exotics_g
		remove_variable = trade_sum_sell_exotics_g
		remove_variable = trade_do_trade_t_exotics_g
		remove_variable = trade_do_trade_tt_exotics_g
		remove_variable = trade_do_trade_ttt_exotics_g
		remove_variable = trade_buy_textile
		remove_variable = trade_sell_textile
		remove_variable = trade_point_textile
		remove_variable = trade_cost_textile
		remove_variable = trade_sum_buy_textile
		remove_variable = trade_sum_sell_textile
		remove_variable = trade_do_trade_t_textile
		remove_variable = trade_do_trade_tt_textile
		remove_variable = trade_do_trade_ttt_textile
		remove_variable = trade_buy_pottery
		remove_variable = trade_sell_pottery
		remove_variable = trade_point_pottery
		remove_variable = trade_cost_pottery
		remove_variable = trade_sum_buy_pottery
		remove_variable = trade_sum_sell_pottery
		remove_variable = trade_do_trade_t_pottery
		remove_variable = trade_do_trade_tt_pottery
		remove_variable = trade_do_trade_ttt_pottery
		remove_variable = trade_buy_tools
		remove_variable = trade_sell_tools
		remove_variable = trade_point_tools
		remove_variable = trade_cost_tools
		remove_variable = trade_sum_buy_tools
		remove_variable = trade_sum_sell_tools
		remove_variable = trade_do_trade_t_tools
		remove_variable = trade_do_trade_tt_tools
		remove_variable = trade_do_trade_ttt_tools
		remove_variable = trade_point_min
		remove_variable = trade_point_max
		remove_variable = trade_point_avg
		remove_variable = trade_point_avg_div
		remove_variable = trade_point_avg_foo
		remove_variable = trade_point_avg_foo_div
		remove_variable = trade_point_avg_0
		remove_variable = trade_point_avg_1
		remove_variable = trade_cost
		remove_variable = trade_do_trade_t
		remove_variable = trade_do_trade_tt
		remove_variable = trade_do_trade_ttt
	}
	set_global_variable = { 
		name = trade_route_max
		value = 0
	}
	ordered_province = { 
		limit = { 
			has_variable = trade_route
			var:trade_route > 0
		}
		order_by = trade_do_trade_order_value_3
		position = 0
		set_global_variable = { 
			name = trade_route_max
			value = var:trade_route
		}
	}
	if = { 
		limit = { 
			has_global_variable = trade_route_max
			global_var:trade_route_max > 0
		}
		every_province = { 
			limit = { 
				has_variable = trade_route
			}
			change_variable = { 
				name = trade_route
				multiply = 100
			}
			change_variable = { 
				name = trade_route
				divide = global_var:trade_route_max
			}
		}
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = pop_pay_calorie
			value = 0
		}
		set_variable = { 
			name = pop_pay_nutrient
			value = 0
		}
		set_variable = { 
			name = pop_pay_comfort
			value = 0
		}
		set_variable = { 
			name = pop_pay_luxury
			value = 0
		}
		set_variable = { 
			name = prod_earn_food
			value = 0
		}
		set_variable = { 
			name = prod_earn_cereal
			value = 0
		}
		set_variable = { 
			name = prod_earn_salted
			value = 0
		}
		set_variable = { 
			name = prod_earn_salt
			value = 0
		}
		set_variable = { 
			name = prod_earn_mud
			value = 0
		}
		set_variable = { 
			name = prod_earn_fuel
			value = 0
		}
		set_variable = { 
			name = prod_earn_fiber
			value = 0
		}
		set_variable = { 
			name = prod_earn_timber
			value = 0
		}
		set_variable = { 
			name = prod_earn_metal
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_w
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_e
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_g
			value = 0
		}
		set_variable = { 
			name = prod_earn_textile
			value = 0
		}
		set_variable = { 
			name = prod_earn_pottery
			value = 0
		}
		set_variable = { 
			name = prod_earn_tools
			value = 0
		}
	}
	every_in_global_list = { 
		variable = prod_instances
		set_variable = { 
			name = prod_tools_pay
			value = 0
		}
		set_variable = { 
			name = prod_earn_food
			value = 0
		}
		set_variable = { 
			name = prod_pay_food
			value = 0
		}
		set_variable = { 
			name = prod_earn_cereal
			value = 0
		}
		set_variable = { 
			name = prod_pay_cereal
			value = 0
		}
		set_variable = { 
			name = prod_earn_salted
			value = 0
		}
		set_variable = { 
			name = prod_pay_salted
			value = 0
		}
		set_variable = { 
			name = prod_earn_salt
			value = 0
		}
		set_variable = { 
			name = prod_pay_salt
			value = 0
		}
		set_variable = { 
			name = prod_earn_mud
			value = 0
		}
		set_variable = { 
			name = prod_pay_mud
			value = 0
		}
		set_variable = { 
			name = prod_earn_fuel
			value = 0
		}
		set_variable = { 
			name = prod_pay_fuel
			value = 0
		}
		set_variable = { 
			name = prod_earn_fiber
			value = 0
		}
		set_variable = { 
			name = prod_pay_fiber
			value = 0
		}
		set_variable = { 
			name = prod_earn_timber
			value = 0
		}
		set_variable = { 
			name = prod_pay_timber
			value = 0
		}
		set_variable = { 
			name = prod_earn_metal
			value = 0
		}
		set_variable = { 
			name = prod_pay_metal
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_w
			value = 0
		}
		set_variable = { 
			name = prod_pay_exotics_w
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_e
			value = 0
		}
		set_variable = { 
			name = prod_pay_exotics_e
			value = 0
		}
		set_variable = { 
			name = prod_earn_exotics_g
			value = 0
		}
		set_variable = { 
			name = prod_pay_exotics_g
			value = 0
		}
		set_variable = { 
			name = prod_earn_textile
			value = 0
		}
		set_variable = { 
			name = prod_pay_textile
			value = 0
		}
		set_variable = { 
			name = prod_earn_pottery
			value = 0
		}
		set_variable = { 
			name = prod_pay_pottery
			value = 0
		}
		set_variable = { 
			name = prod_earn_tools
			value = 0
		}
		set_variable = { 
			name = prod_pay_tools
			value = 0
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = build_active
		}
		variable = build_slots
		set_variable = { 
			name = build_in_food
			value = 0
		}
		set_variable = { 
			name = build_pay_food
			value = 0
		}
		set_variable = { 
			name = build_in_cereal
			value = 0
		}
		set_variable = { 
			name = build_pay_cereal
			value = 0
		}
		set_variable = { 
			name = build_in_salted
			value = 0
		}
		set_variable = { 
			name = build_pay_salted
			value = 0
		}
		set_variable = { 
			name = build_in_salt
			value = 0
		}
		set_variable = { 
			name = build_pay_salt
			value = 0
		}
		set_variable = { 
			name = build_in_mud
			value = 0
		}
		set_variable = { 
			name = build_pay_mud
			value = 0
		}
		set_variable = { 
			name = build_in_fuel
			value = 0
		}
		set_variable = { 
			name = build_pay_fuel
			value = 0
		}
		set_variable = { 
			name = build_in_fiber
			value = 0
		}
		set_variable = { 
			name = build_pay_fiber
			value = 0
		}
		set_variable = { 
			name = build_in_timber
			value = 0
		}
		set_variable = { 
			name = build_pay_timber
			value = 0
		}
		set_variable = { 
			name = build_in_metal
			value = 0
		}
		set_variable = { 
			name = build_pay_metal
			value = 0
		}
		set_variable = { 
			name = build_in_exotics_w
			value = 0
		}
		set_variable = { 
			name = build_pay_exotics_w
			value = 0
		}
		set_variable = { 
			name = build_in_exotics_e
			value = 0
		}
		set_variable = { 
			name = build_pay_exotics_e
			value = 0
		}
		set_variable = { 
			name = build_in_exotics_g
			value = 0
		}
		set_variable = { 
			name = build_pay_exotics_g
			value = 0
		}
		set_variable = { 
			name = build_in_textile
			value = 0
		}
		set_variable = { 
			name = build_pay_textile
			value = 0
		}
		set_variable = { 
			name = build_in_pottery
			value = 0
		}
		set_variable = { 
			name = build_pay_pottery
			value = 0
		}
		set_variable = { 
			name = build_in_tools
			value = 0
		}
		set_variable = { 
			name = build_pay_tools
			value = 0
		}
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = prod_pay
			value = 0
		}
		change_variable = { 
			name = trade_has_food
			subtract = var:trade_out_food
		}
		change_variable = { 
			name = trade_has_food
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_food
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_food
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_food
					add = var:prod_sply_old_food
				}
				prev = { 
					change_variable = { 
						name = prod_has_food
						add = prev.var:prod_has_food
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_food
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_food
					var:prod_has_food > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_food
						var:prod_has_food > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_food
						multiply = 100
					}
					change_variable = { 
						name = prod_has_food
						divide = prev.var:prod_has_food
					}
				}
				change_variable = { 
					name = prod_has_food
					multiply = 100
				}
				change_variable = { 
					name = prod_has_food
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_food
					multiply = prev.var:trade_has_food
				}
				change_variable = { 
					name = prod_has_food
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_food
						var:prod_has_food > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_food
						multiply = prev.var:prod_has_food
					}
					change_variable = { 
						name = prod_has_food
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_food
				var:trade_earn_food > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_food
					var:prod_has_food > 0
				}
				set_variable = { 
					name = prod_earn_food
					value = var:prod_has_food
				}
				change_variable = { 
					name = prod_earn_food
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_food
					divide = prev.var:trade_has_food
				}
				change_variable = { 
					name = prod_earn_food
					multiply = prev.var:trade_earn_food
				}
				change_variable = { 
					name = prod_earn_food
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_food
						var:prod_has_food > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_food
						value = var:prod_has_food
					}
					change_variable = { 
						name = prod_earn_food
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_food
						divide = prev.var:prod_has_food
					}
					change_variable = { 
						name = prod_earn_food
						multiply = prev.var:prod_earn_food
					}
					change_variable = { 
						name = prod_earn_food
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_cereal
			subtract = var:trade_out_cereal
		}
		change_variable = { 
			name = trade_has_cereal
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_cereal
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_cereal
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_cereal
					add = var:prod_sply_old_cereal
				}
				prev = { 
					change_variable = { 
						name = prod_has_cereal
						add = prev.var:prod_has_cereal
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_cereal
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_cereal
					var:prod_has_cereal > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_cereal
						var:prod_has_cereal > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_cereal
						multiply = 100
					}
					change_variable = { 
						name = prod_has_cereal
						divide = prev.var:prod_has_cereal
					}
				}
				change_variable = { 
					name = prod_has_cereal
					multiply = 100
				}
				change_variable = { 
					name = prod_has_cereal
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_cereal
					multiply = prev.var:trade_has_cereal
				}
				change_variable = { 
					name = prod_has_cereal
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_cereal
						var:prod_has_cereal > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_cereal
						multiply = prev.var:prod_has_cereal
					}
					change_variable = { 
						name = prod_has_cereal
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_cereal
				var:trade_earn_cereal > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_cereal
					var:prod_has_cereal > 0
				}
				set_variable = { 
					name = prod_earn_cereal
					value = var:prod_has_cereal
				}
				change_variable = { 
					name = prod_earn_cereal
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_cereal
					divide = prev.var:trade_has_cereal
				}
				change_variable = { 
					name = prod_earn_cereal
					multiply = prev.var:trade_earn_cereal
				}
				change_variable = { 
					name = prod_earn_cereal
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_cereal
						var:prod_has_cereal > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_cereal
						value = var:prod_has_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_cereal
						divide = prev.var:prod_has_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						multiply = prev.var:prod_earn_cereal
					}
					change_variable = { 
						name = prod_earn_cereal
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_salted
			subtract = var:trade_out_salted
		}
		change_variable = { 
			name = trade_has_salted
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_salted
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_salted
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_salted
					add = var:prod_sply_old_salted
				}
				prev = { 
					change_variable = { 
						name = prod_has_salted
						add = prev.var:prod_has_salted
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_salted
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_salted
					var:prod_has_salted > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salted
						var:prod_has_salted > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salted
						multiply = 100
					}
					change_variable = { 
						name = prod_has_salted
						divide = prev.var:prod_has_salted
					}
				}
				change_variable = { 
					name = prod_has_salted
					multiply = 100
				}
				change_variable = { 
					name = prod_has_salted
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_salted
					multiply = prev.var:trade_has_salted
				}
				change_variable = { 
					name = prod_has_salted
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salted
						var:prod_has_salted > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salted
						multiply = prev.var:prod_has_salted
					}
					change_variable = { 
						name = prod_has_salted
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_salted
				var:trade_earn_salted > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_salted
					var:prod_has_salted > 0
				}
				set_variable = { 
					name = prod_earn_salted
					value = var:prod_has_salted
				}
				change_variable = { 
					name = prod_earn_salted
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_salted
					divide = prev.var:trade_has_salted
				}
				change_variable = { 
					name = prod_earn_salted
					multiply = prev.var:trade_earn_salted
				}
				change_variable = { 
					name = prod_earn_salted
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salted
						var:prod_has_salted > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_salted
						value = var:prod_has_salted
					}
					change_variable = { 
						name = prod_earn_salted
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_salted
						divide = prev.var:prod_has_salted
					}
					change_variable = { 
						name = prod_earn_salted
						multiply = prev.var:prod_earn_salted
					}
					change_variable = { 
						name = prod_earn_salted
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_salt
			subtract = var:trade_out_salt
		}
		change_variable = { 
			name = trade_has_salt
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_salt
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_salt
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_salt
					add = var:prod_sply_old_salt
				}
				prev = { 
					change_variable = { 
						name = prod_has_salt
						add = prev.var:prod_has_salt
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_salt
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_salt
					var:prod_has_salt > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salt
						var:prod_has_salt > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salt
						multiply = 100
					}
					change_variable = { 
						name = prod_has_salt
						divide = prev.var:prod_has_salt
					}
				}
				change_variable = { 
					name = prod_has_salt
					multiply = 100
				}
				change_variable = { 
					name = prod_has_salt
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_salt
					multiply = prev.var:trade_has_salt
				}
				change_variable = { 
					name = prod_has_salt
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salt
						var:prod_has_salt > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_salt
						multiply = prev.var:prod_has_salt
					}
					change_variable = { 
						name = prod_has_salt
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_salt
				var:trade_earn_salt > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_salt
					var:prod_has_salt > 0
				}
				set_variable = { 
					name = prod_earn_salt
					value = var:prod_has_salt
				}
				change_variable = { 
					name = prod_earn_salt
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_salt
					divide = prev.var:trade_has_salt
				}
				change_variable = { 
					name = prod_earn_salt
					multiply = prev.var:trade_earn_salt
				}
				change_variable = { 
					name = prod_earn_salt
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_salt
						var:prod_has_salt > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_salt
						value = var:prod_has_salt
					}
					change_variable = { 
						name = prod_earn_salt
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_salt
						divide = prev.var:prod_has_salt
					}
					change_variable = { 
						name = prod_earn_salt
						multiply = prev.var:prod_earn_salt
					}
					change_variable = { 
						name = prod_earn_salt
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_mud
			subtract = var:trade_out_mud
		}
		change_variable = { 
			name = trade_has_mud
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_mud
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_mud
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_mud
					add = var:prod_sply_old_mud
				}
				prev = { 
					change_variable = { 
						name = prod_has_mud
						add = prev.var:prod_has_mud
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_mud
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_mud
					var:prod_has_mud > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_mud
						var:prod_has_mud > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_mud
						multiply = 100
					}
					change_variable = { 
						name = prod_has_mud
						divide = prev.var:prod_has_mud
					}
				}
				change_variable = { 
					name = prod_has_mud
					multiply = 100
				}
				change_variable = { 
					name = prod_has_mud
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_mud
					multiply = prev.var:trade_has_mud
				}
				change_variable = { 
					name = prod_has_mud
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_mud
						var:prod_has_mud > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_mud
						multiply = prev.var:prod_has_mud
					}
					change_variable = { 
						name = prod_has_mud
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_mud
				var:trade_earn_mud > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_mud
					var:prod_has_mud > 0
				}
				set_variable = { 
					name = prod_earn_mud
					value = var:prod_has_mud
				}
				change_variable = { 
					name = prod_earn_mud
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_mud
					divide = prev.var:trade_has_mud
				}
				change_variable = { 
					name = prod_earn_mud
					multiply = prev.var:trade_earn_mud
				}
				change_variable = { 
					name = prod_earn_mud
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_mud
						var:prod_has_mud > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_mud
						value = var:prod_has_mud
					}
					change_variable = { 
						name = prod_earn_mud
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_mud
						divide = prev.var:prod_has_mud
					}
					change_variable = { 
						name = prod_earn_mud
						multiply = prev.var:prod_earn_mud
					}
					change_variable = { 
						name = prod_earn_mud
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_fuel
			subtract = var:trade_out_fuel
		}
		change_variable = { 
			name = trade_has_fuel
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_fuel
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_fuel
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_fuel
					add = var:prod_sply_old_fuel
				}
				prev = { 
					change_variable = { 
						name = prod_has_fuel
						add = prev.var:prod_has_fuel
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_fuel
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_fuel
					var:prod_has_fuel > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fuel
						var:prod_has_fuel > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fuel
						multiply = 100
					}
					change_variable = { 
						name = prod_has_fuel
						divide = prev.var:prod_has_fuel
					}
				}
				change_variable = { 
					name = prod_has_fuel
					multiply = 100
				}
				change_variable = { 
					name = prod_has_fuel
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_fuel
					multiply = prev.var:trade_has_fuel
				}
				change_variable = { 
					name = prod_has_fuel
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fuel
						var:prod_has_fuel > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fuel
						multiply = prev.var:prod_has_fuel
					}
					change_variable = { 
						name = prod_has_fuel
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_fuel
				var:trade_earn_fuel > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_fuel
					var:prod_has_fuel > 0
				}
				set_variable = { 
					name = prod_earn_fuel
					value = var:prod_has_fuel
				}
				change_variable = { 
					name = prod_earn_fuel
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_fuel
					divide = prev.var:trade_has_fuel
				}
				change_variable = { 
					name = prod_earn_fuel
					multiply = prev.var:trade_earn_fuel
				}
				change_variable = { 
					name = prod_earn_fuel
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fuel
						var:prod_has_fuel > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_fuel
						value = var:prod_has_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_fuel
						divide = prev.var:prod_has_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						multiply = prev.var:prod_earn_fuel
					}
					change_variable = { 
						name = prod_earn_fuel
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_fiber
			subtract = var:trade_out_fiber
		}
		change_variable = { 
			name = trade_has_fiber
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_fiber
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_fiber
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_fiber
					add = var:prod_sply_old_fiber
				}
				prev = { 
					change_variable = { 
						name = prod_has_fiber
						add = prev.var:prod_has_fiber
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_fiber
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_fiber
					var:prod_has_fiber > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fiber
						var:prod_has_fiber > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fiber
						multiply = 100
					}
					change_variable = { 
						name = prod_has_fiber
						divide = prev.var:prod_has_fiber
					}
				}
				change_variable = { 
					name = prod_has_fiber
					multiply = 100
				}
				change_variable = { 
					name = prod_has_fiber
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_fiber
					multiply = prev.var:trade_has_fiber
				}
				change_variable = { 
					name = prod_has_fiber
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fiber
						var:prod_has_fiber > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_fiber
						multiply = prev.var:prod_has_fiber
					}
					change_variable = { 
						name = prod_has_fiber
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_fiber
				var:trade_earn_fiber > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_fiber
					var:prod_has_fiber > 0
				}
				set_variable = { 
					name = prod_earn_fiber
					value = var:prod_has_fiber
				}
				change_variable = { 
					name = prod_earn_fiber
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_fiber
					divide = prev.var:trade_has_fiber
				}
				change_variable = { 
					name = prod_earn_fiber
					multiply = prev.var:trade_earn_fiber
				}
				change_variable = { 
					name = prod_earn_fiber
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_fiber
						var:prod_has_fiber > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_fiber
						value = var:prod_has_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_fiber
						divide = prev.var:prod_has_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						multiply = prev.var:prod_earn_fiber
					}
					change_variable = { 
						name = prod_earn_fiber
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_timber
			subtract = var:trade_out_timber
		}
		change_variable = { 
			name = trade_has_timber
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_timber
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_timber
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_timber
					add = var:prod_sply_old_timber
				}
				prev = { 
					change_variable = { 
						name = prod_has_timber
						add = prev.var:prod_has_timber
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_timber
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_timber
					var:prod_has_timber > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_timber
						var:prod_has_timber > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_timber
						multiply = 100
					}
					change_variable = { 
						name = prod_has_timber
						divide = prev.var:prod_has_timber
					}
				}
				change_variable = { 
					name = prod_has_timber
					multiply = 100
				}
				change_variable = { 
					name = prod_has_timber
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_timber
					multiply = prev.var:trade_has_timber
				}
				change_variable = { 
					name = prod_has_timber
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_timber
						var:prod_has_timber > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_timber
						multiply = prev.var:prod_has_timber
					}
					change_variable = { 
						name = prod_has_timber
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_timber
				var:trade_earn_timber > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_timber
					var:prod_has_timber > 0
				}
				set_variable = { 
					name = prod_earn_timber
					value = var:prod_has_timber
				}
				change_variable = { 
					name = prod_earn_timber
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_timber
					divide = prev.var:trade_has_timber
				}
				change_variable = { 
					name = prod_earn_timber
					multiply = prev.var:trade_earn_timber
				}
				change_variable = { 
					name = prod_earn_timber
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_timber
						var:prod_has_timber > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_timber
						value = var:prod_has_timber
					}
					change_variable = { 
						name = prod_earn_timber
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_timber
						divide = prev.var:prod_has_timber
					}
					change_variable = { 
						name = prod_earn_timber
						multiply = prev.var:prod_earn_timber
					}
					change_variable = { 
						name = prod_earn_timber
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_metal
			subtract = var:trade_out_metal
		}
		change_variable = { 
			name = trade_has_metal
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_metal
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_metal
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_metal
					add = var:prod_sply_old_metal
				}
				prev = { 
					change_variable = { 
						name = prod_has_metal
						add = prev.var:prod_has_metal
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_metal
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_metal
					var:prod_has_metal > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_metal
						var:prod_has_metal > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_metal
						multiply = 100
					}
					change_variable = { 
						name = prod_has_metal
						divide = prev.var:prod_has_metal
					}
				}
				change_variable = { 
					name = prod_has_metal
					multiply = 100
				}
				change_variable = { 
					name = prod_has_metal
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_metal
					multiply = prev.var:trade_has_metal
				}
				change_variable = { 
					name = prod_has_metal
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_metal
						var:prod_has_metal > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_metal
						multiply = prev.var:prod_has_metal
					}
					change_variable = { 
						name = prod_has_metal
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_metal
				var:trade_earn_metal > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_metal
					var:prod_has_metal > 0
				}
				set_variable = { 
					name = prod_earn_metal
					value = var:prod_has_metal
				}
				change_variable = { 
					name = prod_earn_metal
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_metal
					divide = prev.var:trade_has_metal
				}
				change_variable = { 
					name = prod_earn_metal
					multiply = prev.var:trade_earn_metal
				}
				change_variable = { 
					name = prod_earn_metal
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_metal
						var:prod_has_metal > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_metal
						value = var:prod_has_metal
					}
					change_variable = { 
						name = prod_earn_metal
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_metal
						divide = prev.var:prod_has_metal
					}
					change_variable = { 
						name = prod_earn_metal
						multiply = prev.var:prod_earn_metal
					}
					change_variable = { 
						name = prod_earn_metal
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_exotics_w
			subtract = var:trade_out_exotics_w
		}
		change_variable = { 
			name = trade_has_exotics_w
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_exotics_w
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_exotics_w
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_exotics_w
					add = var:prod_sply_old_exotics_w
				}
				prev = { 
					change_variable = { 
						name = prod_has_exotics_w
						add = prev.var:prod_has_exotics_w
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_exotics_w
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_w
					var:prod_has_exotics_w > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_w
						var:prod_has_exotics_w > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_w
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_w
						divide = prev.var:prod_has_exotics_w
					}
				}
				change_variable = { 
					name = prod_has_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = prod_has_exotics_w
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_exotics_w
					multiply = prev.var:trade_has_exotics_w
				}
				change_variable = { 
					name = prod_has_exotics_w
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_w
						var:prod_has_exotics_w > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_w
						multiply = prev.var:prod_has_exotics_w
					}
					change_variable = { 
						name = prod_has_exotics_w
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_exotics_w
				var:trade_earn_exotics_w > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_w
					var:prod_has_exotics_w > 0
				}
				set_variable = { 
					name = prod_earn_exotics_w
					value = var:prod_has_exotics_w
				}
				change_variable = { 
					name = prod_earn_exotics_w
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_exotics_w
					divide = prev.var:trade_has_exotics_w
				}
				change_variable = { 
					name = prod_earn_exotics_w
					multiply = prev.var:trade_earn_exotics_w
				}
				change_variable = { 
					name = prod_earn_exotics_w
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_w
						var:prod_has_exotics_w > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_exotics_w
						value = var:prod_has_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_w
						divide = prev.var:prod_has_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						multiply = prev.var:prod_earn_exotics_w
					}
					change_variable = { 
						name = prod_earn_exotics_w
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_exotics_e
			subtract = var:trade_out_exotics_e
		}
		change_variable = { 
			name = trade_has_exotics_e
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_exotics_e
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_exotics_e
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_exotics_e
					add = var:prod_sply_old_exotics_e
				}
				prev = { 
					change_variable = { 
						name = prod_has_exotics_e
						add = prev.var:prod_has_exotics_e
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_exotics_e
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_e
					var:prod_has_exotics_e > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_e
						var:prod_has_exotics_e > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_e
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_e
						divide = prev.var:prod_has_exotics_e
					}
				}
				change_variable = { 
					name = prod_has_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = prod_has_exotics_e
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_exotics_e
					multiply = prev.var:trade_has_exotics_e
				}
				change_variable = { 
					name = prod_has_exotics_e
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_e
						var:prod_has_exotics_e > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_e
						multiply = prev.var:prod_has_exotics_e
					}
					change_variable = { 
						name = prod_has_exotics_e
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_exotics_e
				var:trade_earn_exotics_e > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_e
					var:prod_has_exotics_e > 0
				}
				set_variable = { 
					name = prod_earn_exotics_e
					value = var:prod_has_exotics_e
				}
				change_variable = { 
					name = prod_earn_exotics_e
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_exotics_e
					divide = prev.var:trade_has_exotics_e
				}
				change_variable = { 
					name = prod_earn_exotics_e
					multiply = prev.var:trade_earn_exotics_e
				}
				change_variable = { 
					name = prod_earn_exotics_e
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_e
						var:prod_has_exotics_e > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_exotics_e
						value = var:prod_has_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_e
						divide = prev.var:prod_has_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						multiply = prev.var:prod_earn_exotics_e
					}
					change_variable = { 
						name = prod_earn_exotics_e
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_exotics_g
			subtract = var:trade_out_exotics_g
		}
		change_variable = { 
			name = trade_has_exotics_g
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_exotics_g
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_exotics_g
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_exotics_g
					add = var:prod_sply_old_exotics_g
				}
				prev = { 
					change_variable = { 
						name = prod_has_exotics_g
						add = prev.var:prod_has_exotics_g
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_exotics_g
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_g
					var:prod_has_exotics_g > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_g
						var:prod_has_exotics_g > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_g
						multiply = 100
					}
					change_variable = { 
						name = prod_has_exotics_g
						divide = prev.var:prod_has_exotics_g
					}
				}
				change_variable = { 
					name = prod_has_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = prod_has_exotics_g
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_exotics_g
					multiply = prev.var:trade_has_exotics_g
				}
				change_variable = { 
					name = prod_has_exotics_g
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_g
						var:prod_has_exotics_g > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_exotics_g
						multiply = prev.var:prod_has_exotics_g
					}
					change_variable = { 
						name = prod_has_exotics_g
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_exotics_g
				var:trade_earn_exotics_g > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_exotics_g
					var:prod_has_exotics_g > 0
				}
				set_variable = { 
					name = prod_earn_exotics_g
					value = var:prod_has_exotics_g
				}
				change_variable = { 
					name = prod_earn_exotics_g
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_exotics_g
					divide = prev.var:trade_has_exotics_g
				}
				change_variable = { 
					name = prod_earn_exotics_g
					multiply = prev.var:trade_earn_exotics_g
				}
				change_variable = { 
					name = prod_earn_exotics_g
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_exotics_g
						var:prod_has_exotics_g > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_exotics_g
						value = var:prod_has_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_exotics_g
						divide = prev.var:prod_has_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						multiply = prev.var:prod_earn_exotics_g
					}
					change_variable = { 
						name = prod_earn_exotics_g
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_textile
			subtract = var:trade_out_textile
		}
		change_variable = { 
			name = trade_has_textile
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_textile
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_textile
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_textile
					add = var:prod_sply_old_textile
				}
				prev = { 
					change_variable = { 
						name = prod_has_textile
						add = prev.var:prod_has_textile
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_textile
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_textile
					var:prod_has_textile > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_textile
						var:prod_has_textile > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_textile
						multiply = 100
					}
					change_variable = { 
						name = prod_has_textile
						divide = prev.var:prod_has_textile
					}
				}
				change_variable = { 
					name = prod_has_textile
					multiply = 100
				}
				change_variable = { 
					name = prod_has_textile
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_textile
					multiply = prev.var:trade_has_textile
				}
				change_variable = { 
					name = prod_has_textile
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_textile
						var:prod_has_textile > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_textile
						multiply = prev.var:prod_has_textile
					}
					change_variable = { 
						name = prod_has_textile
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_textile
				var:trade_earn_textile > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_textile
					var:prod_has_textile > 0
				}
				set_variable = { 
					name = prod_earn_textile
					value = var:prod_has_textile
				}
				change_variable = { 
					name = prod_earn_textile
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_textile
					divide = prev.var:trade_has_textile
				}
				change_variable = { 
					name = prod_earn_textile
					multiply = prev.var:trade_earn_textile
				}
				change_variable = { 
					name = prod_earn_textile
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_textile
						var:prod_has_textile > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_textile
						value = var:prod_has_textile
					}
					change_variable = { 
						name = prod_earn_textile
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_textile
						divide = prev.var:prod_has_textile
					}
					change_variable = { 
						name = prod_earn_textile
						multiply = prev.var:prod_earn_textile
					}
					change_variable = { 
						name = prod_earn_textile
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_pottery
			subtract = var:trade_out_pottery
		}
		change_variable = { 
			name = trade_has_pottery
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_pottery
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_pottery
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_pottery
					add = var:prod_sply_old_pottery
				}
				prev = { 
					change_variable = { 
						name = prod_has_pottery
						add = prev.var:prod_has_pottery
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_pottery
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_pottery
					var:prod_has_pottery > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_pottery
						var:prod_has_pottery > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_pottery
						multiply = 100
					}
					change_variable = { 
						name = prod_has_pottery
						divide = prev.var:prod_has_pottery
					}
				}
				change_variable = { 
					name = prod_has_pottery
					multiply = 100
				}
				change_variable = { 
					name = prod_has_pottery
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_pottery
					multiply = prev.var:trade_has_pottery
				}
				change_variable = { 
					name = prod_has_pottery
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_pottery
						var:prod_has_pottery > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_pottery
						multiply = prev.var:prod_has_pottery
					}
					change_variable = { 
						name = prod_has_pottery
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_pottery
				var:trade_earn_pottery > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_pottery
					var:prod_has_pottery > 0
				}
				set_variable = { 
					name = prod_earn_pottery
					value = var:prod_has_pottery
				}
				change_variable = { 
					name = prod_earn_pottery
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_pottery
					divide = prev.var:trade_has_pottery
				}
				change_variable = { 
					name = prod_earn_pottery
					multiply = prev.var:trade_earn_pottery
				}
				change_variable = { 
					name = prod_earn_pottery
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_pottery
						var:prod_has_pottery > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_pottery
						value = var:prod_has_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_pottery
						divide = prev.var:prod_has_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						multiply = prev.var:prod_earn_pottery
					}
					change_variable = { 
						name = prod_earn_pottery
						divide = 100
					}
				}
			}
		}
		change_variable = { 
			name = trade_has_tools
			subtract = var:trade_out_tools
		}
		change_variable = { 
			name = trade_has_tools
			multiply = 0.99
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_county_province = { 
			limit = { 
				is_valid_prov = yes
			}
			set_variable = { 
				name = prod_has_tools
				value = 0
			}
			every_in_list = { 
				limit = { 
					has_variable = prod_sply_old_tools
				}
				variable = prod_instances
				change_variable = { 
					name = prod_has_tools
					add = var:prod_sply_old_tools
				}
				prev = { 
					change_variable = { 
						name = prod_has_tools
						add = prev.var:prod_has_tools
					}
				}
			}
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_has_tools
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_resolve_trade_t
				var:trade_resolve_trade_t > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_tools
					var:prod_has_tools > 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_tools
						var:prod_has_tools > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_tools
						multiply = 100
					}
					change_variable = { 
						name = prod_has_tools
						divide = prev.var:prod_has_tools
					}
				}
				change_variable = { 
					name = prod_has_tools
					multiply = 100
				}
				change_variable = { 
					name = prod_has_tools
					divide = prev.var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_has_tools
					multiply = prev.var:trade_has_tools
				}
				change_variable = { 
					name = prod_has_tools
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_tools
						var:prod_has_tools > 0
					}
					variable = prod_instances
					change_variable = { 
						name = prod_has_tools
						multiply = prev.var:prod_has_tools
					}
					change_variable = { 
						name = prod_has_tools
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_earn_tools
				var:trade_earn_tools > 0
			}
			every_county_province = { 
				limit = { 
					has_variable = prod_has_tools
					var:prod_has_tools > 0
				}
				set_variable = { 
					name = prod_earn_tools
					value = var:prod_has_tools
				}
				change_variable = { 
					name = prod_earn_tools
					multiply = 100
				}
				change_variable = { 
					name = prod_earn_tools
					divide = prev.var:trade_has_tools
				}
				change_variable = { 
					name = prod_earn_tools
					multiply = prev.var:trade_earn_tools
				}
				change_variable = { 
					name = prod_earn_tools
					divide = 100
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_has_tools
						var:prod_has_tools > 0
					}
					variable = prod_instances
					set_variable = { 
						name = prod_earn_tools
						value = var:prod_has_tools
					}
					change_variable = { 
						name = prod_earn_tools
						multiply = 100
					}
					change_variable = { 
						name = prod_earn_tools
						divide = prev.var:prod_has_tools
					}
					change_variable = { 
						name = prod_earn_tools
						multiply = prev.var:prod_earn_tools
					}
					change_variable = { 
						name = prod_earn_tools
						divide = 100
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_food
				var:trade_dmnd_food > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_food
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_food
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_food
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_food
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_food
				}
				set_variable = { 
					name = prod_tools_in_food
					value = var:prod_tools_dmnd_food
				}
				change_variable = { 
					name = prod_tools_in_food
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_food
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_food
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_food
						var:pop_calorie_food > 0
					}
					set_variable = { 
						name = pop_calorie_actual_food
						value = var:pop_calorie_food
					}
					change_variable = { 
						name = pop_calorie_actual_food
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_food
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_food
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_food
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_food
						var:pop_nutrient_food > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_food
						value = var:pop_nutrient_food
					}
					change_variable = { 
						name = pop_nutrient_actual_food
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_food
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_food
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_food
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_food
						var:pop_comfort_food > 0
					}
					set_variable = { 
						name = pop_comfort_actual_food
						value = var:pop_comfort_food
					}
					change_variable = { 
						name = pop_comfort_actual_food
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_food
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_food
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_food
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_food
						var:pop_luxury_food > 0
					}
					set_variable = { 
						name = pop_luxury_actual_food
						value = var:pop_luxury_food
					}
					change_variable = { 
						name = pop_luxury_actual_food
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_food
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_food
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_food
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_food
						}
						set_variable = { 
							name = prod_in_food
							value = var:prod_dmnd_food
						}
						change_variable = { 
							name = prod_in_food
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_food
							divide = 100
						}
						set_variable = { 
							name = prod_pay_food
							value = var:prod_dmnd_food
						}
						change_variable = { 
							name = prod_pay_food
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_food
					}
					variable = build_slots
					set_variable = { 
						name = build_in_food
						value = var:build_food
					}
					change_variable = { 
						name = build_in_food
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_food
						divide = 100
					}
					set_variable = { 
						name = build_pay_food
						value = var:build_food
					}
					change_variable = { 
						name = build_pay_food
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_food
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_food
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_food
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_food
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_food
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_food
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_food
						value = 0
					}
					set_variable = { 
						name = prod_pay_food
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_food
					}
					variable = build_slots
					set_variable = { 
						name = build_in_food
						value = 0
					}
					set_variable = { 
						name = build_pay_food
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_cereal
				var:trade_dmnd_cereal > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_cereal
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_cereal
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_cereal
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_cereal
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_cereal
				}
				set_variable = { 
					name = prod_tools_in_cereal
					value = var:prod_tools_dmnd_cereal
				}
				change_variable = { 
					name = prod_tools_in_cereal
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_cereal
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_cereal
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_cereal
						var:pop_calorie_cereal > 0
					}
					set_variable = { 
						name = pop_calorie_actual_cereal
						value = var:pop_calorie_cereal
					}
					change_variable = { 
						name = pop_calorie_actual_cereal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_cereal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_cereal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_cereal
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_cereal
						var:pop_nutrient_cereal > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_cereal
						value = var:pop_nutrient_cereal
					}
					change_variable = { 
						name = pop_nutrient_actual_cereal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_cereal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_cereal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_cereal
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_cereal
						var:pop_comfort_cereal > 0
					}
					set_variable = { 
						name = pop_comfort_actual_cereal
						value = var:pop_comfort_cereal
					}
					change_variable = { 
						name = pop_comfort_actual_cereal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_cereal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_cereal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_cereal
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_cereal
						var:pop_luxury_cereal > 0
					}
					set_variable = { 
						name = pop_luxury_actual_cereal
						value = var:pop_luxury_cereal
					}
					change_variable = { 
						name = pop_luxury_actual_cereal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_cereal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_cereal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_cereal
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_cereal
						}
						set_variable = { 
							name = prod_in_cereal
							value = var:prod_dmnd_cereal
						}
						change_variable = { 
							name = prod_in_cereal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_cereal
							divide = 100
						}
						set_variable = { 
							name = prod_pay_cereal
							value = var:prod_dmnd_cereal
						}
						change_variable = { 
							name = prod_pay_cereal
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_cereal
					}
					variable = build_slots
					set_variable = { 
						name = build_in_cereal
						value = var:build_cereal
					}
					change_variable = { 
						name = build_in_cereal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_cereal
						divide = 100
					}
					set_variable = { 
						name = build_pay_cereal
						value = var:build_cereal
					}
					change_variable = { 
						name = build_pay_cereal
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_cereal
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_cereal
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_cereal
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_cereal
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_cereal
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_cereal
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_cereal
						value = 0
					}
					set_variable = { 
						name = prod_pay_cereal
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_cereal
					}
					variable = build_slots
					set_variable = { 
						name = build_in_cereal
						value = 0
					}
					set_variable = { 
						name = build_pay_cereal
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_salted
				var:trade_dmnd_salted > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_salted
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_salted
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_salted
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_salted
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salted
				}
				set_variable = { 
					name = prod_tools_in_salted
					value = var:prod_tools_dmnd_salted
				}
				change_variable = { 
					name = prod_tools_in_salted
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_salted
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_salted
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_salted
						var:pop_calorie_salted > 0
					}
					set_variable = { 
						name = pop_calorie_actual_salted
						value = var:pop_calorie_salted
					}
					change_variable = { 
						name = pop_calorie_actual_salted
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_salted
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_salted
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_salted
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_salted
						var:pop_nutrient_salted > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_salted
						value = var:pop_nutrient_salted
					}
					change_variable = { 
						name = pop_nutrient_actual_salted
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_salted
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_salted
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_salted
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_salted
						var:pop_comfort_salted > 0
					}
					set_variable = { 
						name = pop_comfort_actual_salted
						value = var:pop_comfort_salted
					}
					change_variable = { 
						name = pop_comfort_actual_salted
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_salted
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_salted
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_salted
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_salted
						var:pop_luxury_salted > 0
					}
					set_variable = { 
						name = pop_luxury_actual_salted
						value = var:pop_luxury_salted
					}
					change_variable = { 
						name = pop_luxury_actual_salted
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_salted
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_salted
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_salted
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_salted
						}
						set_variable = { 
							name = prod_in_salted
							value = var:prod_dmnd_salted
						}
						change_variable = { 
							name = prod_in_salted
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_salted
							divide = 100
						}
						set_variable = { 
							name = prod_pay_salted
							value = var:prod_dmnd_salted
						}
						change_variable = { 
							name = prod_pay_salted
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_salted
					}
					variable = build_slots
					set_variable = { 
						name = build_in_salted
						value = var:build_salted
					}
					change_variable = { 
						name = build_in_salted
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_salted
						divide = 100
					}
					set_variable = { 
						name = build_pay_salted
						value = var:build_salted
					}
					change_variable = { 
						name = build_pay_salted
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_salted
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_salted
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_salted
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_salted
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_salted
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_salted
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_salted
						value = 0
					}
					set_variable = { 
						name = prod_pay_salted
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_salted
					}
					variable = build_slots
					set_variable = { 
						name = build_in_salted
						value = 0
					}
					set_variable = { 
						name = build_pay_salted
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_salt
				var:trade_dmnd_salt > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_salt
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_salt
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_salt
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_salt
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_salt
				}
				set_variable = { 
					name = prod_tools_in_salt
					value = var:prod_tools_dmnd_salt
				}
				change_variable = { 
					name = prod_tools_in_salt
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_salt
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_salt
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_salt
						var:pop_calorie_salt > 0
					}
					set_variable = { 
						name = pop_calorie_actual_salt
						value = var:pop_calorie_salt
					}
					change_variable = { 
						name = pop_calorie_actual_salt
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_salt
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_salt
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_salt
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_salt
						var:pop_nutrient_salt > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_salt
						value = var:pop_nutrient_salt
					}
					change_variable = { 
						name = pop_nutrient_actual_salt
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_salt
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_salt
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_salt
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_salt
						var:pop_comfort_salt > 0
					}
					set_variable = { 
						name = pop_comfort_actual_salt
						value = var:pop_comfort_salt
					}
					change_variable = { 
						name = pop_comfort_actual_salt
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_salt
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_salt
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_salt
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_salt
						var:pop_luxury_salt > 0
					}
					set_variable = { 
						name = pop_luxury_actual_salt
						value = var:pop_luxury_salt
					}
					change_variable = { 
						name = pop_luxury_actual_salt
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_salt
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_salt
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_salt
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_salt
						}
						set_variable = { 
							name = prod_in_salt
							value = var:prod_dmnd_salt
						}
						change_variable = { 
							name = prod_in_salt
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_salt
							divide = 100
						}
						set_variable = { 
							name = prod_pay_salt
							value = var:prod_dmnd_salt
						}
						change_variable = { 
							name = prod_pay_salt
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_salt
					}
					variable = build_slots
					set_variable = { 
						name = build_in_salt
						value = var:build_salt
					}
					change_variable = { 
						name = build_in_salt
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_salt
						divide = 100
					}
					set_variable = { 
						name = build_pay_salt
						value = var:build_salt
					}
					change_variable = { 
						name = build_pay_salt
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_salt
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_salt
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_salt
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_salt
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_salt
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_salt
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_salt
						value = 0
					}
					set_variable = { 
						name = prod_pay_salt
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_salt
					}
					variable = build_slots
					set_variable = { 
						name = build_in_salt
						value = 0
					}
					set_variable = { 
						name = build_pay_salt
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_mud
				var:trade_dmnd_mud > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_mud
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_mud
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_mud
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_mud
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_mud
				}
				set_variable = { 
					name = prod_tools_in_mud
					value = var:prod_tools_dmnd_mud
				}
				change_variable = { 
					name = prod_tools_in_mud
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_mud
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_mud
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_mud
						var:pop_calorie_mud > 0
					}
					set_variable = { 
						name = pop_calorie_actual_mud
						value = var:pop_calorie_mud
					}
					change_variable = { 
						name = pop_calorie_actual_mud
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_mud
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_mud
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_mud
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_mud
						var:pop_nutrient_mud > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_mud
						value = var:pop_nutrient_mud
					}
					change_variable = { 
						name = pop_nutrient_actual_mud
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_mud
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_mud
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_mud
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_mud
						var:pop_comfort_mud > 0
					}
					set_variable = { 
						name = pop_comfort_actual_mud
						value = var:pop_comfort_mud
					}
					change_variable = { 
						name = pop_comfort_actual_mud
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_mud
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_mud
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_mud
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_mud
						var:pop_luxury_mud > 0
					}
					set_variable = { 
						name = pop_luxury_actual_mud
						value = var:pop_luxury_mud
					}
					change_variable = { 
						name = pop_luxury_actual_mud
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_mud
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_mud
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_mud
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_mud
						}
						set_variable = { 
							name = prod_in_mud
							value = var:prod_dmnd_mud
						}
						change_variable = { 
							name = prod_in_mud
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_mud
							divide = 100
						}
						set_variable = { 
							name = prod_pay_mud
							value = var:prod_dmnd_mud
						}
						change_variable = { 
							name = prod_pay_mud
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_mud
					}
					variable = build_slots
					set_variable = { 
						name = build_in_mud
						value = var:build_mud
					}
					change_variable = { 
						name = build_in_mud
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_mud
						divide = 100
					}
					set_variable = { 
						name = build_pay_mud
						value = var:build_mud
					}
					change_variable = { 
						name = build_pay_mud
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_mud
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_mud
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_mud
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_mud
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_mud
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_mud
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_mud
						value = 0
					}
					set_variable = { 
						name = prod_pay_mud
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_mud
					}
					variable = build_slots
					set_variable = { 
						name = build_in_mud
						value = 0
					}
					set_variable = { 
						name = build_pay_mud
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_fuel
				var:trade_dmnd_fuel > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_fuel
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_fuel
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_fuel
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_fuel
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fuel
				}
				set_variable = { 
					name = prod_tools_in_fuel
					value = var:prod_tools_dmnd_fuel
				}
				change_variable = { 
					name = prod_tools_in_fuel
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_fuel
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_fuel
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_fuel
						var:pop_calorie_fuel > 0
					}
					set_variable = { 
						name = pop_calorie_actual_fuel
						value = var:pop_calorie_fuel
					}
					change_variable = { 
						name = pop_calorie_actual_fuel
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_fuel
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_fuel
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_fuel
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_fuel
						var:pop_nutrient_fuel > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_fuel
						value = var:pop_nutrient_fuel
					}
					change_variable = { 
						name = pop_nutrient_actual_fuel
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_fuel
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_fuel
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_fuel
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_fuel
						var:pop_comfort_fuel > 0
					}
					set_variable = { 
						name = pop_comfort_actual_fuel
						value = var:pop_comfort_fuel
					}
					change_variable = { 
						name = pop_comfort_actual_fuel
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_fuel
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_fuel
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_fuel
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_fuel
						var:pop_luxury_fuel > 0
					}
					set_variable = { 
						name = pop_luxury_actual_fuel
						value = var:pop_luxury_fuel
					}
					change_variable = { 
						name = pop_luxury_actual_fuel
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_fuel
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_fuel
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_fuel
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_fuel
						}
						set_variable = { 
							name = prod_in_fuel
							value = var:prod_dmnd_fuel
						}
						change_variable = { 
							name = prod_in_fuel
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_fuel
							divide = 100
						}
						set_variable = { 
							name = prod_pay_fuel
							value = var:prod_dmnd_fuel
						}
						change_variable = { 
							name = prod_pay_fuel
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_fuel
					}
					variable = build_slots
					set_variable = { 
						name = build_in_fuel
						value = var:build_fuel
					}
					change_variable = { 
						name = build_in_fuel
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_fuel
						divide = 100
					}
					set_variable = { 
						name = build_pay_fuel
						value = var:build_fuel
					}
					change_variable = { 
						name = build_pay_fuel
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_fuel
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_fuel
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_fuel
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_fuel
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_fuel
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_fuel
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_fuel
						value = 0
					}
					set_variable = { 
						name = prod_pay_fuel
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_fuel
					}
					variable = build_slots
					set_variable = { 
						name = build_in_fuel
						value = 0
					}
					set_variable = { 
						name = build_pay_fuel
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_fiber
				var:trade_dmnd_fiber > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_fiber
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_fiber
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_fiber
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_fiber
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_fiber
				}
				set_variable = { 
					name = prod_tools_in_fiber
					value = var:prod_tools_dmnd_fiber
				}
				change_variable = { 
					name = prod_tools_in_fiber
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_fiber
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_fiber
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_fiber
						var:pop_calorie_fiber > 0
					}
					set_variable = { 
						name = pop_calorie_actual_fiber
						value = var:pop_calorie_fiber
					}
					change_variable = { 
						name = pop_calorie_actual_fiber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_fiber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_fiber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_fiber
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_fiber
						var:pop_nutrient_fiber > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_fiber
						value = var:pop_nutrient_fiber
					}
					change_variable = { 
						name = pop_nutrient_actual_fiber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_fiber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_fiber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_fiber
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_fiber
						var:pop_comfort_fiber > 0
					}
					set_variable = { 
						name = pop_comfort_actual_fiber
						value = var:pop_comfort_fiber
					}
					change_variable = { 
						name = pop_comfort_actual_fiber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_fiber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_fiber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_fiber
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_fiber
						var:pop_luxury_fiber > 0
					}
					set_variable = { 
						name = pop_luxury_actual_fiber
						value = var:pop_luxury_fiber
					}
					change_variable = { 
						name = pop_luxury_actual_fiber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_fiber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_fiber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_fiber
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_fiber
						}
						set_variable = { 
							name = prod_in_fiber
							value = var:prod_dmnd_fiber
						}
						change_variable = { 
							name = prod_in_fiber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_fiber
							divide = 100
						}
						set_variable = { 
							name = prod_pay_fiber
							value = var:prod_dmnd_fiber
						}
						change_variable = { 
							name = prod_pay_fiber
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_fiber
					}
					variable = build_slots
					set_variable = { 
						name = build_in_fiber
						value = var:build_fiber
					}
					change_variable = { 
						name = build_in_fiber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_fiber
						divide = 100
					}
					set_variable = { 
						name = build_pay_fiber
						value = var:build_fiber
					}
					change_variable = { 
						name = build_pay_fiber
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_fiber
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_fiber
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_fiber
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_fiber
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_fiber
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_fiber
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_fiber
						value = 0
					}
					set_variable = { 
						name = prod_pay_fiber
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_fiber
					}
					variable = build_slots
					set_variable = { 
						name = build_in_fiber
						value = 0
					}
					set_variable = { 
						name = build_pay_fiber
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_timber
				var:trade_dmnd_timber > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_timber
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_timber
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_timber
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_timber
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_timber
				}
				set_variable = { 
					name = prod_tools_in_timber
					value = var:prod_tools_dmnd_timber
				}
				change_variable = { 
					name = prod_tools_in_timber
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_timber
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_timber
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_timber
						var:pop_calorie_timber > 0
					}
					set_variable = { 
						name = pop_calorie_actual_timber
						value = var:pop_calorie_timber
					}
					change_variable = { 
						name = pop_calorie_actual_timber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_timber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_timber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_timber
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_timber
						var:pop_nutrient_timber > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_timber
						value = var:pop_nutrient_timber
					}
					change_variable = { 
						name = pop_nutrient_actual_timber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_timber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_timber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_timber
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_timber
						var:pop_comfort_timber > 0
					}
					set_variable = { 
						name = pop_comfort_actual_timber
						value = var:pop_comfort_timber
					}
					change_variable = { 
						name = pop_comfort_actual_timber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_timber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_timber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_timber
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_timber
						var:pop_luxury_timber > 0
					}
					set_variable = { 
						name = pop_luxury_actual_timber
						value = var:pop_luxury_timber
					}
					change_variable = { 
						name = pop_luxury_actual_timber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_timber
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_timber
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_timber
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_timber
						}
						set_variable = { 
							name = prod_in_timber
							value = var:prod_dmnd_timber
						}
						change_variable = { 
							name = prod_in_timber
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_timber
							divide = 100
						}
						set_variable = { 
							name = prod_pay_timber
							value = var:prod_dmnd_timber
						}
						change_variable = { 
							name = prod_pay_timber
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_timber
					}
					variable = build_slots
					set_variable = { 
						name = build_in_timber
						value = var:build_timber
					}
					change_variable = { 
						name = build_in_timber
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_timber
						divide = 100
					}
					set_variable = { 
						name = build_pay_timber
						value = var:build_timber
					}
					change_variable = { 
						name = build_pay_timber
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_timber
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_timber
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_timber
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_timber
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_timber
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_timber
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_timber
						value = 0
					}
					set_variable = { 
						name = prod_pay_timber
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_timber
					}
					variable = build_slots
					set_variable = { 
						name = build_in_timber
						value = 0
					}
					set_variable = { 
						name = build_pay_timber
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_metal
				var:trade_dmnd_metal > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_metal
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_metal
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_metal
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_metal
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_metal
				}
				set_variable = { 
					name = prod_tools_in_metal
					value = var:prod_tools_dmnd_metal
				}
				change_variable = { 
					name = prod_tools_in_metal
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_metal
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_metal
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_metal
						var:pop_calorie_metal > 0
					}
					set_variable = { 
						name = pop_calorie_actual_metal
						value = var:pop_calorie_metal
					}
					change_variable = { 
						name = pop_calorie_actual_metal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_metal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_metal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_metal
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_metal
						var:pop_nutrient_metal > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_metal
						value = var:pop_nutrient_metal
					}
					change_variable = { 
						name = pop_nutrient_actual_metal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_metal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_metal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_metal
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_metal
						var:pop_comfort_metal > 0
					}
					set_variable = { 
						name = pop_comfort_actual_metal
						value = var:pop_comfort_metal
					}
					change_variable = { 
						name = pop_comfort_actual_metal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_metal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_metal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_metal
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_metal
						var:pop_luxury_metal > 0
					}
					set_variable = { 
						name = pop_luxury_actual_metal
						value = var:pop_luxury_metal
					}
					change_variable = { 
						name = pop_luxury_actual_metal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_metal
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_metal
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_metal
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_metal
						}
						set_variable = { 
							name = prod_in_metal
							value = var:prod_dmnd_metal
						}
						change_variable = { 
							name = prod_in_metal
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_metal
							divide = 100
						}
						set_variable = { 
							name = prod_pay_metal
							value = var:prod_dmnd_metal
						}
						change_variable = { 
							name = prod_pay_metal
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_metal
					}
					variable = build_slots
					set_variable = { 
						name = build_in_metal
						value = var:build_metal
					}
					change_variable = { 
						name = build_in_metal
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_metal
						divide = 100
					}
					set_variable = { 
						name = build_pay_metal
						value = var:build_metal
					}
					change_variable = { 
						name = build_pay_metal
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_metal
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_metal
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_metal
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_metal
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_metal
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_metal
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_metal
						value = 0
					}
					set_variable = { 
						name = prod_pay_metal
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_metal
					}
					variable = build_slots
					set_variable = { 
						name = build_in_metal
						value = 0
					}
					set_variable = { 
						name = build_pay_metal
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_exotics_w
				var:trade_dmnd_exotics_w > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_exotics_w
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_exotics_w
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_exotics_w
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_exotics_w
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_w
				}
				set_variable = { 
					name = prod_tools_in_exotics_w
					value = var:prod_tools_dmnd_exotics_w
				}
				change_variable = { 
					name = prod_tools_in_exotics_w
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_exotics_w
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_exotics_w
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_w
						var:pop_calorie_exotics_w > 0
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_w
						value = var:pop_calorie_exotics_w
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_w
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_w
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_exotics_w
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_exotics_w
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_w
						var:pop_nutrient_exotics_w > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_w
						value = var:pop_nutrient_exotics_w
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_w
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_w
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_exotics_w
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_exotics_w
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_w
						var:pop_comfort_exotics_w > 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_w
						value = var:pop_comfort_exotics_w
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_w
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_w
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_exotics_w
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_exotics_w
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_w
						var:pop_luxury_exotics_w > 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_w
						value = var:pop_luxury_exotics_w
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_w
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_w
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_exotics_w
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_exotics_w
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_w
						}
						set_variable = { 
							name = prod_in_exotics_w
							value = var:prod_dmnd_exotics_w
						}
						change_variable = { 
							name = prod_in_exotics_w
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_exotics_w
							divide = 100
						}
						set_variable = { 
							name = prod_pay_exotics_w
							value = var:prod_dmnd_exotics_w
						}
						change_variable = { 
							name = prod_pay_exotics_w
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_w
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_w
						value = var:build_exotics_w
					}
					change_variable = { 
						name = build_in_exotics_w
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_exotics_w
						divide = 100
					}
					set_variable = { 
						name = build_pay_exotics_w
						value = var:build_exotics_w
					}
					change_variable = { 
						name = build_pay_exotics_w
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_exotics_w
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_exotics_w
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_exotics_w
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_exotics_w
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_exotics_w
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_exotics_w
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_exotics_w
						value = 0
					}
					set_variable = { 
						name = prod_pay_exotics_w
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_w
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_w
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_w
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_exotics_e
				var:trade_dmnd_exotics_e > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_exotics_e
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_exotics_e
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_exotics_e
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_exotics_e
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_e
				}
				set_variable = { 
					name = prod_tools_in_exotics_e
					value = var:prod_tools_dmnd_exotics_e
				}
				change_variable = { 
					name = prod_tools_in_exotics_e
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_exotics_e
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_exotics_e
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_e
						var:pop_calorie_exotics_e > 0
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_e
						value = var:pop_calorie_exotics_e
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_e
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_e
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_exotics_e
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_exotics_e
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_e
						var:pop_nutrient_exotics_e > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_e
						value = var:pop_nutrient_exotics_e
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_e
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_e
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_exotics_e
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_exotics_e
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_e
						var:pop_comfort_exotics_e > 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_e
						value = var:pop_comfort_exotics_e
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_e
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_e
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_exotics_e
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_exotics_e
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_e
						var:pop_luxury_exotics_e > 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_e
						value = var:pop_luxury_exotics_e
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_e
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_e
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_exotics_e
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_exotics_e
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_e
						}
						set_variable = { 
							name = prod_in_exotics_e
							value = var:prod_dmnd_exotics_e
						}
						change_variable = { 
							name = prod_in_exotics_e
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_exotics_e
							divide = 100
						}
						set_variable = { 
							name = prod_pay_exotics_e
							value = var:prod_dmnd_exotics_e
						}
						change_variable = { 
							name = prod_pay_exotics_e
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_e
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_e
						value = var:build_exotics_e
					}
					change_variable = { 
						name = build_in_exotics_e
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_exotics_e
						divide = 100
					}
					set_variable = { 
						name = build_pay_exotics_e
						value = var:build_exotics_e
					}
					change_variable = { 
						name = build_pay_exotics_e
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_exotics_e
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_exotics_e
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_exotics_e
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_exotics_e
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_exotics_e
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_exotics_e
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_exotics_e
						value = 0
					}
					set_variable = { 
						name = prod_pay_exotics_e
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_e
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_e
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_e
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_exotics_g
				var:trade_dmnd_exotics_g > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_exotics_g
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_exotics_g
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_exotics_g
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_exotics_g
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_exotics_g
				}
				set_variable = { 
					name = prod_tools_in_exotics_g
					value = var:prod_tools_dmnd_exotics_g
				}
				change_variable = { 
					name = prod_tools_in_exotics_g
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_exotics_g
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_exotics_g
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_exotics_g
						var:pop_calorie_exotics_g > 0
					}
					set_variable = { 
						name = pop_calorie_actual_exotics_g
						value = var:pop_calorie_exotics_g
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_g
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_exotics_g
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_exotics_g
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_exotics_g
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_exotics_g
						var:pop_nutrient_exotics_g > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_exotics_g
						value = var:pop_nutrient_exotics_g
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_g
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_exotics_g
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_exotics_g
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_exotics_g
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_exotics_g
						var:pop_comfort_exotics_g > 0
					}
					set_variable = { 
						name = pop_comfort_actual_exotics_g
						value = var:pop_comfort_exotics_g
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_g
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_exotics_g
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_exotics_g
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_exotics_g
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_exotics_g
						var:pop_luxury_exotics_g > 0
					}
					set_variable = { 
						name = pop_luxury_actual_exotics_g
						value = var:pop_luxury_exotics_g
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_g
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_exotics_g
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_exotics_g
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_exotics_g
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_exotics_g
						}
						set_variable = { 
							name = prod_in_exotics_g
							value = var:prod_dmnd_exotics_g
						}
						change_variable = { 
							name = prod_in_exotics_g
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_exotics_g
							divide = 100
						}
						set_variable = { 
							name = prod_pay_exotics_g
							value = var:prod_dmnd_exotics_g
						}
						change_variable = { 
							name = prod_pay_exotics_g
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_g
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_g
						value = var:build_exotics_g
					}
					change_variable = { 
						name = build_in_exotics_g
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_exotics_g
						divide = 100
					}
					set_variable = { 
						name = build_pay_exotics_g
						value = var:build_exotics_g
					}
					change_variable = { 
						name = build_pay_exotics_g
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_exotics_g
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_exotics_g
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_exotics_g
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_exotics_g
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_exotics_g
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_exotics_g
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_exotics_g
						value = 0
					}
					set_variable = { 
						name = prod_pay_exotics_g
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_exotics_g
					}
					variable = build_slots
					set_variable = { 
						name = build_in_exotics_g
						value = 0
					}
					set_variable = { 
						name = build_pay_exotics_g
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_textile
				var:trade_dmnd_textile > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_textile
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_textile
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_textile
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_textile
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_textile
				}
				set_variable = { 
					name = prod_tools_in_textile
					value = var:prod_tools_dmnd_textile
				}
				change_variable = { 
					name = prod_tools_in_textile
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_textile
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_textile
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_textile
						var:pop_calorie_textile > 0
					}
					set_variable = { 
						name = pop_calorie_actual_textile
						value = var:pop_calorie_textile
					}
					change_variable = { 
						name = pop_calorie_actual_textile
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_textile
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_textile
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_textile
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_textile
						var:pop_nutrient_textile > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_textile
						value = var:pop_nutrient_textile
					}
					change_variable = { 
						name = pop_nutrient_actual_textile
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_textile
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_textile
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_textile
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_textile
						var:pop_comfort_textile > 0
					}
					set_variable = { 
						name = pop_comfort_actual_textile
						value = var:pop_comfort_textile
					}
					change_variable = { 
						name = pop_comfort_actual_textile
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_textile
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_textile
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_textile
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_textile
						var:pop_luxury_textile > 0
					}
					set_variable = { 
						name = pop_luxury_actual_textile
						value = var:pop_luxury_textile
					}
					change_variable = { 
						name = pop_luxury_actual_textile
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_textile
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_textile
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_textile
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_textile
						}
						set_variable = { 
							name = prod_in_textile
							value = var:prod_dmnd_textile
						}
						change_variable = { 
							name = prod_in_textile
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_textile
							divide = 100
						}
						set_variable = { 
							name = prod_pay_textile
							value = var:prod_dmnd_textile
						}
						change_variable = { 
							name = prod_pay_textile
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_textile
					}
					variable = build_slots
					set_variable = { 
						name = build_in_textile
						value = var:build_textile
					}
					change_variable = { 
						name = build_in_textile
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_textile
						divide = 100
					}
					set_variable = { 
						name = build_pay_textile
						value = var:build_textile
					}
					change_variable = { 
						name = build_pay_textile
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_textile
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_textile
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_textile
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_textile
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_textile
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_textile
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_textile
						value = 0
					}
					set_variable = { 
						name = prod_pay_textile
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_textile
					}
					variable = build_slots
					set_variable = { 
						name = build_in_textile
						value = 0
					}
					set_variable = { 
						name = build_pay_textile
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_pottery
				var:trade_dmnd_pottery > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_pottery
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_pottery
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_pottery
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_pottery
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_pottery
				}
				set_variable = { 
					name = prod_tools_in_pottery
					value = var:prod_tools_dmnd_pottery
				}
				change_variable = { 
					name = prod_tools_in_pottery
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_pottery
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_pottery
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_pottery
						var:pop_calorie_pottery > 0
					}
					set_variable = { 
						name = pop_calorie_actual_pottery
						value = var:pop_calorie_pottery
					}
					change_variable = { 
						name = pop_calorie_actual_pottery
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_pottery
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_pottery
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_pottery
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_pottery
						var:pop_nutrient_pottery > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_pottery
						value = var:pop_nutrient_pottery
					}
					change_variable = { 
						name = pop_nutrient_actual_pottery
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_pottery
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_pottery
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_pottery
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_pottery
						var:pop_comfort_pottery > 0
					}
					set_variable = { 
						name = pop_comfort_actual_pottery
						value = var:pop_comfort_pottery
					}
					change_variable = { 
						name = pop_comfort_actual_pottery
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_pottery
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_pottery
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_pottery
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_pottery
						var:pop_luxury_pottery > 0
					}
					set_variable = { 
						name = pop_luxury_actual_pottery
						value = var:pop_luxury_pottery
					}
					change_variable = { 
						name = pop_luxury_actual_pottery
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_pottery
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_pottery
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_pottery
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_pottery
						}
						set_variable = { 
							name = prod_in_pottery
							value = var:prod_dmnd_pottery
						}
						change_variable = { 
							name = prod_in_pottery
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_pottery
							divide = 100
						}
						set_variable = { 
							name = prod_pay_pottery
							value = var:prod_dmnd_pottery
						}
						change_variable = { 
							name = prod_pay_pottery
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_pottery
					}
					variable = build_slots
					set_variable = { 
						name = build_in_pottery
						value = var:build_pottery
					}
					change_variable = { 
						name = build_in_pottery
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_pottery
						divide = 100
					}
					set_variable = { 
						name = build_pay_pottery
						value = var:build_pottery
					}
					change_variable = { 
						name = build_pay_pottery
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_pottery
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_pottery
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_pottery
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_pottery
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_pottery
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_pottery
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_pottery
						value = 0
					}
					set_variable = { 
						name = prod_pay_pottery
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_pottery
					}
					variable = build_slots
					set_variable = { 
						name = build_in_pottery
						value = 0
					}
					set_variable = { 
						name = build_pay_pottery
						value = 0
					}
				}
			}
		}
		if = { 
			limit = { 
				has_variable = trade_dmnd_tools
				var:trade_dmnd_tools > 0
			}
			set_variable = { 
				name = trade_resolve_trade_t
				value = var:trade_pay_tools
			}
			change_variable = { 
				name = trade_resolve_trade_t
				divide = var:trade_dmnd_tools
			}
			set_variable = { 
				name = trade_resolve_trade_tt
				value = var:trade_in_tools
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				multiply = 100
			}
			change_variable = { 
				name = trade_resolve_trade_tt
				divide = var:trade_dmnd_tools
			}
			if = { 
				limit = { 
					has_variable = prod_tools_dmnd_tools
				}
				set_variable = { 
					name = prod_tools_in_tools
					value = var:prod_tools_dmnd_tools
				}
				change_variable = { 
					name = prod_tools_in_tools
					multiply = var:trade_resolve_trade_tt
				}
				change_variable = { 
					name = prod_tools_in_tools
					divide = 100
				}
				set_variable = { 
					name = trade_resolve_trade_ttt
					value = var:prod_tools_dmnd_tools
				}
				change_variable = { 
					name = trade_resolve_trade_ttt
					multiply = var:trade_resolve_trade_t
				}
				change_variable = { 
					name = prod_pay
					add = var:trade_resolve_trade_ttt
				}
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				if = { 
					limit = { 
						has_variable = pop_calorie_tools
						var:pop_calorie_tools > 0
					}
					set_variable = { 
						name = pop_calorie_actual_tools
						value = var:pop_calorie_tools
					}
					change_variable = { 
						name = pop_calorie_actual_tools
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_calorie_actual_tools
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_calorie_tools
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_calorie
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_calorie_actual_tools
				}
				if = { 
					limit = { 
						has_variable = pop_nutrient_tools
						var:pop_nutrient_tools > 0
					}
					set_variable = { 
						name = pop_nutrient_actual_tools
						value = var:pop_nutrient_tools
					}
					change_variable = { 
						name = pop_nutrient_actual_tools
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_nutrient_actual_tools
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_nutrient_tools
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_nutrient
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_nutrient_actual_tools
				}
				if = { 
					limit = { 
						has_variable = pop_comfort_tools
						var:pop_comfort_tools > 0
					}
					set_variable = { 
						name = pop_comfort_actual_tools
						value = var:pop_comfort_tools
					}
					change_variable = { 
						name = pop_comfort_actual_tools
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_comfort_actual_tools
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_comfort_tools
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_comfort
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_comfort_actual_tools
				}
				if = { 
					limit = { 
						has_variable = pop_luxury_tools
						var:pop_luxury_tools > 0
					}
					set_variable = { 
						name = pop_luxury_actual_tools
						value = var:pop_luxury_tools
					}
					change_variable = { 
						name = pop_luxury_actual_tools
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = pop_luxury_actual_tools
						divide = 100
					}
					set_variable = { 
						name = trade_resolve_trade_t
						value = var:pop_luxury_tools
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = prev.var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_luxury
						add = var:trade_resolve_trade_t
					}
				}
				else = { 
					remove_variable = pop_luxury_actual_tools
				}
				set_variable = { 
					name = trade_resolve_trade_t
					value = prev.var:trade_resolve_trade_t
				}
				set_variable = { 
					name = trade_resolve_trade_tt
					value = prev.var:trade_resolve_trade_tt
				}
				every_in_list = { 
					variable = prod_instances
					if = { 
						limit = { 
							has_variable = prod_dmnd_tools
						}
						set_variable = { 
							name = prod_in_tools
							value = var:prod_dmnd_tools
						}
						change_variable = { 
							name = prod_in_tools
							multiply = prev.var:trade_resolve_trade_tt
						}
						change_variable = { 
							name = prod_in_tools
							divide = 100
						}
						set_variable = { 
							name = prod_pay_tools
							value = var:prod_dmnd_tools
						}
						change_variable = { 
							name = prod_pay_tools
							multiply = prev.var:trade_resolve_trade_t
						}
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_tools
					}
					variable = build_slots
					set_variable = { 
						name = build_in_tools
						value = var:build_tools
					}
					change_variable = { 
						name = build_in_tools
						multiply = prev.var:trade_resolve_trade_tt
					}
					change_variable = { 
						name = build_in_tools
						divide = 100
					}
					set_variable = { 
						name = build_pay_tools
						value = var:build_tools
					}
					change_variable = { 
						name = build_pay_tools
						multiply = prev.var:trade_resolve_trade_t
					}
				}
			}
		}
		else = { 
			set_variable = { 
				name = prod_tools_in_tools
				value = 0
			}
			every_county_province = { 
				limit = { 
					is_valid_prov = yes
				}
				set_variable = { 
					name = pop_calorie_actual_tools
					value = 0
				}
				set_variable = { 
					name = pop_nutrient_actual_tools
					value = 0
				}
				set_variable = { 
					name = pop_comfort_actual_tools
					value = 0
				}
				set_variable = { 
					name = pop_luxury_actual_tools
					value = 0
				}
				every_in_list = { 
					limit = { 
						has_variable = prod_dmnd_tools
					}
					variable = prod_instances
					set_variable = { 
						name = prod_in_tools
						value = 0
					}
					set_variable = { 
						name = prod_pay_tools
						value = 0
					}
				}
				every_in_list = { 
					limit = { 
						has_variable = build_tools
					}
					variable = build_slots
					set_variable = { 
						name = build_in_tools
						value = 0
					}
					set_variable = { 
						name = build_pay_tools
						value = 0
					}
				}
			}
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		every_in_list = { 
			variable = prod_instances
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					add = prev.var:prod_size
				}
			}
		}
		every_in_list = { 
			variable = prod_instances
			set_variable = { 
				name = prod_tools_pay
				value = var:prod_size
			}
			change_variable = { 
				name = prod_tools_pay
				multiply = 100
			}
			change_variable = { 
				name = prod_tools_pay
				divide = prev.var:trade_resolve_trade_t
			}
			change_variable = { 
				name = prod_tools_pay
				multiply = prev.var:prod_pay
			}
			change_variable = { 
				name = prod_tools_pay
				divide = 100
			}
		}
		remove_variable = trade_resolve_trade_t
		remove_variable = trade_resolve_trade_tt
		remove_variable = trade_resolve_trade_ttt
	}
	every_in_global_list = { 
		variable = prod_instances
		set_variable = { 
			name = prod_pay_old
			value = var:prod_pay
		}
		set_variable = { 
			name = prod_earn_old
			value = var:prod_earn
		}
		set_variable = { 
			name = prod_pay
			value = 0
		}
		set_variable = { 
			name = prod_earn
			value = 0
		}
		if = { 
			limit = { 
				has_variable = prod_pay_food
				var:prod_pay_food > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_food
			}
		}
		else = { 
			remove_variable = prod_pay_food
		}
		if = { 
			limit = { 
				has_variable = prod_earn_food
				var:prod_earn_food > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_food
			}
		}
		else = { 
			remove_variable = prod_earn_food
		}
		if = { 
			limit = { 
				has_variable = prod_pay_cereal
				var:prod_pay_cereal > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_cereal
			}
		}
		else = { 
			remove_variable = prod_pay_cereal
		}
		if = { 
			limit = { 
				has_variable = prod_earn_cereal
				var:prod_earn_cereal > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_cereal
			}
		}
		else = { 
			remove_variable = prod_earn_cereal
		}
		if = { 
			limit = { 
				has_variable = prod_pay_salted
				var:prod_pay_salted > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_salted
			}
		}
		else = { 
			remove_variable = prod_pay_salted
		}
		if = { 
			limit = { 
				has_variable = prod_earn_salted
				var:prod_earn_salted > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_salted
			}
		}
		else = { 
			remove_variable = prod_earn_salted
		}
		if = { 
			limit = { 
				has_variable = prod_pay_salt
				var:prod_pay_salt > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_salt
			}
		}
		else = { 
			remove_variable = prod_pay_salt
		}
		if = { 
			limit = { 
				has_variable = prod_earn_salt
				var:prod_earn_salt > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_salt
			}
		}
		else = { 
			remove_variable = prod_earn_salt
		}
		if = { 
			limit = { 
				has_variable = prod_pay_mud
				var:prod_pay_mud > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_mud
			}
		}
		else = { 
			remove_variable = prod_pay_mud
		}
		if = { 
			limit = { 
				has_variable = prod_earn_mud
				var:prod_earn_mud > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_mud
			}
		}
		else = { 
			remove_variable = prod_earn_mud
		}
		if = { 
			limit = { 
				has_variable = prod_pay_fuel
				var:prod_pay_fuel > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_fuel
			}
		}
		else = { 
			remove_variable = prod_pay_fuel
		}
		if = { 
			limit = { 
				has_variable = prod_earn_fuel
				var:prod_earn_fuel > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_fuel
			}
		}
		else = { 
			remove_variable = prod_earn_fuel
		}
		if = { 
			limit = { 
				has_variable = prod_pay_fiber
				var:prod_pay_fiber > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_fiber
			}
		}
		else = { 
			remove_variable = prod_pay_fiber
		}
		if = { 
			limit = { 
				has_variable = prod_earn_fiber
				var:prod_earn_fiber > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_fiber
			}
		}
		else = { 
			remove_variable = prod_earn_fiber
		}
		if = { 
			limit = { 
				has_variable = prod_pay_timber
				var:prod_pay_timber > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_timber
			}
		}
		else = { 
			remove_variable = prod_pay_timber
		}
		if = { 
			limit = { 
				has_variable = prod_earn_timber
				var:prod_earn_timber > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_timber
			}
		}
		else = { 
			remove_variable = prod_earn_timber
		}
		if = { 
			limit = { 
				has_variable = prod_pay_metal
				var:prod_pay_metal > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_metal
			}
		}
		else = { 
			remove_variable = prod_pay_metal
		}
		if = { 
			limit = { 
				has_variable = prod_earn_metal
				var:prod_earn_metal > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_metal
			}
		}
		else = { 
			remove_variable = prod_earn_metal
		}
		if = { 
			limit = { 
				has_variable = prod_pay_exotics_w
				var:prod_pay_exotics_w > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_exotics_w
			}
		}
		else = { 
			remove_variable = prod_pay_exotics_w
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_w
				var:prod_earn_exotics_w > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_exotics_w
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_w
		}
		if = { 
			limit = { 
				has_variable = prod_pay_exotics_e
				var:prod_pay_exotics_e > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_exotics_e
			}
		}
		else = { 
			remove_variable = prod_pay_exotics_e
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_e
				var:prod_earn_exotics_e > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_exotics_e
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_e
		}
		if = { 
			limit = { 
				has_variable = prod_pay_exotics_g
				var:prod_pay_exotics_g > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_exotics_g
			}
		}
		else = { 
			remove_variable = prod_pay_exotics_g
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_g
				var:prod_earn_exotics_g > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_exotics_g
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_g
		}
		if = { 
			limit = { 
				has_variable = prod_pay_textile
				var:prod_pay_textile > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_textile
			}
		}
		else = { 
			remove_variable = prod_pay_textile
		}
		if = { 
			limit = { 
				has_variable = prod_earn_textile
				var:prod_earn_textile > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_textile
			}
		}
		else = { 
			remove_variable = prod_earn_textile
		}
		if = { 
			limit = { 
				has_variable = prod_pay_pottery
				var:prod_pay_pottery > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_pottery
			}
		}
		else = { 
			remove_variable = prod_pay_pottery
		}
		if = { 
			limit = { 
				has_variable = prod_earn_pottery
				var:prod_earn_pottery > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_pottery
			}
		}
		else = { 
			remove_variable = prod_earn_pottery
		}
		if = { 
			limit = { 
				has_variable = prod_pay_tools
				var:prod_pay_tools > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_pay_tools
			}
		}
		else = { 
			remove_variable = prod_pay_tools
		}
		if = { 
			limit = { 
				has_variable = prod_earn_tools
				var:prod_earn_tools > 0
			}
			change_variable = { 
				name = prod_earn
				add = var:prod_earn_tools
			}
		}
		else = { 
			remove_variable = prod_earn_tools
		}
		if = { 
			limit = { 
				has_variable = prod_tools_pay
				var:prod_tools_pay > 0
			}
			change_variable = { 
				name = prod_pay
				add = var:prod_tools_pay
			}
		}
		remove_variable = trade_resolve_trade_t
	}
	every_in_global_list = { 
		limit = { 
			has_variable = build_active
		}
		variable = build_slots
		set_variable = { 
			name = build_pay
			value = 0
		}
		if = { 
			limit = { 
				has_variable = build_pay_food
				var:build_pay_food > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_food
			}
		}
		else = { 
			remove_variable = build_pay_food
		}
		if = { 
			limit = { 
				has_variable = build_pay_cereal
				var:build_pay_cereal > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_cereal
			}
		}
		else = { 
			remove_variable = build_pay_cereal
		}
		if = { 
			limit = { 
				has_variable = build_pay_salted
				var:build_pay_salted > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_salted
			}
		}
		else = { 
			remove_variable = build_pay_salted
		}
		if = { 
			limit = { 
				has_variable = build_pay_salt
				var:build_pay_salt > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_salt
			}
		}
		else = { 
			remove_variable = build_pay_salt
		}
		if = { 
			limit = { 
				has_variable = build_pay_mud
				var:build_pay_mud > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_mud
			}
		}
		else = { 
			remove_variable = build_pay_mud
		}
		if = { 
			limit = { 
				has_variable = build_pay_fuel
				var:build_pay_fuel > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_fuel
			}
		}
		else = { 
			remove_variable = build_pay_fuel
		}
		if = { 
			limit = { 
				has_variable = build_pay_fiber
				var:build_pay_fiber > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_fiber
			}
		}
		else = { 
			remove_variable = build_pay_fiber
		}
		if = { 
			limit = { 
				has_variable = build_pay_timber
				var:build_pay_timber > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_timber
			}
		}
		else = { 
			remove_variable = build_pay_timber
		}
		if = { 
			limit = { 
				has_variable = build_pay_metal
				var:build_pay_metal > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_metal
			}
		}
		else = { 
			remove_variable = build_pay_metal
		}
		if = { 
			limit = { 
				has_variable = build_pay_exotics_w
				var:build_pay_exotics_w > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_exotics_w
			}
		}
		else = { 
			remove_variable = build_pay_exotics_w
		}
		if = { 
			limit = { 
				has_variable = build_pay_exotics_e
				var:build_pay_exotics_e > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_exotics_e
			}
		}
		else = { 
			remove_variable = build_pay_exotics_e
		}
		if = { 
			limit = { 
				has_variable = build_pay_exotics_g
				var:build_pay_exotics_g > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_exotics_g
			}
		}
		else = { 
			remove_variable = build_pay_exotics_g
		}
		if = { 
			limit = { 
				has_variable = build_pay_textile
				var:build_pay_textile > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_textile
			}
		}
		else = { 
			remove_variable = build_pay_textile
		}
		if = { 
			limit = { 
				has_variable = build_pay_pottery
				var:build_pay_pottery > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_pottery
			}
		}
		else = { 
			remove_variable = build_pay_pottery
		}
		if = { 
			limit = { 
				has_variable = build_pay_tools
				var:build_pay_tools > 0
			}
			change_variable = { 
				name = build_pay
				add = var:build_pay_tools
			}
		}
		else = { 
			remove_variable = build_pay_tools
		}
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = pop_pay_serf
			value = 0
		}
		set_variable = { 
			name = pop_pay_free
			value = 0
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = var:pop_pay_calorie
		}
		change_variable = { 
			name = trade_resolve_trade_t
			multiply = var:pop_free_calorie
		}
		change_variable = { 
			name = pop_pay_serf
			add = var:pop_pay_calorie
		}
		change_variable = { 
			name = pop_pay_serf
			subtract = var:trade_resolve_trade_t
		}
		change_variable = { 
			name = pop_pay_free
			add = var:trade_resolve_trade_t
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = var:pop_pay_nutrient
		}
		change_variable = { 
			name = trade_resolve_trade_t
			multiply = var:pop_free_nutrient
		}
		change_variable = { 
			name = pop_pay_serf
			add = var:pop_pay_nutrient
		}
		change_variable = { 
			name = pop_pay_serf
			subtract = var:trade_resolve_trade_t
		}
		change_variable = { 
			name = pop_pay_free
			add = var:trade_resolve_trade_t
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = var:pop_pay_comfort
		}
		change_variable = { 
			name = trade_resolve_trade_t
			multiply = var:pop_free_comfort
		}
		change_variable = { 
			name = pop_pay_serf
			add = var:pop_pay_comfort
		}
		change_variable = { 
			name = pop_pay_serf
			subtract = var:trade_resolve_trade_t
		}
		change_variable = { 
			name = pop_pay_free
			add = var:trade_resolve_trade_t
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = var:pop_pay_luxury
		}
		change_variable = { 
			name = trade_resolve_trade_t
			multiply = var:pop_free_luxury
		}
		change_variable = { 
			name = pop_pay_serf
			add = var:pop_pay_luxury
		}
		change_variable = { 
			name = pop_pay_serf
			subtract = var:trade_resolve_trade_t
		}
		change_variable = { 
			name = pop_pay_free
			add = var:trade_resolve_trade_t
		}
		every_in_list = { 
			limit = { 
				has_variable = build_pay
				var:build_pay > 0
			}
			variable = build_slots
			if = { 
				limit = { 
					var:build_owner = 1
				}
				prev = { 
					change_variable = { 
						name = pop_pay_serf
						add = prev.var:build_pay
					}
				}
			}
			else_if = { 
				limit = { 
					var:build_owner = 2
				}
				prev = { 
					change_variable = { 
						name = pop_pay_free
						add = prev.var:build_pay
					}
				}
			}
			else = { 
				prev = { 
					set_variable = { 
						name = trade_resolve_trade_t
						value = prev.var:build_pay
					}
					change_variable = { 
						name = trade_resolve_trade_t
						multiply = var:pop_freedom
					}
					change_variable = { 
						name = pop_pay_serf
						add = prev.var:build_pay
					}
					change_variable = { 
						name = pop_pay_serf
						subtract = var:trade_resolve_trade_t
					}
					change_variable = { 
						name = pop_pay_free
						add = var:trade_resolve_trade_t
					}
				}
			}
		}
		set_variable = { 
			name = trade_resolve_trade_t
			value = 0
		}
		if = { 
			limit = { 
				has_variable = prod_earn_food
				var:prod_earn_food > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_food
			}
		}
		else = { 
			remove_variable = prod_earn_food
		}
		if = { 
			limit = { 
				has_variable = prod_earn_cereal
				var:prod_earn_cereal > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_cereal
			}
		}
		else = { 
			remove_variable = prod_earn_cereal
		}
		if = { 
			limit = { 
				has_variable = prod_earn_salted
				var:prod_earn_salted > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_salted
			}
		}
		else = { 
			remove_variable = prod_earn_salted
		}
		if = { 
			limit = { 
				has_variable = prod_earn_salt
				var:prod_earn_salt > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_salt
			}
		}
		else = { 
			remove_variable = prod_earn_salt
		}
		if = { 
			limit = { 
				has_variable = prod_earn_mud
				var:prod_earn_mud > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_mud
			}
		}
		else = { 
			remove_variable = prod_earn_mud
		}
		if = { 
			limit = { 
				has_variable = prod_earn_fuel
				var:prod_earn_fuel > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_fuel
			}
		}
		else = { 
			remove_variable = prod_earn_fuel
		}
		if = { 
			limit = { 
				has_variable = prod_earn_fiber
				var:prod_earn_fiber > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_fiber
			}
		}
		else = { 
			remove_variable = prod_earn_fiber
		}
		if = { 
			limit = { 
				has_variable = prod_earn_timber
				var:prod_earn_timber > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_timber
			}
		}
		else = { 
			remove_variable = prod_earn_timber
		}
		if = { 
			limit = { 
				has_variable = prod_earn_metal
				var:prod_earn_metal > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_metal
			}
		}
		else = { 
			remove_variable = prod_earn_metal
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_w
				var:prod_earn_exotics_w > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_exotics_w
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_w
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_e
				var:prod_earn_exotics_e > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_exotics_e
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_e
		}
		if = { 
			limit = { 
				has_variable = prod_earn_exotics_g
				var:prod_earn_exotics_g > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_exotics_g
			}
		}
		else = { 
			remove_variable = prod_earn_exotics_g
		}
		if = { 
			limit = { 
				has_variable = prod_earn_textile
				var:prod_earn_textile > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_textile
			}
		}
		else = { 
			remove_variable = prod_earn_textile
		}
		if = { 
			limit = { 
				has_variable = prod_earn_pottery
				var:prod_earn_pottery > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_pottery
			}
		}
		else = { 
			remove_variable = prod_earn_pottery
		}
		if = { 
			limit = { 
				has_variable = prod_earn_tools
				var:prod_earn_tools > 0
			}
			change_variable = { 
				name = trade_resolve_trade_t
				add = var:prod_earn_tools
			}
		}
		else = { 
			remove_variable = prod_earn_tools
		}
		every_in_list = { 
			variable = prod_instances
			prev = { 
				change_variable = { 
					name = trade_resolve_trade_t
					subtract = prev.var:prod_pay
				}
			}
		}
		set_variable = { 
			name = pop_earn_free
			value = var:pop_freedom
		}
		change_variable = { 
			name = pop_earn_free
			multiply = var:trade_resolve_trade_t
		}
		set_variable = { 
			name = pop_earn_serf
			value = var:trade_resolve_trade_t
		}
		change_variable = { 
			name = pop_earn_serf
			subtract = var:pop_earn_free
		}
		remove_variable = trade_resolve_trade_t
		remove_variable = trade_resolve_trade_tt
	}
	every_in_global_list = { 
		variable = trade_merchants
		set_variable = { 
			name = trade_earn
			value = 0
		}
		set_variable = { 
			name = trade_pay
			value = 0
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_food
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_food
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_cereal
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_cereal
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_salted
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_salted
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_salt
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_salt
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_mud
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_mud
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_fuel
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_fuel
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_fiber
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_fiber
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_timber
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_timber
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_metal
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_metal
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_exotics_w
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_exotics_w
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_exotics_e
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_exotics_e
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_exotics_g
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_exotics_g
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_textile
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_textile
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_pottery
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_pottery
		}
		change_variable = { 
			name = trade_earn
			add = var:trade_earn_tools
		}
		change_variable = { 
			name = trade_pay
			add = var:trade_pay_tools
		}
	}
	every_in_global_list = { 
		variable = trade_merchants
		change_variable = { 
			name = trade_want_food
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_food
			add = var:trade_out_food
		}
		change_variable = { 
			name = trade_want_food
			add = 0.125
		}
		change_variable = { 
			name = trade_has_food
			add = var:trade_in_food
		}
		change_variable = { 
			name = trade_has_food
			subtract = var:trade_out_food
		}
		if = { 
			limit = { 
				has_variable = trade_has_food
				var:trade_has_food > 0
				var:trade_has_food = { 
					compare_value > prev.var:trade_want_food
				}
			}
			set_variable = { 
				name = trade_want_food
				value = var:trade_has_food
			}
		}
		change_variable = { 
			name = trade_want_cereal
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_cereal
			add = var:trade_out_cereal
		}
		change_variable = { 
			name = trade_want_cereal
			add = 0.125
		}
		change_variable = { 
			name = trade_has_cereal
			add = var:trade_in_cereal
		}
		change_variable = { 
			name = trade_has_cereal
			subtract = var:trade_out_cereal
		}
		if = { 
			limit = { 
				has_variable = trade_has_cereal
				var:trade_has_cereal > 0
				var:trade_has_cereal = { 
					compare_value > prev.var:trade_want_cereal
				}
			}
			set_variable = { 
				name = trade_want_cereal
				value = var:trade_has_cereal
			}
		}
		change_variable = { 
			name = trade_want_salted
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_salted
			add = var:trade_out_salted
		}
		change_variable = { 
			name = trade_want_salted
			add = 0.125
		}
		change_variable = { 
			name = trade_has_salted
			add = var:trade_in_salted
		}
		change_variable = { 
			name = trade_has_salted
			subtract = var:trade_out_salted
		}
		if = { 
			limit = { 
				has_variable = trade_has_salted
				var:trade_has_salted > 0
				var:trade_has_salted = { 
					compare_value > prev.var:trade_want_salted
				}
			}
			set_variable = { 
				name = trade_want_salted
				value = var:trade_has_salted
			}
		}
		change_variable = { 
			name = trade_want_salt
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_salt
			add = var:trade_out_salt
		}
		change_variable = { 
			name = trade_want_salt
			add = 0.125
		}
		change_variable = { 
			name = trade_has_salt
			add = var:trade_in_salt
		}
		change_variable = { 
			name = trade_has_salt
			subtract = var:trade_out_salt
		}
		if = { 
			limit = { 
				has_variable = trade_has_salt
				var:trade_has_salt > 0
				var:trade_has_salt = { 
					compare_value > prev.var:trade_want_salt
				}
			}
			set_variable = { 
				name = trade_want_salt
				value = var:trade_has_salt
			}
		}
		change_variable = { 
			name = trade_want_mud
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_mud
			add = var:trade_out_mud
		}
		change_variable = { 
			name = trade_want_mud
			add = 0.125
		}
		change_variable = { 
			name = trade_has_mud
			add = var:trade_in_mud
		}
		change_variable = { 
			name = trade_has_mud
			subtract = var:trade_out_mud
		}
		if = { 
			limit = { 
				has_variable = trade_has_mud
				var:trade_has_mud > 0
				var:trade_has_mud = { 
					compare_value > prev.var:trade_want_mud
				}
			}
			set_variable = { 
				name = trade_want_mud
				value = var:trade_has_mud
			}
		}
		change_variable = { 
			name = trade_want_fuel
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_fuel
			add = var:trade_out_fuel
		}
		change_variable = { 
			name = trade_want_fuel
			add = 0.125
		}
		change_variable = { 
			name = trade_has_fuel
			add = var:trade_in_fuel
		}
		change_variable = { 
			name = trade_has_fuel
			subtract = var:trade_out_fuel
		}
		if = { 
			limit = { 
				has_variable = trade_has_fuel
				var:trade_has_fuel > 0
				var:trade_has_fuel = { 
					compare_value > prev.var:trade_want_fuel
				}
			}
			set_variable = { 
				name = trade_want_fuel
				value = var:trade_has_fuel
			}
		}
		change_variable = { 
			name = trade_want_fiber
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_fiber
			add = var:trade_out_fiber
		}
		change_variable = { 
			name = trade_want_fiber
			add = 0.125
		}
		change_variable = { 
			name = trade_has_fiber
			add = var:trade_in_fiber
		}
		change_variable = { 
			name = trade_has_fiber
			subtract = var:trade_out_fiber
		}
		if = { 
			limit = { 
				has_variable = trade_has_fiber
				var:trade_has_fiber > 0
				var:trade_has_fiber = { 
					compare_value > prev.var:trade_want_fiber
				}
			}
			set_variable = { 
				name = trade_want_fiber
				value = var:trade_has_fiber
			}
		}
		change_variable = { 
			name = trade_want_timber
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_timber
			add = var:trade_out_timber
		}
		change_variable = { 
			name = trade_want_timber
			add = 0.125
		}
		change_variable = { 
			name = trade_has_timber
			add = var:trade_in_timber
		}
		change_variable = { 
			name = trade_has_timber
			subtract = var:trade_out_timber
		}
		if = { 
			limit = { 
				has_variable = trade_has_timber
				var:trade_has_timber > 0
				var:trade_has_timber = { 
					compare_value > prev.var:trade_want_timber
				}
			}
			set_variable = { 
				name = trade_want_timber
				value = var:trade_has_timber
			}
		}
		change_variable = { 
			name = trade_want_metal
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_metal
			add = var:trade_out_metal
		}
		change_variable = { 
			name = trade_want_metal
			add = 0.125
		}
		change_variable = { 
			name = trade_has_metal
			add = var:trade_in_metal
		}
		change_variable = { 
			name = trade_has_metal
			subtract = var:trade_out_metal
		}
		if = { 
			limit = { 
				has_variable = trade_has_metal
				var:trade_has_metal > 0
				var:trade_has_metal = { 
					compare_value > prev.var:trade_want_metal
				}
			}
			set_variable = { 
				name = trade_want_metal
				value = var:trade_has_metal
			}
		}
		change_variable = { 
			name = trade_want_exotics_w
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_exotics_w
			add = var:trade_out_exotics_w
		}
		change_variable = { 
			name = trade_want_exotics_w
			add = 0.125
		}
		change_variable = { 
			name = trade_has_exotics_w
			add = var:trade_in_exotics_w
		}
		change_variable = { 
			name = trade_has_exotics_w
			subtract = var:trade_out_exotics_w
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_w
				var:trade_has_exotics_w > 0
				var:trade_has_exotics_w = { 
					compare_value > prev.var:trade_want_exotics_w
				}
			}
			set_variable = { 
				name = trade_want_exotics_w
				value = var:trade_has_exotics_w
			}
		}
		change_variable = { 
			name = trade_want_exotics_e
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_exotics_e
			add = var:trade_out_exotics_e
		}
		change_variable = { 
			name = trade_want_exotics_e
			add = 0.125
		}
		change_variable = { 
			name = trade_has_exotics_e
			add = var:trade_in_exotics_e
		}
		change_variable = { 
			name = trade_has_exotics_e
			subtract = var:trade_out_exotics_e
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_e
				var:trade_has_exotics_e > 0
				var:trade_has_exotics_e = { 
					compare_value > prev.var:trade_want_exotics_e
				}
			}
			set_variable = { 
				name = trade_want_exotics_e
				value = var:trade_has_exotics_e
			}
		}
		change_variable = { 
			name = trade_want_exotics_g
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_exotics_g
			add = var:trade_out_exotics_g
		}
		change_variable = { 
			name = trade_want_exotics_g
			add = 0.125
		}
		change_variable = { 
			name = trade_has_exotics_g
			add = var:trade_in_exotics_g
		}
		change_variable = { 
			name = trade_has_exotics_g
			subtract = var:trade_out_exotics_g
		}
		if = { 
			limit = { 
				has_variable = trade_has_exotics_g
				var:trade_has_exotics_g > 0
				var:trade_has_exotics_g = { 
					compare_value > prev.var:trade_want_exotics_g
				}
			}
			set_variable = { 
				name = trade_want_exotics_g
				value = var:trade_has_exotics_g
			}
		}
		change_variable = { 
			name = trade_want_textile
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_textile
			add = var:trade_out_textile
		}
		change_variable = { 
			name = trade_want_textile
			add = 0.125
		}
		change_variable = { 
			name = trade_has_textile
			add = var:trade_in_textile
		}
		change_variable = { 
			name = trade_has_textile
			subtract = var:trade_out_textile
		}
		if = { 
			limit = { 
				has_variable = trade_has_textile
				var:trade_has_textile > 0
				var:trade_has_textile = { 
					compare_value > prev.var:trade_want_textile
				}
			}
			set_variable = { 
				name = trade_want_textile
				value = var:trade_has_textile
			}
		}
		change_variable = { 
			name = trade_want_pottery
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_pottery
			add = var:trade_out_pottery
		}
		change_variable = { 
			name = trade_want_pottery
			add = 0.125
		}
		change_variable = { 
			name = trade_has_pottery
			add = var:trade_in_pottery
		}
		change_variable = { 
			name = trade_has_pottery
			subtract = var:trade_out_pottery
		}
		if = { 
			limit = { 
				has_variable = trade_has_pottery
				var:trade_has_pottery > 0
				var:trade_has_pottery = { 
					compare_value > prev.var:trade_want_pottery
				}
			}
			set_variable = { 
				name = trade_want_pottery
				value = var:trade_has_pottery
			}
		}
		change_variable = { 
			name = trade_want_tools
			multiply = 0.875
		}
		change_variable = { 
			name = trade_want_tools
			add = var:trade_out_tools
		}
		change_variable = { 
			name = trade_want_tools
			add = 0.125
		}
		change_variable = { 
			name = trade_has_tools
			add = var:trade_in_tools
		}
		change_variable = { 
			name = trade_has_tools
			subtract = var:trade_out_tools
		}
		if = { 
			limit = { 
				has_variable = trade_has_tools
				var:trade_has_tools > 0
				var:trade_has_tools = { 
					compare_value > prev.var:trade_want_tools
				}
			}
			set_variable = { 
				name = trade_want_tools
				value = var:trade_has_tools
			}
		}
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_food
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_food
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_food
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_food
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_food
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_food
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_food
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_food
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_food
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_food
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_food
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_food
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_food > 50
			}
			set_variable = { 
				name = trade_price_food
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_food < 0.5
			}
			set_variable = { 
				name = trade_price_food
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_cereal
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_cereal
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_cereal
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_cereal
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_cereal
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_cereal
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_cereal
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_cereal
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_cereal
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_cereal
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_cereal
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_cereal
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_cereal > 50
			}
			set_variable = { 
				name = trade_price_cereal
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_cereal < 0.5
			}
			set_variable = { 
				name = trade_price_cereal
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_salted
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_salted
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_salted
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_salted
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salted
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salted
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salted
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salted
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salted
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salted
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salted
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salted
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_salted > 50
			}
			set_variable = { 
				name = trade_price_salted
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_salted < 0.5
			}
			set_variable = { 
				name = trade_price_salted
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_salt
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_salt
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_salt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_salt
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salt
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salt
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salt
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salt
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salt
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salt
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_salt
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_salt
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_salt > 50
			}
			set_variable = { 
				name = trade_price_salt
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_salt < 0.5
			}
			set_variable = { 
				name = trade_price_salt
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_mud
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_mud
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_mud
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_mud
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_mud
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_mud
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_mud
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_mud
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_mud
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_mud
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_mud
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_mud
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_mud > 50
			}
			set_variable = { 
				name = trade_price_mud
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_mud < 0.5
			}
			set_variable = { 
				name = trade_price_mud
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_fuel
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_fuel
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_fuel
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_fuel
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fuel
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fuel
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fuel
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fuel
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fuel
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fuel
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fuel
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fuel
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_fuel > 50
			}
			set_variable = { 
				name = trade_price_fuel
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_fuel < 0.5
			}
			set_variable = { 
				name = trade_price_fuel
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_fiber
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_fiber
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_fiber
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_fiber
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fiber
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fiber
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fiber
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fiber
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fiber
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fiber
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_fiber
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_fiber
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_fiber > 50
			}
			set_variable = { 
				name = trade_price_fiber
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_fiber < 0.5
			}
			set_variable = { 
				name = trade_price_fiber
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_timber
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_timber
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_timber
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_timber
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_timber
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_timber
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_timber
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_timber
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_timber
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_timber
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_timber
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_timber
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_timber > 50
			}
			set_variable = { 
				name = trade_price_timber
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_timber < 0.5
			}
			set_variable = { 
				name = trade_price_timber
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_metal
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_metal
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_metal
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_metal
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_metal
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_metal
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_metal
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_metal
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_metal
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_metal
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_metal
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_metal
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_metal > 50
			}
			set_variable = { 
				name = trade_price_metal
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_metal < 0.5
			}
			set_variable = { 
				name = trade_price_metal
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_exotics_w
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_exotics_w
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_exotics_w
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_exotics_w
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_w
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_w
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_w
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_w
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_w
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_w
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_w
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_w
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_w > 50
			}
			set_variable = { 
				name = trade_price_exotics_w
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_w < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_w
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_exotics_e
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_exotics_e
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_exotics_e
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_exotics_e
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_e
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_e
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_e
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_e
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_e
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_e
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_e
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_e
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_e > 50
			}
			set_variable = { 
				name = trade_price_exotics_e
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_e < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_e
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_exotics_g
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_exotics_g
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_exotics_g
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_exotics_g
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_g
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_g
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_g
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_g
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_g
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_g
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_exotics_g
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_exotics_g
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_g > 50
			}
			set_variable = { 
				name = trade_price_exotics_g
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_g < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_g
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_textile
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_textile
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_textile
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_textile
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_textile
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_textile
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_textile
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_textile
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_textile
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_textile
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_textile
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_textile
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_textile > 50
			}
			set_variable = { 
				name = trade_price_textile
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_textile < 0.5
			}
			set_variable = { 
				name = trade_price_textile
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_pottery
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_pottery
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_pottery
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_pottery
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_pottery
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_pottery
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_pottery
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_pottery
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_pottery
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_pottery
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_pottery
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_pottery
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_pottery > 50
			}
			set_variable = { 
				name = trade_price_pottery
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_pottery < 0.5
			}
			set_variable = { 
				name = trade_price_pottery
				value = 0.5
			}
		}
		set_variable = { 
			name = trade_update_price_tt
			value = var:trade_sply_tools
		}
		change_variable = { 
			name = trade_update_price_tt
			subtract = var:trade_dmnd_tools
		}
		if = { 
			limit = { 
				has_variable = trade_update_price_tt
				var:trade_update_price_tt != 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_out_tools
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_in_tools
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 100
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_update_price_tt
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = 80
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_tt > 0
					}
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_tools
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_tools
							divide = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_tools
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_tools
							multiply = 100
						}
					}
				}
				else = { 
					if = { 
						limit = { 
							var:trade_update_price_t > 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = 10
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_tools
							divide = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_tools
							multiply = 100
						}
					}
					else = { 
						limit = { 
							var:trade_update_price_t < 0
						}
						change_variable = { 
							name = trade_update_price_t
							divide = -20
						}
						change_variable = { 
							name = trade_update_price_t
							add = 100
						}
						change_variable = { 
							name = trade_price_tools
							multiply = var:trade_update_price_t
						}
						change_variable = { 
							name = trade_price_tools
							divide = 100
						}
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_tools > 50
			}
			set_variable = { 
				name = trade_price_tools
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_tools < 0.5
			}
			set_variable = { 
				name = trade_price_tools
				value = 0.5
			}
		}
		remove_variable = trade_update_price_t
		remove_variable = trade_update_price_tt
	}
	every_in_global_list = { 
		variable = trade_merchants
		if = { 
			limit = { 
				has_variable = trade_want_food
				var:trade_want_food > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_food
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_food
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_food
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_food
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_food
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_food > 50
			}
			set_variable = { 
				name = trade_price_food
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_food < 0.5
			}
			set_variable = { 
				name = trade_price_food
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_cereal
				var:trade_want_cereal > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_cereal
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_cereal
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_cereal
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_cereal
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_cereal
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_cereal > 50
			}
			set_variable = { 
				name = trade_price_cereal
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_cereal < 0.5
			}
			set_variable = { 
				name = trade_price_cereal
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_salted
				var:trade_want_salted > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_salted
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_salted
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_salted
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_salted
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_salted
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_salted > 50
			}
			set_variable = { 
				name = trade_price_salted
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_salted < 0.5
			}
			set_variable = { 
				name = trade_price_salted
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_salt
				var:trade_want_salt > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_salt
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_salt
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_salt
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_salt
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_salt
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_salt > 50
			}
			set_variable = { 
				name = trade_price_salt
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_salt < 0.5
			}
			set_variable = { 
				name = trade_price_salt
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_mud
				var:trade_want_mud > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_mud
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_mud
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_mud
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_mud
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_mud
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_mud > 50
			}
			set_variable = { 
				name = trade_price_mud
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_mud < 0.5
			}
			set_variable = { 
				name = trade_price_mud
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_fuel
				var:trade_want_fuel > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_fuel
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_fuel
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_fuel
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_fuel
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_fuel
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_fuel > 50
			}
			set_variable = { 
				name = trade_price_fuel
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_fuel < 0.5
			}
			set_variable = { 
				name = trade_price_fuel
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_fiber
				var:trade_want_fiber > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_fiber
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_fiber
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_fiber
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_fiber
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_fiber
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_fiber > 50
			}
			set_variable = { 
				name = trade_price_fiber
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_fiber < 0.5
			}
			set_variable = { 
				name = trade_price_fiber
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_timber
				var:trade_want_timber > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_timber
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_timber
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_timber
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_timber
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_timber
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_timber > 50
			}
			set_variable = { 
				name = trade_price_timber
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_timber < 0.5
			}
			set_variable = { 
				name = trade_price_timber
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_metal
				var:trade_want_metal > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_metal
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_metal
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_metal
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_metal
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_metal
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_metal > 50
			}
			set_variable = { 
				name = trade_price_metal
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_metal < 0.5
			}
			set_variable = { 
				name = trade_price_metal
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_exotics_w
				var:trade_want_exotics_w > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_exotics_w
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_exotics_w
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_exotics_w
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_w
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_w
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_w > 50
			}
			set_variable = { 
				name = trade_price_exotics_w
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_w < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_w
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_exotics_e
				var:trade_want_exotics_e > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_exotics_e
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_exotics_e
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_exotics_e
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_e
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_e
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_e > 50
			}
			set_variable = { 
				name = trade_price_exotics_e
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_e < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_e
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_exotics_g
				var:trade_want_exotics_g > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_exotics_g
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_exotics_g
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_exotics_g
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_g
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_exotics_g
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_exotics_g > 50
			}
			set_variable = { 
				name = trade_price_exotics_g
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_exotics_g < 0.5
			}
			set_variable = { 
				name = trade_price_exotics_g
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_textile
				var:trade_want_textile > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_textile
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_textile
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_textile
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_textile
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_textile
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_textile > 50
			}
			set_variable = { 
				name = trade_price_textile
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_textile < 0.5
			}
			set_variable = { 
				name = trade_price_textile
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_pottery
				var:trade_want_pottery > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_pottery
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_pottery
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_pottery
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_pottery
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_pottery
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_pottery > 50
			}
			set_variable = { 
				name = trade_price_pottery
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_pottery < 0.5
			}
			set_variable = { 
				name = trade_price_pottery
				value = 0.5
			}
		}
		if = { 
			limit = { 
				has_variable = trade_want_tools
				var:trade_want_tools > 0
			}
			set_variable = { 
				name = trade_update_price_t
				value = var:trade_has_tools
			}
			change_variable = { 
				name = trade_update_price_t
				multiply = 2
			}
			change_variable = { 
				name = trade_update_price_t
				subtract = var:trade_want_tools
			}
			change_variable = { 
				name = trade_update_price_t
				divide = var:trade_want_tools
			}
			change_variable = { 
				name = trade_update_price_t
				divide = 25
			}
			if = { 
				limit = { 
					has_variable = trade_update_price_t
					var:trade_update_price_t != 0
				}
				if = { 
					limit = { 
						var:trade_update_price_t > 0
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_tools
						divide = var:trade_update_price_t
					}
				}
				else = { 
					change_variable = { 
						name = trade_update_price_t
						multiply = -1
					}
					change_variable = { 
						name = trade_update_price_t
						add = 1
					}
					change_variable = { 
						name = trade_price_tools
						multiply = var:trade_update_price_t
					}
				}
			}
		}
		if = { 
			limit = { 
				var:trade_price_tools > 50
			}
			set_variable = { 
				name = trade_price_tools
				value = 50
			}
		}
		else_if = { 
			limit = { 
				var:trade_price_tools < 0.5
			}
			set_variable = { 
				name = trade_price_tools
				value = 0.5
			}
		}
		remove_variable = trade_update_price_t
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		set_variable = { 
			name = pop_calorie
			value = 0
		}
		set_variable = { 
			name = pop_nutrient
			value = 0
		}
		set_variable = { 
			name = pop_comfort
			value = 0
		}
		set_variable = { 
			name = pop_luxury
			value = 0
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_food
				var:pop_calorie_actual_food > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_food
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_food
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_food
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_food
				var:pop_nutrient_actual_food > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_food
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_food
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_food
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_food
				var:pop_comfort_actual_food > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_food
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_food
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_food
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_food
				var:pop_luxury_actual_food > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_food
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_food
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_food
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_cereal
				var:pop_calorie_actual_cereal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_cereal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_cereal
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_cereal
				var:pop_nutrient_actual_cereal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_cereal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_cereal
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_cereal
				var:pop_comfort_actual_cereal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_cereal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_cereal
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_cereal
				var:pop_luxury_actual_cereal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_cereal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_cereal
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_cereal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_salted
				var:pop_calorie_actual_salted > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_salted
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_salted
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_salted
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_salted
				var:pop_nutrient_actual_salted > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_salted
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_salted
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_salted
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_salted
				var:pop_comfort_actual_salted > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_salted
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_salted
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_salted
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_salted
				var:pop_luxury_actual_salted > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_salted
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_salted
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_salted
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_salt
				var:pop_calorie_actual_salt > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_salt
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_salt
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_salt
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_salt
				var:pop_nutrient_actual_salt > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_salt
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_salt
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_salt
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_salt
				var:pop_comfort_actual_salt > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_salt
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_salt
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_salt
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_salt
				var:pop_luxury_actual_salt > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_salt
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_salt
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_salt
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_mud
				var:pop_calorie_actual_mud > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_mud
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_mud
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_mud
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_mud
				var:pop_nutrient_actual_mud > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_mud
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_mud
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_mud
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_mud
				var:pop_comfort_actual_mud > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_mud
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_mud
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_mud
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_mud
				var:pop_luxury_actual_mud > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_mud
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_mud
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_mud
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_fuel
				var:pop_calorie_actual_fuel > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_fuel
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_fuel
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_fuel
				var:pop_nutrient_actual_fuel > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_fuel
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_fuel
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_fuel
				var:pop_comfort_actual_fuel > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_fuel
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_fuel
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_fuel
				var:pop_luxury_actual_fuel > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_fuel
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_fuel
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_fuel
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_fiber
				var:pop_calorie_actual_fiber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_fiber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_fiber
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_fiber
				var:pop_nutrient_actual_fiber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_fiber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_fiber
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_fiber
				var:pop_comfort_actual_fiber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_fiber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_fiber
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_fiber
				var:pop_luxury_actual_fiber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_fiber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_fiber
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_fiber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_timber
				var:pop_calorie_actual_timber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_timber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_timber
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_timber
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_timber
				var:pop_nutrient_actual_timber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_timber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_timber
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_timber
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_timber
				var:pop_comfort_actual_timber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_timber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_timber
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_timber
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_timber
				var:pop_luxury_actual_timber > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_timber
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_timber
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_timber
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_metal
				var:pop_calorie_actual_metal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_metal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_metal
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_metal
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_metal
				var:pop_nutrient_actual_metal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_metal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_metal
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_metal
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_metal
				var:pop_comfort_actual_metal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_metal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_metal
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_metal
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_metal
				var:pop_luxury_actual_metal > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_metal
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_metal
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_metal
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_exotics_w
				var:pop_calorie_actual_exotics_w > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_exotics_w
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_exotics_w
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_exotics_w
				var:pop_nutrient_actual_exotics_w > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_exotics_w
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_exotics_w
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_exotics_w
				var:pop_comfort_actual_exotics_w > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_exotics_w
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_exotics_w
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_exotics_w
				var:pop_luxury_actual_exotics_w > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_exotics_w
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_exotics_w
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_exotics_w
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_exotics_e
				var:pop_calorie_actual_exotics_e > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_exotics_e
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_exotics_e
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_exotics_e
				var:pop_nutrient_actual_exotics_e > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_exotics_e
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_exotics_e
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_exotics_e
				var:pop_comfort_actual_exotics_e > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_exotics_e
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_exotics_e
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_exotics_e
				var:pop_luxury_actual_exotics_e > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_exotics_e
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_exotics_e
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_exotics_e
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_exotics_g
				var:pop_calorie_actual_exotics_g > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_exotics_g
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_exotics_g
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_exotics_g
				var:pop_nutrient_actual_exotics_g > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_exotics_g
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_exotics_g
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_exotics_g
				var:pop_comfort_actual_exotics_g > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_exotics_g
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_exotics_g
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_exotics_g
				var:pop_luxury_actual_exotics_g > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_exotics_g
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_exotics_g
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_exotics_g
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_textile
				var:pop_calorie_actual_textile > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_textile
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_textile
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_textile
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_textile
				var:pop_nutrient_actual_textile > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_textile
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_textile
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_textile
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_textile
				var:pop_comfort_actual_textile > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_textile
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_textile
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_textile
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_textile
				var:pop_luxury_actual_textile > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_textile
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_textile
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_textile
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_pottery
				var:pop_calorie_actual_pottery > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_pottery
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_pottery
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_pottery
				var:pop_nutrient_actual_pottery > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_pottery
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_pottery
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_pottery
				var:pop_comfort_actual_pottery > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_pottery
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_pottery
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_pottery
				var:pop_luxury_actual_pottery > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_pottery
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_pottery
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_pottery
		}
		if = { 
			limit = { 
				has_variable = pop_calorie_actual_tools
				var:pop_calorie_actual_tools > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_calorie_actual_tools
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_calorie_tools
			}
			change_variable = { 
				name = pop_calorie
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_calorie_actual_tools
		}
		if = { 
			limit = { 
				has_variable = pop_nutrient_actual_tools
				var:pop_nutrient_actual_tools > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_nutrient_actual_tools
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_nutrient_tools
			}
			change_variable = { 
				name = pop_nutrient
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_nutrient_actual_tools
		}
		if = { 
			limit = { 
				has_variable = pop_comfort_actual_tools
				var:pop_comfort_actual_tools > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_comfort_actual_tools
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_comfort_tools
			}
			change_variable = { 
				name = pop_comfort
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_comfort_actual_tools
		}
		if = { 
			limit = { 
				has_variable = pop_luxury_actual_tools
				var:pop_luxury_actual_tools > 0
			}
			set_variable = { 
				name = pop_resolve_demand_t
				value = var:pop_luxury_actual_tools
			}
			change_variable = { 
				name = pop_resolve_demand_t
				multiply = pop_luxury_tools
			}
			change_variable = { 
				name = pop_luxury
				add = var:pop_resolve_demand_t
			}
		}
		else = { 
			remove_variable = pop_luxury_actual_tools
		}
		change_variable = { 
			name = pop_calorie
			divide = var:pop_total
		}
		change_variable = { 
			name = pop_nutrient
			divide = var:pop_total
		}
		change_variable = { 
			name = pop_comfort
			divide = var:pop_total
		}
		change_variable = { 
			name = pop_luxury
			divide = var:pop_total
		}
		change_variable = { 
			name = pop_calorie
			divide = this.county.var:modi_pop_calorie
		}
		change_variable = { 
			name = pop_nutrient
			divide = this.county.var:modi_pop_nutrient
		}
		change_variable = { 
			name = pop_comfort
			divide = this.county.var:modi_pop_comfort
		}
		change_variable = { 
			name = pop_luxury
			divide = this.county.var:modi_pop_luxury
		}
		remove_variable = pop_resolve_demand_t
		change_variable = { 
			name = pop_wealth
			add = var:pop_earn_free
		}
		change_variable = { 
			name = pop_wealth
			add = var:pop_earn_serf
		}
		change_variable = { 
			name = pop_wealth
			subtract = var:pop_pay_free
		}
		change_variable = { 
			name = pop_wealth
			subtract = var:pop_pay_serf
		}
		if = { 
			limit = { 
				has_variable = trade_merchant
			}
			change_variable = { 
				name = pop_wealth
				add = var:trade_merchant.var:trade_earn
			}
			change_variable = { 
				name = pop_wealth
				subtract = var:trade_merchant.var:trade_pay
			}
		}
	}
	debug_log = "Logging Start"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_wealth
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total Wealth: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp_s
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp_s
				add = var:t_disp_t
			}
		}
	}
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_calorie
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average Calorie: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_nutrient
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average Nutrient: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_comfort
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average Comfort: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:pop_luxury
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average Luxury: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_food
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average food Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_food
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_food
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_food
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_food
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total food Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_food
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_food
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total food Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_food
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_food
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total food Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_food
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_food
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total food Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_cereal
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average cereal Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_cereal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_cereal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_cereal
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_cereal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total cereal Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_cereal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_cereal
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total cereal Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_cereal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_cereal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total cereal Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_cereal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_cereal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total cereal Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_salted
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average salted Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_salted
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_salted
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_salted
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_salted
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salted Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_salted
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_salted
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salted Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_salted
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_salted
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salted Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_salted
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_salted
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salted Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_salt
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average salt Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_salt
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_salt
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_salt
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_salt
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salt Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_salt
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_salt
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salt Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_salt
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_salt
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salt Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_salt
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_salt
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total salt Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_mud
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average mud Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_mud
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_mud
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_mud
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_mud
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total mud Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_mud
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_mud
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total mud Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_mud
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_mud
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total mud Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_mud
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_mud
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total mud Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_fuel
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average fuel Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_fuel
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_fuel
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_fuel
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_fuel
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fuel Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_fuel
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_fuel
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fuel Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_fuel
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_fuel
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fuel Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_fuel
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_fuel
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fuel Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_fiber
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average fiber Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_fiber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_fiber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_fiber
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_fiber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fiber Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_fiber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_fiber
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fiber Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_fiber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_fiber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fiber Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_fiber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_fiber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total fiber Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_timber
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average timber Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_timber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_timber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_timber
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_timber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total timber Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_timber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_timber
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total timber Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_timber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_timber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total timber Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_timber
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_timber
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total timber Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_metal
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average metal Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_metal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_metal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_metal
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_metal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total metal Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_metal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_metal
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total metal Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_metal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_metal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total metal Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_metal
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_metal
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total metal Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average exotics_w Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_exotics_w
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_exotics_w
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_w Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_exotics_w
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_w Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_exotics_w
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_w Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_exotics_w
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_exotics_w
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_w Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average exotics_e Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_exotics_e
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_exotics_e
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_e Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_exotics_e
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_e Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_exotics_e
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_e Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_exotics_e
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_exotics_e
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_e Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average exotics_g Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_exotics_g
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_exotics_g
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_g Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_exotics_g
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_g Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_exotics_g
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_g Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_exotics_g
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_exotics_g
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total exotics_g Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_textile
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average textile Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_textile
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_textile
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_textile
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_textile
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total textile Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_textile
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_textile
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total textile Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_textile
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_textile
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total textile Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_textile
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_textile
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total textile Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_pottery
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average pottery Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_pottery
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_pottery
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_pottery
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_pottery
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total pottery Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_pottery
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_pottery
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total pottery Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_pottery
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_pottery
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total pottery Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_pottery
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_pottery
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total pottery Revenue: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.county.var:trade_price_tools
			}
			change_variable = { 
				name = t_disp_t
				multiply = prev.var:pop_total
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	change_variable = { 
		name = t_disp
		divide = var:t_disp_s
	}
	debug_log = "Average tools Price: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_has_tools
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_has_tools
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	every_in_global_list = { 
		limit = { 
			has_variable = trade_has_tools
		}
		variable = trade_merchants
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_has_tools
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total tools Stockpile: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_sum_sply_tools
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_sum_sply_tools
			}
			change_variable = { 
				name = t_disp_t
				divide = 400
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total tools Supply: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_county = { 
		limit = { 
			is_valid_prov = yes
			has_variable = trade_dmnd_tools
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:trade_dmnd_tools
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total tools Demand: [THIS.Var('t_disp').GetValue]"
	set_variable = { 
		name = t_disp
		value = 0
	}
	every_province = { 
		limit = { 
			is_valid_prov = yes
			has_variable = prod_earn_tools
		}
		prev = { 
			set_variable = { 
				name = t_disp_t
				value = prev.var:prod_earn_tools
			}
			change_variable = { 
				name = t_disp_t
				divide = 100
			}
			change_variable = { 
				name = t_disp
				add = var:t_disp_t
			}
		}
	}
	debug_log = "Total tools Revenue: [THIS.Var('t_disp').GetValue]"
	debug_log = "Logging End"
}
